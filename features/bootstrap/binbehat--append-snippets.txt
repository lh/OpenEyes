rich-mac:OpenEyes pragnesh$ bin/behat --append-snippets 
@testo
Feature: Coding only

  Scenario: Route 4: Login and create a new Therapy Application (Queens Site, Anderson Medical Retinal)                                 # features/bootstrap/Features/CODINGONLY.feature:4
    Right Diagnosis: (Coates Disease)
    Treatment: PDT
    NON COMPLIANT
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "4"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Therapy"                                                                                                     # AddingNewEventContext::iAddANewEvent()
    And I select a Right Side Diagnosis of "360455002"                                                                                  # TherapyApplicationContext::iSelectARightSideDiagnosisOf()
    Then I select a Right Treatment of "4"                                                                                              # TherapyApplicationContext::iSelectARightTreatmentOf()
    And I select a Right Patient has CNV of No                                                                                          # TherapyApplicationContext::iSelectARightPatientHasCnvOfNo()
    Then I select Right Cerebrovascular accident Yes                                                                                    # TherapyApplicationContext::iSelectCerebrovascularAccidentYes()
    Then I select Right Ischaemic attack No                                                                                             # TherapyApplicationContext::iSelectIschaemicAttackNo()
    Then I select Right Myocardial infarction Yes                                                                                       # TherapyApplicationContext::iSelectMyocardialInfarctionYes()
    And I select a Right Consultant of "4"
    And I select an Intended Site of "1"                                                                                                # TherapyApplicationContext::iSelectAnIntendedSiteOf()
    Then I select a Right Standard Intervention Exists of Yes                                                                           # TherapyApplicationContext::iSelectAStandardInterventionExistsOfYes()
    And I choose a Right Standard Intervention of "4"                                                                                   # TherapyApplicationContext::iChooseAStandardInterventionOf()
    And I select a Right Standard Intervention Previous of No                                                                           # TherapyApplicationContext::iSelectAStandardInterventionPreviousOfNo()
    Then I select Right Instead of the standard (Deviation)                                                                             # TherapyApplicationContext::iSelectInsteadOfTheStandardDeviation()
    And I add Right details of deviation of "Deviation Details Comment box"                                                             # TherapyApplicationContext::iAddDetailsOfDeviationOf()
    Then I choose a Right reason for not using standard intervention of "2"                                                             # TherapyApplicationContext::iChooseAReasonForNotUsingStandardInterventionOf()
    Then I add Right How is the patient different to others of "How is the patient significantly different to others comments?"         # TherapyApplicationContext::iAddHowIsThePatientDifferentToOthersOf()
    And I add Right How is the patient likely to gain benefit "How is the patient likely to gain more benefit than otherwise comments?" # TherapyApplicationContext::iAddHowIsThePatientLikelyToGainBenefit()
    Then I select Right Patient Factors No                                                                                              # TherapyApplicationContext::iSelectPatientFactorsNo()
    And I add Right Patient Expectations of "Patient Expectations comments"                                                             # TherapyApplicationContext::iAddPatientExpectationsOf()
    Then I add Right Anticipated Start Date of "3"                                                                                      # TherapyApplicationContext::iAddAnticipatedStartDateOf()
    Then I Save the Therapy Application and confirm it has been created successfully                                                    # TherapyApplicationContext::iSaveTheTherapyApplication()

@editdelete @regression
Feature: These tests set up Events, Edit and Delete them.

  Scenario: Route 1A: Login and create a Anaesthetic Satisfaction Audit Regression: Site 2 Kings, Firm 3 Anderson Glaucoma              # features/bootstrap/Features/Edits.feature:4
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Satisfaction"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select an Anaesthetist "no"                                                                                                  # AnaestheticAuditContext::iSelectAnAnaesthetist()
    And I select Satisfaction levels of Pain "2" Nausea "3"                                                                             # AnaestheticAuditContext::iSelectSatisfactionLevelsOfPainNausea()
    And I tick the Vomited checkbox                                                                                                     # AnaestheticAuditContext::iTickTheVomitedCheckbox()
    Then I select Vital Signs of Respiratory Rate "3" Oxygen Saturation "3" Systolic Blood Pressure "4"                                 # AnaestheticAuditContext::iSelectVitalSigns()
    And I select Vital Signs of Body Temperature "5" and Heart Rate "2" Conscious Level AVPU "2"                                        # AnaestheticAuditContext::iSelectVitalSignsTemp()
    Then I enter Comments "This test is for Site 2 Kings, Firm 3 Anderson Glaucoma"                                                     # AnaestheticAuditContext::iEnterComments()
    And I select the Yes option for Ready to Discharge                                                                                  # AnaestheticAuditContext::iSelectTheYesOptionForReadyToDischarge()
    Then I Save the Event                                                                                                               # AnaestheticAuditContext::iSaveTheEvent()

  Scenario: Route 1B: Edit previously created ASA from Route1A                                                                          # features/bootstrap/Features/Edits.feature:32
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I edit the Last Event                                                                                                           # AnaestheticAuditContext::iEditTheLastEvent()
    Then I select an Anaesthetist "non"                                                                                                 # AnaestheticAuditContext::iSelectAnAnaesthetist()
    And I select Satisfaction levels of Pain "4" Nausea "1"                                                                             # AnaestheticAuditContext::iSelectSatisfactionLevelsOfPainNausea()
    And I untick the Vomited checkbox                                                                                                   # AnaestheticAuditContext::iUntickTheVomitedCheckbox()
    Then I select Vital Signs of Respiratory Rate "4" Oxygen Saturation "1" Systolic Blood Pressure "5"                                 # AnaestheticAuditContext::iSelectVitalSigns()
    And I select Vital Signs of Body Temperature "1" and Heart Rate "5" Conscious Level AVPU "5"                                        # AnaestheticAuditContext::iSelectVitalSignsTemp()
    Then I enter Comments "Route 1 ASA Edit and Save Test"                                                                              # AnaestheticAuditContext::iEnterComments()
    And I select the No option for Ready to Discharge                                                                                   # AnaestheticAuditContext::iSelectTheNoOptionForReadToDischarge()
    Then I Save the Event                                                                                                               # AnaestheticAuditContext::iSaveTheEvent()

  Scenario: Route 1C: Delete previously created/edited ASA from Route1A/1B                                                              # features/bootstrap/Features/Edits.feature:59
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I delete the Last Event                                                                                                         # AnaestheticAuditContext::iDeleteTheLastEvent()

  Scenario: Route 2A: Login and create a new Consent Form                                                                               # features/bootstrap/Features/Edits.feature:72
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Consent"                                                                                                     # AddingNewEventContext::iAddANewEvent()
    Then I select Unbooked Procedures                                                                                                   # ConsentFormContext::iSelectUnbookedProcedures()
    Then I select Add Consent Form                                                                                                      # ConsentFormContext::iSelectAddConsentForm()
    And I choose Type "1"                                                                                                               # ConsentFormContext::iChooseType()
    Then I choose Procedure eye of "Both"                                                                                               # ConsentFormContext::iChooseProcedureEyeOf()
    And I choose an Anaesthetic type of LA                                                                                              # ConsentFormContext::iChooseAnAnaestheticTypeOf()
    And I add a common procedure of "127"                                                                                               # ConsentFormContext::iAddACommonProcedureOf()
    Then I choose Permissions for images No                                                                                             # ConsentFormContext::iChoosePermissionsForImages()
    Then I save the Consent Form and confirm it has been created successfully                                                           # ConsentFormContext::iSaveTheConsentFormAndConfirm()

  Scenario: Route 2B: Edit previously created Consent from Route2A                                                                      # features/bootstrap/Features/Edits.feature:97
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I edit the Last Event                                                                                                           # AnaestheticAuditContext::iEditTheLastEvent()
    And I choose Type "2"                                                                                                               # ConsentFormContext::iChooseType()
    Then I choose Procedure eye of "Right"                                                                                              # ConsentFormContext::iChooseProcedureEyeOf()
    And I choose an Anaesthetic type of LAC                                                                                             # ConsentFormContext::iChooseAnAnaestheticTypeOfLAC()
    Then I choose Permissions for images No                                                                                             # ConsentFormContext::iChoosePermissionsForImages()
    Then I save the Consent Form                                                                                                        # ConsentFormContext::iSaveTheConsentForm()

  Scenario: Route 2C: Delete previously created/edited Consent From from Route2A/2B                                                     # features/bootstrap/Features/Edits.feature:119
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I delete the Last Event                                                                                                         # AnaestheticAuditContext::iDeleteTheLastEvent()

  Scenario: Route 3A: Login and create a Phasing Event                                                                                  # features/bootstrap/Features/Edits.feature:132
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465 "                                                                                        # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Phasing"                                                                                                     # AddingNewEventContext::iAddANewEvent()
    Then I choose a right eye Intraocular Pressure Instrument  of "1"                                                                   # PhasingContext::RightEyeIntraocular()
    And I choose right eye Dilation of Yes                                                                                              # PhasingContext::iChooseRightEyeDilationYes()
    Then I choose a right eye Intraocular Pressure Reading Time of "14:00"                                                              # PhasingContext::iChooseARightEyeIntraocularPressureReadingTimeOf()
    Then I choose a right eye Intraocular Pressure Reading of "5"                                                                       # PhasingContext::iChooseARightEyeIntraocularPressureReadingOf()
    And I add right eye comments of "Right eye comments here"                                                                           # PhasingContext::iAddRightEyeCommentsOf()
    Then I choose a left eye Intraocular Pressure Instrument  of "5"                                                                    # PhasingContext::iChooseALeftEyeIntraocularPressureInstrumentOf()
    And I choose left eye Dilation of Yes                                                                                               # PhasingContext::iChooseLeftEyeDilationYes()
    Then I choose a left eye Intraocular Pressure Reading Time of "14:42"                                                               # PhasingContext::iChooseALeftEyeIntraocularPressureReadingTimeOf()
    Then I choose a left eye Intraocular Pressure Reading of "7"                                                                        # PhasingContext::iChooseALeftEyeIntraocularPressureReadingOf()
    And I add left eye comments of "Left eye comments here"                                                                             # PhasingContext::iAddLeftEyeCommentsOf()
    Then I Save the Phasing Event                                                                                                       # PhasingContext::iSaveThePhasingEvent()

  Scenario: Route 3B: Edit previously edited Phasing from Route 3A                                                                      # features/bootstrap/Features/Edits.feature:164
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I edit the Last Event                                                                                                           # AnaestheticAuditContext::iEditTheLastEvent()
    Then I choose a right eye Intraocular Pressure Instrument  of "3"                                                                   # PhasingContext::RightEyeIntraocular()
    And I choose right eye Dilation of No                                                                                               # PhasingContext::iChooseRightEyeDilationNo()
    Then I choose a right eye Intraocular Pressure Reading Time of "21:00"                                                              # PhasingContext::iChooseARightEyeIntraocularPressureReadingTimeOf()
    Then I choose a right eye Intraocular Pressure Reading of "14"                                                                      # PhasingContext::iChooseARightEyeIntraocularPressureReadingOf()
    And I add right eye comments of "Right eye comments here"                                                                           # PhasingContext::iAddRightEyeCommentsOf()
    Then I choose a left eye Intraocular Pressure Instrument  of "4"                                                                    # PhasingContext::iChooseALeftEyeIntraocularPressureInstrumentOf()
    And I choose left eye Dilation of Yes                                                                                               # PhasingContext::iChooseLeftEyeDilationYes()
    Then I choose a left eye Intraocular Pressure Reading Time of "04:42"                                                               # PhasingContext::iChooseALeftEyeIntraocularPressureReadingTimeOf()
    Then I choose a left eye Intraocular Pressure Reading of "12"                                                                       # PhasingContext::iChooseALeftEyeIntraocularPressureReadingOf()
    And I add left eye comments of "Left eye comments here"                                                                             # PhasingContext::iAddLeftEyeCommentsOf()
    Then I Save the Phasing Event                                                                                                       # PhasingContext::iSaveThePhasingEvent()

  Scenario: Route 3C: Delete previously created/edited Phasing From from Route3A/3B                                                     # features/bootstrap/Features/Edits.feature:195
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I delete the Last Event                                                                                                         # AnaestheticAuditContext::iDeleteTheLastEvent()

  Scenario: Route 4A: Login and fill in a Correspondence                                                                                # features/bootstrap/Features/Edits.feature:208
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select Create or View Episodes and Events                                                                                    # PatientViewContext::CreateOrViewEpisodesAndEvents()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Correspondence"                                                                                              # AddingNewEventContext::iAddANewEvent()
    Then I select Site ID "1"                                                                                                           # CorrespondenceContext::iSelectSiteId()
    And I select Address Target "Gp1"                                                                                                   # CorrespondenceContext::iSelectAddressTarget()
    Then I choose a Macro of "site1"                                                                                                    # CorrespondenceContext::iChooseAMacroOf()
    And I select Clinic Date "7"                                                                                                        # CorrespondenceContext::iSelectClinicDate()
    And I choose CC Target "Patient19434"                                                                                               # CorrespondenceContext::iChooseCcTarget()
    Given I add a New Enclosure of "Test Enclosure"                                                                                     # CorrespondenceContext::iAddANewEnclosure()
    Then I Save the Correspondence Draft and confirm it has been created successfully                                                   # CorrespondenceContext::iSaveTheCorrespondenceDraftAndConfirm()

  Scenario: Route 4B: Edit previously edited Correspondence from Route 4A                                                               # features/bootstrap/Features/Edits.feature:234
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I edit the Last Event                                                                                                           # AnaestheticAuditContext::iEditTheLastEvent()
    Then I select Site ID "2"                                                                                                           # CorrespondenceContext::iSelectSiteId()
    And I select Address Target "Patient19434"                                                                                          # CorrespondenceContext::iSelectAddressTarget()
    And I select Clinic Date "11"                                                                                                       # CorrespondenceContext::iSelectClinicDate()
    And I choose CC Target "Gp1"                                                                                                        # CorrespondenceContext::iChooseCcTarget()
    Given I add a New Enclosure of "Test Enclosure EDIT"                                                                                # CorrespondenceContext::iAddANewEnclosure()
    Then I Save the Correspondence Draft                                                                                                # CorrespondenceContext::iSaveTheCorrespondenceDraft()

  Scenario: Route 4C: Delete previously created/edited Correspondence From from Route 4A/4B                                             # features/bootstrap/Features/Edits.feature:258
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I delete the Last Event                                                                                                         # AnaestheticAuditContext::iDeleteTheLastEvent()

  Scenario: Route 5A: Login and create a New Intravitreal Event                                                                         # features/bootstrap/Features/Edits.feature:271
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Intravitreal"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select Add Left Side                                                                                                         # IntravitrealContext::iSelectAddLeftSide()
    Then I choose Right Anaesthetic Type of Topical                                                                                     # IntravitrealContext::RightAnaestheticTopical()
    Then I choose Right Anaesthetic Type of LA                                                                                          # IntravitrealContext::RightAnaestheticLa()
    Then I choose Right Anaesthetic Delivery of Retrobulbar                                                                             # IntravitrealContext::RightAnaestheticRetrobulbar()
    And I choose Right Anaesthetic Agent "5"                                                                                            # IntravitrealContext::RightAnaestheticAgent()
    Then I choose Left Anaesthetic Type of Topical                                                                                      # IntravitrealContext::LeftAnaestheticTypeOfTopical()
    Then I choose Left Anaesthetic Type of LA                                                                                           # IntravitrealContext::LeftAnaestheticTypeOfLa()
    Then I choose Left Anaesthetic Delivery of Retrobulbar                                                                              # IntravitrealContext::LeftAnaestheticDeliveryOfRetrobulbar()
    And I choose Left Anaesthetic Agent "1"                                                                                             # IntravitrealContext::LeftAnaestheticAgent()
    Then I choose Right Pre Injection Antiseptic "1"                                                                                    # IntravitrealContext::RightPreInjectionAntiseptic()
    Then I choose Right Pre Injection Skin Cleanser "2"                                                                                 # IntravitrealContext::RightPreInjectionSkinCleanser()
    And I tick the Right Pre Injection IOP Lowering Drops checkbox                                                                      # IntravitrealContext::TickRightPreInjectionIopLoweringDropsCheckbox()
    Then I choose Right Pre Injection IOP Lowering Drops "1"                                                                            # IntravitrealContext::iChooseRightPreInjectionIopLoweringDrops()
    Then I choose Right Drug "7"                                                                                                        # IntravitrealContext::iChooseRightDrug()
    And I enter "2" number of Right injections                                                                                          # IntravitrealContext::NumberOfRightInjections()
    Then I enter Right batch number "123"                                                                                               # IntravitrealContext::RightBatchNumber()
    Then I choose Right Injection Given By "1"                                                                                          # IntravitrealContext::RightInjectionGivenBy()
    And I enter a Right Injection time of "09:30"                                                                                       # IntravitrealContext::RightInjectionTimeOf()
    Then I choose Left Pre Injection Antiseptic "1"                                                                                     # IntravitrealContext::LeftPreInjectionAntiseptic()
    Then I choose Left Pre Injection Skin Cleanser "2"                                                                                  # IntravitrealContext::LeftPreInjectionSkinCleanser()
    And I tick the Left Pre Injection IOP Lowering Drops checkbox                                                                       # IntravitrealContext::LeftPreInjectionIopLoweringDropsCheckbox()
    Then I choose Left Pre Injection IOP Lowering Drops "1"                                                                             # IntravitrealContext::iChooseLeftPreInjectionIopLoweringDrops()
    Then I choose Left Drug "7"                                                                                                         # IntravitrealContext::iChooseLeftDrug()
    And I enter "2" number of Left injections                                                                                           # IntravitrealContext::NumberOfLeftInjections()
    Then I enter Left batch number "123"                                                                                                # IntravitrealContext::iLeftBatchNumber()
    Then I choose Left Injection Given By "1"                                                                                           # IntravitrealContext::LeftInjectionGivenBy()
    And I enter a Left Injection time of "09:30"                                                                                        # IntravitrealContext::iEnterALeftInjectionTimeOf()
    Then I choose A Right Lens Status of "1"                                                                                            # IntravitrealContext::RightLensStatusOf()
    And I choose Right Counting Fingers Checked Yes                                                                                     # IntravitrealContext::RightCountingFingersCheckedYes()
    And I choose Right IOP Needs to be Checked No                                                                                       # IntravitrealContext::RightIopNeedsToBeCheckedNo()
    Then I choose Right Post Injection Drops "1"                                                                                        # IntravitrealContext::RightPostInjectionDrops()
    Then I choose A Left Lens Status of "1"                                                                                             # IntravitrealContext::iChooseALeftLensStatusOf()
    And I choose Left Counting Fingers Checked Yes                                                                                      # IntravitrealContext::LeftCountingFingersCheckedYes()
    And I choose Left IOP Needs to be Checked No                                                                                        # IntravitrealContext::LeftIopNeedsToBeCheckedNo()
    Then I choose Left Post Injection Drops "1"                                                                                         # IntravitrealContext::iChooseLeftPostInjectionDrops()
    And I select Right Complications "5"                                                                                                # IntravitrealContext::RightComplications()
    And I select Left Complications "5"                                                                                                 # IntravitrealContext::LeftComplications()
    Then I Save the Intravitreal injection                                                                                              # IntravitrealContext::iSaveTheIntravitrealInjection()

  Scenario: Route 5B: Edit previously edited Intravitreal from Route 5A                                                                 # features/bootstrap/Features/Edits.feature:341
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I edit the Last Event                                                                                                           # AnaestheticAuditContext::iEditTheLastEvent()
    Then I choose Right Pre Injection Antiseptic "1"                                                                                    # IntravitrealContext::RightPreInjectionAntiseptic()
    Then I choose Right Pre Injection Skin Cleanser "1"                                                                                 # IntravitrealContext::RightPreInjectionSkinCleanser()
    Then I choose Right Drug "7"                                                                                                        # IntravitrealContext::iChooseRightDrug()
    And I enter "2" number of Right injections                                                                                          # IntravitrealContext::NumberOfRightInjections()
    Then I enter Right batch number "567"                                                                                               # IntravitrealContext::RightBatchNumber()
    Then I choose Right Injection Given By "1"                                                                                          # IntravitrealContext::RightInjectionGivenBy()
    And I enter a Right Injection time of "09:30"                                                                                       # IntravitrealContext::RightInjectionTimeOf()
    Then I choose Left Pre Injection Antiseptic "1"                                                                                     # IntravitrealContext::LeftPreInjectionAntiseptic()
    Then I choose Left Pre Injection Skin Cleanser "2"                                                                                  # IntravitrealContext::LeftPreInjectionSkinCleanser()
    Then I choose Left Drug "2"                                                                                                         # IntravitrealContext::iChooseLeftDrug()
    And I enter "1" number of Left injections                                                                                           # IntravitrealContext::NumberOfLeftInjections()
    Then I enter Left batch number "789"                                                                                                # IntravitrealContext::iLeftBatchNumber()
    Then I choose Left Injection Given By "3"                                                                                           # IntravitrealContext::LeftInjectionGivenBy()
    And I enter a Left Injection time of "09:30"                                                                                        # IntravitrealContext::iEnterALeftInjectionTimeOf()
    Then I choose A Right Lens Status of "1"                                                                                            # IntravitrealContext::RightLensStatusOf()
    And I choose Right Counting Fingers Checked No                                                                                      # IntravitrealContext::RightCountingFingersCheckedNo()
    And I choose Right IOP Needs to be Checked Yes                                                                                      # IntravitrealContext::RightIopNeedsToBeCheckedYes()
    Then I choose Right Post Injection Drops "1"                                                                                        # IntravitrealContext::RightPostInjectionDrops()
    Then I choose A Left Lens Status of "2"                                                                                             # IntravitrealContext::iChooseALeftLensStatusOf()
    And I choose Left Counting Fingers Checked Yes                                                                                      # IntravitrealContext::LeftCountingFingersCheckedYes()
    And I choose Left IOP Needs to be Checked No                                                                                        # IntravitrealContext::LeftIopNeedsToBeCheckedNo()
    Then I choose Left Post Injection Drops "2"                                                                                         # IntravitrealContext::iChooseLeftPostInjectionDrops()
    And I select Right Complications "2"                                                                                                # IntravitrealContext::RightComplications()
    And I select Left Complications "2"                                                                                                 # IntravitrealContext::LeftComplications()
    Then I Save the Intravitreal injection                                                                                              # IntravitrealContext::iSaveTheIntravitrealInjection()

  Scenario: Route 5C: Delete previously created/edited Correspondence From from Route 5A/5B                                             # features/bootstrap/Features/Edits.feature:393
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I delete the Last Event                                                                                                         # AnaestheticAuditContext::iDeleteTheLastEvent()

  Scenario: Route 6A: Login and create a new Examination Event: Site 1:Queens, Firm:1 Anderson Cataract                                 # features/bootstrap/Features/Edits.feature:406
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Examination"                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I select a History of Blurred Vision, Mild Severity, Onset 1 Week, Left Eye, 1 Week                                            # ExaminationContext::iSelectAHistoryOfBlurredVision()
    And I choose to expand the Comorbidities section                                                                                    # ExaminationContext::iChooseToExpandTheComorbiditiesSection()
    Then I Add a Comorbiditiy of "4"                                                                                                    # ExaminationContext::iAddAComorbiditiyOf()
    Then I choose to expand the Visual Function section                                                                                 # ExaminationContext::iChooseToExpandTheVisualFunctionSection()
    Then I select a Left RAPD                                                                                                           # ExaminationContext::iSelectALeftRapd()
    And I add Left RAPD comments of "Left RAPD Automation test comments"                                                                # ExaminationContext::iAddLeftRapdCommentsOf()
    Then I select a Right RAPD                                                                                                          # ExaminationContext::iSelectARightRapd()
    And I add Right RAPD comments of "Left RAPD Automation test comments"                                                               # ExaminationContext::iAddRightRapdCommentsOf()
    Then I choose to expand the Colour Vision section                                                                                   # ExaminationContext::iChooseToExpandTheColourVisionSection()
    And I choose a Left Colour Vision of "1"                                                                                            # ExaminationContext::iChooseALeftColourVisionOf()
    And I choose A Left Colour Vision Value of "8"                                                                                      # ExaminationContext::iChooseALeftColourVisionValueOf()
    And I choose a Right Colour Vision of "2"                                                                                           # ExaminationContext::iChooseARightColourVisionOf()
    And I choose A Right Colour Vision Value of "4"                                                                                     # ExaminationContext::iChooseARightColourVisionValueOf()
    Then I choose to expand the Visual Acuity section                                                                                   # ExaminationContext::iChooseToExpandTheVisualAcuitySection()
    And I select a Visual Acuity of "2"                                                                                                 # ExaminationContext::iSelectAVisualAcuityOf()
    Then I choose a left Visual Acuity Snellen Metre "4" and a reading method of "5"                                                    # ExaminationContext::SnellenMetreAndAReading()
    Then I choose a right Visual Acuity Snellen Metre "4" and a reading method of "5"                                                   # ExaminationContext::RightVisualAcuitySnellenMetre()
    Then I choose to expand the Intraocular Pressure section                                                                            # ExaminationContext::iChooseToExpandTheIntraocularPressureSection()
    Then I choose a left Intraocular Pressure of "19" and Instrument "2"                                                                # ExaminationContext::iChooseALeftIntraocularPressureOfAndInstrument()
    Then I choose a right Intraocular Pressure of "29" and Instrument "2"                                                               # ExaminationContext::iChooseARightIntraocularPressureOfAndInstrument()
    Then I choose to expand the Dilation section                                                                                        # ExaminationContext::iChooseToExpandTheDilationSection()
    Then I choose left Dilation of "2" and drops of "5"                                                                                 # ExaminationContext::iChooseLeftDilationOfAndDropsOf()
    Then I choose right Dilation of "6" and drops of "3"                                                                                # ExaminationContext::iChooseRightDilationOfAndDropsOf()
    Then I choose to expand the Refraction section                                                                                      # ExaminationContext::iChooseToExpandTheRefractionSection()
    Then I enter left Refraction details of Sphere "1" integer "6" fraction "0.75"                                                      # ExaminationContext::LeftRefractionDetails()
    And I enter left cylinder details of of Cylinder "-1" integer "7" fraction "0.75"                                                   # ExaminationContext::iEnterLeftCylinderDetails()
    And I enter a left type of "5"                                                                                                      # ExaminationContext::iEnterALeftTypeOf()
    Then I enter left Axis degrees of "38"                                                                                              # ExaminationContext::iEnterLeftAxisDegreesOf()
    Then I enter right Refraction details of Sphere "1" integer "3" fraction "0.50"                                                     # ExaminationContext::iEnterRightRefractionDetailsOfSphereIntegerFraction()
    And I enter right cylinder details of of Cylinder "-1" integer "4" fraction "0.25"                                                  # ExaminationContext::iEnterRightCylinderDetailsOfOfCylinderIntegerFraction()
    Then I enter right Axis degrees of "145"                                                                                            # ExaminationContext::iEnterRightAxisDegreesOf()
    And I enter a right type of "1"                                                                                                     # ExaminationContext::iEnterARightTypeOf()
    Then I choose to expand the Conclusion section                                                                                      # ExaminationContext::iChooseToExpandTheConclusionSection()
    And I choose a Conclusion option of "booked for first eye, "                                                                        # ExaminationContext::iChooseAConclusionOptionOf()
    Then I Save the Examination and confirm it has been created successfully                                                            # ExaminationContext::iSaveTheExaminationAndConfirm()

  Scenario: Route 6B: Edit previously created Examination Event: Site 1:Queens, Firm:1 Anderson Cataract                                # features/bootstrap/Features/Edits.feature:467
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I edit the Last Event                                                                                                           # AnaestheticAuditContext::iEditTheLastEvent()
    And I choose to expand the Comorbidities section                                                                                    # ExaminationContext::iChooseToExpandTheComorbiditiesSection()
    Then I Add a Comorbiditiy of "2"                                                                                                    # ExaminationContext::iAddAComorbiditiyOf()
    Then I choose to expand the Dilation section                                                                                        # ExaminationContext::iChooseToExpandTheDilationSection()
    Then I choose left Dilation of "1" and drops of "4"                                                                                 # ExaminationContext::iChooseLeftDilationOfAndDropsOf()
    Then I choose right Dilation of "1" and drops of "2"                                                                                # ExaminationContext::iChooseRightDilationOfAndDropsOf()
    Then I Save the Examination                                                                                                         # ExaminationContext::iSaveTheExamination()

  Scenario: Route 6C: Delete previously created/edited Examination From from Route 6A/6B                                                # features/bootstrap/Features/Edits.feature:489
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I delete the Last Event                                                                                                         # AnaestheticAuditContext::iDeleteTheLastEvent()

  Scenario: Route 7A: Login and create a Laser event                                                                                    # features/bootstrap/Features/Edits.feature:502
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Laser"                                                                                                       # AddingNewEventContext::iAddANewEvent()
    Then I select a Laser site ID "1"                                                                                                   # LaserContext::iSelectALaserSiteId()
    And I select a Laser of "2"                                                                                                         # LaserContext::iSelectALaserOf()
    And I select a Laser Operator of "2"                                                                                                # LaserContext::iSelectALaserSurgeonOf()
    Then I select a Right Procedure of "62"                                                                                             # LaserContext::iSelectARightProcedureOf()
    Then I select a Left Procedure of "363"                                                                                             # LaserContext::iSelectALeftProcedureOf()
    Then I save the Laser Event                                                                                                         # LaserContext::iSaveTheLaserEvent()

  Scenario: Route 7B: Edit previously created Laser event                                                                               # features/bootstrap/Features/Edits.feature:523
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I edit the Last Event                                                                                                           # AnaestheticAuditContext::iEditTheLastEvent()
    And I select a Laser Operator of "3"                                                                                                # LaserContext::iSelectALaserSurgeonOf()
    Then I select a Right Procedure of "370"                                                                                            # LaserContext::iSelectARightProcedureOf()
    Then I select a Left Procedure of "176"                                                                                             # LaserContext::iSelectALeftProcedureOf()
    Then I save the Laser Event                                                                                                         # LaserContext::iSaveTheLaserEvent()

  Scenario: Route 7C: Delete previously created/edited Laser From from Route 7A/7B                                                      # features/bootstrap/Features/Edits.feature:542
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I delete the Last Event                                                                                                         # AnaestheticAuditContext::iDeleteTheLastEvent()

  Scenario: 8A Login and create a new Prescription                                                                                      # features/bootstrap/Features/Edits.feature:555
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Prescription"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select a Common Drug "75"                                                                                                    # PrescriptionContext::iSelectACommonDrug()
    Then I enter a Dose of "2" drops                                                                                                    # PrescriptionContext::iEnterADoseOfDrops()
    And I enter a route of "1"                                                                                                          # PrescriptionContext::iEnterARouteOf()
    And I enter a frequency of "4"                                                                                                      # PrescriptionContext::iEnterAFrequencyOf()
    Then I enter a duration of "1"                                                                                                      # PrescriptionContext::iEnterADurationOf()
    Then I enter a eyes option "1"                                                                                                      # PrescriptionContext::iEnterAEyesOption()
    Then I Save the Prescription Draft and confirm it has been created successfully                                                     # PrescriptionContext::iSaveThePrescriptionDraft()

  Scenario: 8B Login and edit previously created new Prescription                                                                       # features/bootstrap/Features/Edits.feature:580
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I edit the Last Event                                                                                                           # AnaestheticAuditContext::iEditTheLastEvent()
    Then I enter a Dose of "4" drops                                                                                                    # PrescriptionContext::iEnterADoseOfDrops()
    And I enter a route of "8"                                                                                                          # PrescriptionContext::iEnterARouteOf()
    And I enter a frequency of "4"                                                                                                      # PrescriptionContext::iEnterAFrequencyOf()
    Then I enter a duration of "3"                                                                                                      # PrescriptionContext::iEnterADurationOf()
    Then I Save the Prescription Draft                                                                                                  # PrescriptionContext::iSaveThePrescription()

  Scenario: Route 8C: Delete previously created/edited Prescription From from Route 8A/8B                                               # features/bootstrap/Features/Edits.feature:601
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I delete the Last Event                                                                                                         # AnaestheticAuditContext::iDeleteTheLastEvent()

  Scenario: Route 9A: Login and create a Operation Booking Anderson Glaucoma                                                            # features/bootstrap/Features/Edits.feature:614
    Given I am logged in as "admin" with site "Kings" and firm "Anderson Firm (Glaucoma)"                                               # LoginContext::iAmLoggedInWithSiteAndFirm()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "OpBooking"                                                                                                   # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Left"                                                                                              # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "30041005"                                                                                              # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Left"                                                                                              # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "41"                                                                                                    # OperationBookingContext::iSelectAProcedureOf()
    Then I select No to Consultant required                                                                                             # OperationBookingContext::iSelectNoToConsultantRequired()
    And I select "No" for "Any other doctor to do"                                                                                      # FeatureContext::selectOption()
    And I select "No" for "Does the patient require pre-op assessment by an anaesthetist"                                               # FeatureContext::selectOption()
    And I select a Anaesthetic type "Topical"                                                                                           # OperationBookingContext::iSelectAAnaestheticType()
    And I select "Patient preference" for "Anaesthetic choice"                                                                          # FeatureContext::selectOption()
    And I select "No" for "Patient needs to stop medication"                                                                            # FeatureContext::selectOption()
    Then I select Yes to a Post Operative Stay                                                                                          # OperationBookingContext::iSelectYesToAPostOperativeStay()
    Then I select No to a Post Operative Stay                                                                                           # OperationBookingContext::iSelectNoToAPostOperativeStay()
    And I select a Operation Site of "1"                                                                                                # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Urgent                                                                                                  # OperationBookingContext::iSelectAPriorityOfUrgent()
    And I select a decision date of "14"                                                                                                # OperationBookingContext::iSelectADecisionDateOf()
    And I select "Yes" for "Admission discussed with patient"                                                                           # FeatureContext::selectOption()
    And I select "As soon as possible" for "Schedule options"                                                                           # FeatureContext::selectOption()
    Then I select Save and Schedule now                                                                                                 # OperationBookingContext::iSelectSaveAndScheduleNow()
    And I select OK to Duplicate procedure if requested                                                                                 # OperationBookingContext::okToDuplicateProcedure()
    And I select an Available theatre slot date                                                                                         # OperationBookingContext::iSelectAnAvailableTheatreSlotDate()
    And I select an Available session time                                                                                              # OperationBookingContext::iSelectAnAvailableSessionTime()
    Then I confirm the operation slot                                                                                                   # OperationBookingContext::iConfirmTheOperationSlot()

  Scenario: 9B Login and edit previously created new Operation Booking, Consultant Error Check                                          # features/bootstrap/Features/Edits.feature:663
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I edit the Last Event                                                                                                           # AnaestheticAuditContext::iEditTheLastEvent()
    Then I select Diagnosis Eyes of "Right"                                                                                             # OperationBookingContext::iSelectDiagnosisEyesOf()
    Then I select Yes to Consultant required                                                                                            # OperationBookingContext::iSelectYesToConsultantRequired()
    Then I select Save                                                                                                                  # OperationBookingContext::save()
    And I select OK to Duplicate procedure if requested                                                                                 # OperationBookingContext::okToDuplicateProcedure()
    Then I confirm that You must change the session or cancel the booking error is displayed                                            # OperationBookingContext::consultantErrorValidation()

  Scenario: Route 9C: Delete previously created/edited Prescription From from Route 9A/9B                                               # features/bootstrap/Features/Edits.feature:686
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I delete the Last Event                                                                                                         # AnaestheticAuditContext::iDeleteTheLastEvent()

  Scenario: Route 10A: Login and create a Operation Booking Anderson Glaucoma                                                           # features/bootstrap/Features/Edits.feature:699
    Given I am logged in as "admin" with site "Kings" and firm "Anderson Firm (Glaucoma)"                                               # LoginContext::iAmLoggedInWithSiteAndFirm()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "OpBooking"                                                                                                   # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Left"                                                                                              # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "30041005"                                                                                              # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Left"                                                                                              # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "41"                                                                                                    # OperationBookingContext::iSelectAProcedureOf()
    Then I select Yes to Consultant required                                                                                            # OperationBookingContext::iSelectYesToConsultantRequired()
    And I select "Anderson Andrew" for "Named Consultant"                                                                               # FeatureContext::selectOption()
    And I select "No" for "Any other doctor to do"                                                                                      # FeatureContext::selectOption()
    And I select "No" for "Does the patient require pre-op assessment by an anaesthetist"                                               # FeatureContext::selectOption()
    And I select a Anaesthetic type "Topical"                                                                                           # OperationBookingContext::iSelectAAnaestheticType()
    And I select "Patient preference" for "Anaesthetic choice"                                                                          # FeatureContext::selectOption()
    And I select "No" for "Patient needs to stop medication"                                                                            # FeatureContext::selectOption()
    Then I select Yes to a Post Operative Stay                                                                                          # OperationBookingContext::iSelectYesToAPostOperativeStay()
    Then I select No to a Post Operative Stay                                                                                           # OperationBookingContext::iSelectNoToAPostOperativeStay()
    And I select a Operation Site of "1"                                                                                                # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Urgent                                                                                                  # OperationBookingContext::iSelectAPriorityOfUrgent()
    And I select a decision date of "14"                                                                                                # OperationBookingContext::iSelectADecisionDateOf()
    And I select "Yes" for "Admission discussed with patient"                                                                           # FeatureContext::selectOption()
    And I select "As soon as possible" for "Schedule options"                                                                           # FeatureContext::selectOption()
    Then I select Save and Schedule now                                                                                                 # OperationBookingContext::iSelectSaveAndScheduleNow()
    And I select OK to Duplicate procedure if requested                                                                                 # OperationBookingContext::okToDuplicateProcedure()
    And I select an Available theatre slot date                                                                                         # OperationBookingContext::iSelectAnAvailableTheatreSlotDate()
    And I select an Available session time                                                                                              # OperationBookingContext::iSelectAnAvailableSessionTime()
    Then I confirm the operation slot                                                                                                   # OperationBookingContext::iConfirmTheOperationSlot()

  Scenario: 10B Login and edit previously created new Operation Booking                                                                 # features/bootstrap/Features/Edits.feature:749
    Given I am logged in as "admin" with site "Kings" and firm "Anderson Firm (Glaucoma)"                                               # LoginContext::iAmLoggedInWithSiteAndFirm()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I edit the Last Event                                                                                                           # AnaestheticAuditContext::iEditTheLastEvent()
    Then I select Diagnosis Eyes of "Right"                                                                                             # OperationBookingContext::iSelectDiagnosisEyesOf()
    Then I select a Priority of Urgent                                                                                                  # OperationBookingContext::iSelectAPriorityOfUrgent()
    Then I select Save                                                                                                                  # OperationBookingContext::save()
    And I select OK to Duplicate procedure if requested                                                                                 # OperationBookingContext::okToDuplicateProcedure()

  Scenario: Route 10C: Delete previously created/edited Prescription From from Route 10A/10B                                            # features/bootstrap/Features/Edits.feature:767
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    And I delete the Last Event                                                                                                         # AnaestheticAuditContext::iDeleteTheLastEvent()

@setup
Feature: Environment Setup on clean database
  This feature is to be run first on a clean database
  It sets up 3 Firms Glaucoma, Medical Retina and Cataract
  Each with an event setup ready for the regression tag to be run

  Scenario: Environment Setup Broom Glaucoma                                                                                            # features/bootstrap/Features/EnvironmentSetup.feature:7
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "2"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select Add First New Episode and Confirm                                                                                     # PatientViewContext::iSelectAddFirstNewEpisodeAndConfirm()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Satisfaction"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select an Anaesthetist "no"                                                                                                  # AnaestheticAuditContext::iSelectAnAnaesthetist()
    And I select Satisfaction levels of Pain "2" Nausea "3"                                                                             # AnaestheticAuditContext::iSelectSatisfactionLevelsOfPainNausea()
    And I tick the Vomited checkbox                                                                                                     # AnaestheticAuditContext::iTickTheVomitedCheckbox()
    Then I select Vital Signs of Respiratory Rate "3" Oxygen Saturation "3" Systolic Blood Pressure "4"                                 # AnaestheticAuditContext::iSelectVitalSigns()
    And I select Vital Signs of Body Temperature "5" and Heart Rate "2" Conscious Level AVPU "2"                                        # AnaestheticAuditContext::iSelectVitalSignsTemp()
    Then I enter Comments "This test is for Site 2 Kings, Firm 3 Anderson Glaucoma"                                                     # AnaestheticAuditContext::iEnterComments()
    And I select the Yes option for Ready to Discharge                                                                                  # AnaestheticAuditContext::iSelectTheYesOptionForReadyToDischarge()
    Then I Save the Event                                                                                                               # AnaestheticAuditContext::iSaveTheEvent()

  Scenario: Environment Setup Medical Retinal                                                                                           # features/bootstrap/Features/EnvironmentSetup.feature:35
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "4"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select Add First New Episode and Confirm                                                                                     # PatientViewContext::iSelectAddFirstNewEpisodeAndConfirm()
    Then I expand the Medical Retinal sidebar                                                                                           # AddingNewEventContext::iExpandTheMedicalRetinalSidebar()
    And I add a New Event "Satisfaction"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select an Anaesthetist "no"                                                                                                  # AnaestheticAuditContext::iSelectAnAnaesthetist()
    And I select Satisfaction levels of Pain "2" Nausea "3"                                                                             # AnaestheticAuditContext::iSelectSatisfactionLevelsOfPainNausea()
    And I tick the Vomited checkbox                                                                                                     # AnaestheticAuditContext::iTickTheVomitedCheckbox()
    Then I select Vital Signs of Respiratory Rate "3" Oxygen Saturation "3" Systolic Blood Pressure "4"                                 # AnaestheticAuditContext::iSelectVitalSigns()
    And I select Vital Signs of Body Temperature "5" and Heart Rate "2" Conscious Level AVPU "2"                                        # AnaestheticAuditContext::iSelectVitalSignsTemp()
    Then I enter Comments "This test is for Site 2 Kings, Firm 3 Anderson Glaucoma"                                                     # AnaestheticAuditContext::iEnterComments()
    And I select the Yes option for Ready to Discharge                                                                                  # AnaestheticAuditContext::iSelectTheYesOptionForReadyToDischarge()
    Then I Save the Event                                                                                                               # AnaestheticAuditContext::iSaveTheEvent()

  Scenario: Environment Setup Anderson Cataract                                                                                         # features/bootstrap/Features/EnvironmentSetup.feature:63
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select Add First New Episode and Confirm                                                                                     # PatientViewContext::iSelectAddFirstNewEpisodeAndConfirm()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Satisfaction"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select an Anaesthetist "no"                                                                                                  # AnaestheticAuditContext::iSelectAnAnaesthetist()
    And I select Satisfaction levels of Pain "2" Nausea "3"                                                                             # AnaestheticAuditContext::iSelectSatisfactionLevelsOfPainNausea()
    And I tick the Vomited checkbox                                                                                                     # AnaestheticAuditContext::iTickTheVomitedCheckbox()
    Then I select Vital Signs of Respiratory Rate "3" Oxygen Saturation "3" Systolic Blood Pressure "4"                                 # AnaestheticAuditContext::iSelectVitalSigns()
    And I select Vital Signs of Body Temperature "5" and Heart Rate "2" Conscious Level AVPU "2"                                        # AnaestheticAuditContext::iSelectVitalSignsTemp()
    Then I enter Comments "This test is for Site 2 Kings, Firm 3 Anderson Glaucoma"                                                     # AnaestheticAuditContext::iEnterComments()
    And I select the Yes option for Ready to Discharge                                                                                  # AnaestheticAuditContext::iSelectTheYesOptionForReadyToDischarge()
    Then I Save the Event                                                                                                               # AnaestheticAuditContext::iSaveTheEvent()

  Scenario: Environment Setup Anderson Glaucoma                                                                                         # features/bootstrap/Features/EnvironmentSetup.feature:91
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Satisfaction"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select an Anaesthetist "no"                                                                                                  # AnaestheticAuditContext::iSelectAnAnaesthetist()
    And I select Satisfaction levels of Pain "2" Nausea "3"                                                                             # AnaestheticAuditContext::iSelectSatisfactionLevelsOfPainNausea()
    And I tick the Vomited checkbox                                                                                                     # AnaestheticAuditContext::iTickTheVomitedCheckbox()
    Then I select Vital Signs of Respiratory Rate "3" Oxygen Saturation "3" Systolic Blood Pressure "4"                                 # AnaestheticAuditContext::iSelectVitalSigns()
    And I select Vital Signs of Body Temperature "5" and Heart Rate "2" Conscious Level AVPU "2"                                        # AnaestheticAuditContext::iSelectVitalSignsTemp()
    Then I enter Comments "This test is for Site 2 Kings, Firm 3 Anderson Glaucoma"                                                     # AnaestheticAuditContext::iEnterComments()
    And I select the Yes option for Ready to Discharge                                                                                  # AnaestheticAuditContext::iSelectTheYesOptionForReadyToDischarge()
    Then I Save the Event                                                                                                               # AnaestheticAuditContext::iSaveTheEvent()

@asa @regression
Feature: Anaesthetic Satisfaction Audit Regression Tests
  Regression coverage of this event is 100%
  Across 2 Sites and 4 Firms

  Scenario: Route 1: Login and create a Anaesthetic Satisfaction Audit:                                                                 # features/bootstrap/Features/Latest Release Regression Pack/AnaestheticAudit.feature:6
            Site 2:  Kings
            Firm 3:  Anderson Glaucoma
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Satisfaction"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select an Anaesthetist "no"                                                                                                  # AnaestheticAuditContext::iSelectAnAnaesthetist()
    And I select Satisfaction levels of Pain "2" Nausea "3"                                                                             # AnaestheticAuditContext::iSelectSatisfactionLevelsOfPainNausea()
    And I tick the Vomited checkbox                                                                                                     # AnaestheticAuditContext::iTickTheVomitedCheckbox()
    Then I select Vital Signs of Respiratory Rate "3" Oxygen Saturation "3" Systolic Blood Pressure "4"                                 # AnaestheticAuditContext::iSelectVitalSigns()
    And I select Vital Signs of Body Temperature "5" and Heart Rate "2" Conscious Level AVPU "2"                                        # AnaestheticAuditContext::iSelectVitalSignsTemp()
    Then I enter Comments "This test is for Site 2 Kings, Firm 3 Anderson Glaucoma"                                                     # AnaestheticAuditContext::iEnterComments()
    And I select the Yes option for Ready to Discharge                                                                                  # AnaestheticAuditContext::iSelectTheYesOptionForReadyToDischarge()
    Then I Save the Event and confirm it has been created successfully                                                                  # AnaestheticAuditContext::iSaveTheEventAndConfirm()

  Scenario: Route 2: Login and create a Anaesthetic Satisfaction Audit:                                                                 # features/bootstrap/Features/Latest Release Regression Pack/AnaestheticAudit.feature:36
            Site 1:  Queens
            Firm 1:  Anderson Cataract
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Satisfaction"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select an Anaesthetist "non"                                                                                                 # AnaestheticAuditContext::iSelectAnAnaesthetist()
    And I select Satisfaction levels of Pain "5" Nausea "1"                                                                             # AnaestheticAuditContext::iSelectSatisfactionLevelsOfPainNausea()
    And I untick the Vomited checkbox                                                                                                   # AnaestheticAuditContext::iUntickTheVomitedCheckbox()
    Then I select Vital Signs of Respiratory Rate "4" Oxygen Saturation "1" Systolic Blood Pressure "5"                                 # AnaestheticAuditContext::iSelectVitalSigns()
    And I select Vital Signs of Body Temperature "1" and Heart Rate "5" Conscious Level AVPU "5"                                        # AnaestheticAuditContext::iSelectVitalSignsTemp()
    Then I enter Comments "This test is for Site 1 Queens, Firm 1 Anderson Cataract"                                                    # AnaestheticAuditContext::iEnterComments()
    And I select the No option for Ready to Discharge                                                                                   # AnaestheticAuditContext::iSelectTheNoOptionForReadToDischarge()
    Then I Save the Event and confirm it has been created successfully                                                                  # AnaestheticAuditContext::iSaveTheEventAndConfirm()

  Scenario: Route 3: Login and create a Anaesthetic Satisfaction Audit:                                                                 # features/bootstrap/Features/Latest Release Regression Pack/AnaestheticAudit.feature:66
            Site 1: Queens
            Firm 2: Broom Glaucoma
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "2"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Satisfaction"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select an Anaesthetist "no"                                                                                                  # AnaestheticAuditContext::iSelectAnAnaesthetist()
    And I select Satisfaction levels of Pain "7" Nausea "2"                                                                             # AnaestheticAuditContext::iSelectSatisfactionLevelsOfPainNausea()
    And I tick the Vomited checkbox                                                                                                     # AnaestheticAuditContext::iTickTheVomitedCheckbox()
    Then I select Vital Signs of Respiratory Rate "1" Oxygen Saturation "3" Systolic Blood Pressure "3"                                 # AnaestheticAuditContext::iSelectVitalSigns()
    And I select Vital Signs of Body Temperature "4" and Heart Rate "5" Conscious Level AVPU "2"                                        # AnaestheticAuditContext::iSelectVitalSignsTemp()
    Then I enter Comments "This test is for Site 1 Queens, Firm 2 Broom Glaucoma"                                                       # AnaestheticAuditContext::iEnterComments()
    And I select the No option for Ready to Discharge                                                                                   # AnaestheticAuditContext::iSelectTheNoOptionForReadToDischarge()
    Then I Save the Event and confirm it has been created successfully                                                                  # AnaestheticAuditContext::iSaveTheEventAndConfirm()

  Scenario: Route 4: Login and create a Anaesthetic Satisfaction Audit:                                                                 # features/bootstrap/Features/Latest Release Regression Pack/AnaestheticAudit.feature:96
            Site 2: Kings
            Firm 4: Medical Retinal
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "4"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Medical Retinal sidebar                                                                                           # AddingNewEventContext::iExpandTheMedicalRetinalSidebar()
    And I add a New Event "Satisfaction"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select an Anaesthetist "non"                                                                                                 # AnaestheticAuditContext::iSelectAnAnaesthetist()
    And I select Satisfaction levels of Pain "0" Nausea "0"                                                                             # AnaestheticAuditContext::iSelectSatisfactionLevelsOfPainNausea()
    And I untick the Vomited checkbox                                                                                                   # AnaestheticAuditContext::iUntickTheVomitedCheckbox()
    Then I select Vital Signs of Respiratory Rate "2" Oxygen Saturation "4" Systolic Blood Pressure "6"                                 # AnaestheticAuditContext::iSelectVitalSigns()
    And I select Vital Signs of Body Temperature "3" and Heart Rate "2" Conscious Level AVPU "2"                                        # AnaestheticAuditContext::iSelectVitalSignsTemp()
    Then I enter Comments "This test is for Site 2 Kings, Firm 4 Medical Retinal"                                                       # AnaestheticAuditContext::iEnterComments()
    And I select the No option for Ready to Discharge                                                                                   # AnaestheticAuditContext::iSelectTheNoOptionForReadToDischarge()
    Then I Save the Event and confirm it has been created successfully                                                                  # AnaestheticAuditContext::iSaveTheEventAndConfirm()

  Scenario: Route 5: Validation Tests                                                                                                   # features/bootstrap/Features/Latest Release Regression Pack/AnaestheticAudit.feature:126
            Ensure that correct validation messages are displayed when the user attempts to save
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Satisfaction"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I Save the Event                                                                                                               # AnaestheticAuditContext::iSaveTheEvent()
    Then I confirm that the ASA Validation error messages have been displayed                                                           # AnaestheticAuditContext::iConfirmThatTheAsaValidationErrorMessagesHaveBeenDisplayed()

@confidence
Feature: Basic booking Time slot Available INSIDE RTT
  In order to book visits of my patients
  As a system user
  I need to be able to schedule or reschedule an Adult operation

  Scenario: Route 1: Successfully scheduling an adult operation that does not need a consultant or an anaesthetist                      # features/bootstrap/Features/Latest Release Regression Pack/Booking.feature:7
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is an adult patient with operation that does not need a consultant or an anaesthetist                                     # WaitingListContext::thereIsAnAdultPatientWithOperationThatDoesNotNeedAConsultantAndNoAnaesthetist()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "OpBooking"                                                                                                   # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Left"                                                                                              # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "267626000"                                                                                             # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Left"                                                                                              # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "41"                                                                                                    # OperationBookingContext::iSelectAProcedureOf()
    Then I select No to Consultant required                                                                                             # OperationBookingContext::iSelectNoToConsultantRequired()
    And I select a Anaesthetic type "Topical"                                                                                           # OperationBookingContext::iSelectAAnaestheticType()
    Then I select Yes to a Post Operative Stay                                                                                          # OperationBookingContext::iSelectYesToAPostOperativeStay()
    Then I select No to a Post Operative Stay                                                                                           # OperationBookingContext::iSelectNoToAPostOperativeStay()
    And I select a Operation Site of "1"                                                                                                # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Urgent                                                                                                  # OperationBookingContext::iSelectAPriorityOfUrgent()
    And I select a decision date of "14"                                                                                                # OperationBookingContext::iSelectADecisionDateOf()
    Then I select Save and Schedule now                                                                                                 # OperationBookingContext::iSelectSaveAndScheduleNow()
    And I click on available date in the calendar                                                                                       # WaitingListContext::iClickOnAvailableDateInTheCalendar()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 2: Successfully scheduling an adult operation that does need a consultant but no anaesthetist                         # features/bootstrap/Features/Latest Release Regression Pack/Booking.feature:43
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is an adult patient with operation that does need a consultant but no anaesthetist                                        # WaitingListContext::thereIsAnAdultPatientWithOperationThatDoesNeedAConsultantButNoAnaesthetist()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "OpBooking"                                                                                                   # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Left"                                                                                              # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "267626000"                                                                                             # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Left"                                                                                              # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "41"                                                                                                    # OperationBookingContext::iSelectAProcedureOf()
    Then I select No to Consultant required                                                                                             # OperationBookingContext::iSelectNoToConsultantRequired()
    And I select a Anaesthetic type "Topical"                                                                                           # OperationBookingContext::iSelectAAnaestheticType()
    Then I select Yes to a Post Operative Stay                                                                                          # OperationBookingContext::iSelectYesToAPostOperativeStay()
    Then I select No to a Post Operative Stay                                                                                           # OperationBookingContext::iSelectNoToAPostOperativeStay()
    And I select a Operation Site of "1"                                                                                                # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Urgent                                                                                                  # OperationBookingContext::iSelectAPriorityOfUrgent()
    And I select a decision date of "14"                                                                                                # OperationBookingContext::iSelectADecisionDateOf()
    Then I select Save and Schedule now                                                                                                 # OperationBookingContext::iSelectSaveAndScheduleNow()
    And I click on available date in the calendar                                                                                       # WaitingListContext::iClickOnAvailableDateInTheCalendar()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 3: Successfully scheduling an adult operation that does not need a consultant but anaesthetist with no GA             # features/bootstrap/Features/Latest Release Regression Pack/Booking.feature:79
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is an adult patient with operation that does not need a consultant but anaesthetist with no GA                            # WaitingListContext::thereIsAnAdultPatientWithOperationThatDoesNotNeedAConsultantButAnaesthetistWithNoGA()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "OpBooking"                                                                                                   # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Left"                                                                                              # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "267626000"                                                                                             # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Left"                                                                                              # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "41"                                                                                                    # OperationBookingContext::iSelectAProcedureOf()
    Then I select No to Consultant required                                                                                             # OperationBookingContext::iSelectNoToConsultantRequired()
    And I select a Anaesthetic type "Topical"                                                                                           # OperationBookingContext::iSelectAAnaestheticType()
    Then I select Yes to a Post Operative Stay                                                                                          # OperationBookingContext::iSelectYesToAPostOperativeStay()
    Then I select No to a Post Operative Stay                                                                                           # OperationBookingContext::iSelectNoToAPostOperativeStay()
    And I select a Operation Site of "1"                                                                                                # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Urgent                                                                                                  # OperationBookingContext::iSelectAPriorityOfUrgent()
    And I select a decision date of "14"                                                                                                # OperationBookingContext::iSelectADecisionDateOf()
    Then I select Save and Schedule now                                                                                                 # OperationBookingContext::iSelectSaveAndScheduleNow()
    And I click on available date in the calendar                                                                                       # WaitingListContext::iClickOnAvailableDateInTheCalendar()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 4: Successfully scheduling an adult operation that does not need a consultant but anaesthetist with GA                # features/bootstrap/Features/Latest Release Regression Pack/Booking.feature:115
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is an adult patient with operation that does not need a consultant but anaesthetist with GA                               # WaitingListContext::thereIsAnAdultPatientWithOperationThatDoesNotNeedAConsultantButAnaesthetistWithGA()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "OpBooking"                                                                                                   # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Left"                                                                                              # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "267626000"                                                                                             # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Left"                                                                                              # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "41"                                                                                                    # OperationBookingContext::iSelectAProcedureOf()
    Then I select No to Consultant required                                                                                             # OperationBookingContext::iSelectNoToConsultantRequired()
    And I select a Anaesthetic type "Topical"                                                                                           # OperationBookingContext::iSelectAAnaestheticType()
    Then I select Yes to a Post Operative Stay                                                                                          # OperationBookingContext::iSelectYesToAPostOperativeStay()
    Then I select No to a Post Operative Stay                                                                                           # OperationBookingContext::iSelectNoToAPostOperativeStay()
    And I select a Operation Site of "1"                                                                                                # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Urgent                                                                                                  # OperationBookingContext::iSelectAPriorityOfUrgent()
    And I select a decision date of "14"                                                                                                # OperationBookingContext::iSelectADecisionDateOf()
    Then I select Save and Schedule now                                                                                                 # OperationBookingContext::iSelectSaveAndScheduleNow()
    And I click on available date in the calendar                                                                                       # WaitingListContext::iClickOnAvailableDateInTheCalendar()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 5: Successfully scheduling an adult operation that does need a consultant and anaesthetist with no GA                 # features/bootstrap/Features/Latest Release Regression Pack/Booking.feature:151
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is an adult patient with operation that does need a consultant and anaesthetist with no GA                                # WaitingListContext::thereIsAnAdultPatientWithOperationThatDoesNeedAConsultantAndAnaesthetistWithNoGA()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "OpBooking"                                                                                                   # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Left"                                                                                              # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "267626000"                                                                                             # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Left"                                                                                              # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "41"                                                                                                    # OperationBookingContext::iSelectAProcedureOf()
    Then I select No to Consultant required                                                                                             # OperationBookingContext::iSelectNoToConsultantRequired()
    And I select a Anaesthetic type "Topical"                                                                                           # OperationBookingContext::iSelectAAnaestheticType()
    Then I select Yes to a Post Operative Stay                                                                                          # OperationBookingContext::iSelectYesToAPostOperativeStay()
    Then I select No to a Post Operative Stay                                                                                           # OperationBookingContext::iSelectNoToAPostOperativeStay()
    And I select a Operation Site of "1"                                                                                                # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Urgent                                                                                                  # OperationBookingContext::iSelectAPriorityOfUrgent()
    And I select a decision date of "14"                                                                                                # OperationBookingContext::iSelectADecisionDateOf()
    Then I select Save and Schedule now                                                                                                 # OperationBookingContext::iSelectSaveAndScheduleNow()
    And I click on available date in the calendar                                                                                       # WaitingListContext::iClickOnAvailableDateInTheCalendar()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 6: Successfully scheduling an adult operation that does need a consultant and anaesthetist with GA                    # features/bootstrap/Features/Latest Release Regression Pack/Booking.feature:189
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is an adult patient with operation that does need a consultant and anaesthetist with GA                                   # WaitingListContext::thereIsAnAdultPatientWithOperationThatDoesNeedAConsultantAndAnaesthetistWithGA()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "OpBooking"                                                                                                   # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Left"                                                                                              # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "267626000"                                                                                             # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Left"                                                                                              # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "41"                                                                                                    # OperationBookingContext::iSelectAProcedureOf()
    Then I select No to Consultant required                                                                                             # OperationBookingContext::iSelectNoToConsultantRequired()
    And I select a Anaesthetic type "Topical"                                                                                           # OperationBookingContext::iSelectAAnaestheticType()
    Then I select Yes to a Post Operative Stay                                                                                          # OperationBookingContext::iSelectYesToAPostOperativeStay()
    Then I select No to a Post Operative Stay                                                                                           # OperationBookingContext::iSelectNoToAPostOperativeStay()
    And I select a Operation Site of "1"                                                                                                # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Urgent                                                                                                  # OperationBookingContext::iSelectAPriorityOfUrgent()
    And I select a decision date of "14"                                                                                                # OperationBookingContext::iSelectADecisionDateOf()
    Then I select Save and Schedule now                                                                                                 # OperationBookingContext::iSelectSaveAndScheduleNow()
    And I click on available date in the calendar                                                                                       # WaitingListContext::iClickOnAvailableDateInTheCalendar()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 7: Successfully scheduling a child operation that does not need a consultant or an anaesthetist                       # features/bootstrap/Features/Latest Release Regression Pack/Booking.feature:225
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is a child patient with operation that does not need a consultant or an anaesthetist                                      # WaitingListContext::thereIsAChildPatientWithOperationThatDoesNotNeedAConsultantAndNoAnaesthetist()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "OpBooking"                                                                                                   # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Left"                                                                                              # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "267626000"                                                                                             # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Left"                                                                                              # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "41"                                                                                                    # OperationBookingContext::iSelectAProcedureOf()
    Then I select No to Consultant required                                                                                             # OperationBookingContext::iSelectNoToConsultantRequired()
    And I select a Anaesthetic type "Topical"                                                                                           # OperationBookingContext::iSelectAAnaestheticType()
    Then I select Yes to a Post Operative Stay                                                                                          # OperationBookingContext::iSelectYesToAPostOperativeStay()
    Then I select No to a Post Operative Stay                                                                                           # OperationBookingContext::iSelectNoToAPostOperativeStay()
    And I select a Operation Site of "1"                                                                                                # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Urgent                                                                                                  # OperationBookingContext::iSelectAPriorityOfUrgent()
    And I select a decision date of "14"                                                                                                # OperationBookingContext::iSelectADecisionDateOf()
    Then I select Save and Schedule now                                                                                                 # OperationBookingContext::iSelectSaveAndScheduleNow()
    And I click on available date in the calendar                                                                                       # WaitingListContext::iClickOnAvailableDateInTheCalendar()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 8: Successfully scheduling a child operation that does need a consultant but no anaesthetist                          # features/bootstrap/Features/Latest Release Regression Pack/Booking.feature:261
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is a child patient with operation that does need a consultant but no anaesthetist                                         # WaitingListContext::thereIsAChildPatientWithOperationThatDoesNeedAConsultantButNoAnaesthetist()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "OpBooking"                                                                                                   # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Left"                                                                                              # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "267626000"                                                                                             # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Left"                                                                                              # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "41"                                                                                                    # OperationBookingContext::iSelectAProcedureOf()
    Then I select No to Consultant required                                                                                             # OperationBookingContext::iSelectNoToConsultantRequired()
    And I select a Anaesthetic type "Topical"                                                                                           # OperationBookingContext::iSelectAAnaestheticType()
    Then I select Yes to a Post Operative Stay                                                                                          # OperationBookingContext::iSelectYesToAPostOperativeStay()
    Then I select No to a Post Operative Stay                                                                                           # OperationBookingContext::iSelectNoToAPostOperativeStay()
    And I select a Operation Site of "1"                                                                                                # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Urgent                                                                                                  # OperationBookingContext::iSelectAPriorityOfUrgent()
    And I select a decision date of "14"                                                                                                # OperationBookingContext::iSelectADecisionDateOf()
    Then I select Save and Schedule now                                                                                                 # OperationBookingContext::iSelectSaveAndScheduleNow()
    And I click on available date in the calendar                                                                                       # WaitingListContext::iClickOnAvailableDateInTheCalendar()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 9: Successfully scheduling a child operation that does not need a consultant but anaesthetist with no GA              # features/bootstrap/Features/Latest Release Regression Pack/Booking.feature:297
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is a child patient with operation that does not need a consultant but anaesthetist with no GA                             # WaitingListContext::thereIsAChildPatientWithOperationThatDoesNotNeedAConsultantButAnaesthetistWithNoGA()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "OpBooking"                                                                                                   # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Left"                                                                                              # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "267626000"                                                                                             # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Left"                                                                                              # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "41"                                                                                                    # OperationBookingContext::iSelectAProcedureOf()
    Then I select No to Consultant required                                                                                             # OperationBookingContext::iSelectNoToConsultantRequired()
    And I select a Anaesthetic type "Topical"                                                                                           # OperationBookingContext::iSelectAAnaestheticType()
    Then I select Yes to a Post Operative Stay                                                                                          # OperationBookingContext::iSelectYesToAPostOperativeStay()
    Then I select No to a Post Operative Stay                                                                                           # OperationBookingContext::iSelectNoToAPostOperativeStay()
    And I select a Operation Site of "1"                                                                                                # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Urgent                                                                                                  # OperationBookingContext::iSelectAPriorityOfUrgent()
    And I select a decision date of "14"                                                                                                # OperationBookingContext::iSelectADecisionDateOf()
    Then I select Save and Schedule now                                                                                                 # OperationBookingContext::iSelectSaveAndScheduleNow()
    And I click on available date in the calendar                                                                                       # WaitingListContext::iClickOnAvailableDateInTheCalendar()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 10: Successfully scheduling a child operation that does not need a consultant but anaesthetist with GA                # features/bootstrap/Features/Latest Release Regression Pack/Booking.feature:333
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is a child patient with operation that does not need a consultant but anaesthetist with GA                                # WaitingListContext::thereIsAChildPatientWithOperationThatDoesNotNeedAConsultantButAnaesthetistWithGA()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "OpBooking"                                                                                                   # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Left"                                                                                              # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "267626000"                                                                                             # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Left"                                                                                              # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "41"                                                                                                    # OperationBookingContext::iSelectAProcedureOf()
    Then I select No to Consultant required                                                                                             # OperationBookingContext::iSelectNoToConsultantRequired()
    And I select a Anaesthetic type "Topical"                                                                                           # OperationBookingContext::iSelectAAnaestheticType()
    Then I select Yes to a Post Operative Stay                                                                                          # OperationBookingContext::iSelectYesToAPostOperativeStay()
    Then I select No to a Post Operative Stay                                                                                           # OperationBookingContext::iSelectNoToAPostOperativeStay()
    And I select a Operation Site of "1"                                                                                                # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Urgent                                                                                                  # OperationBookingContext::iSelectAPriorityOfUrgent()
    And I select a decision date of "14"                                                                                                # OperationBookingContext::iSelectADecisionDateOf()
    Then I select Save and Schedule now                                                                                                 # OperationBookingContext::iSelectSaveAndScheduleNow()
    And I click on available date in the calendar                                                                                       # WaitingListContext::iClickOnAvailableDateInTheCalendar()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 11: Successfully scheduling a child operation that does need a consultant and anaesthetist with no GA                 # features/bootstrap/Features/Latest Release Regression Pack/Booking.feature:369
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is a child patient with operation that does need a consultant and anaesthetist with no GA                                 # WaitingListContext::thereIsAChildPatientWithOperationThatDoesNeedAConsultantAndAnaesthetistWithNoGA()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "OpBooking"                                                                                                   # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Left"                                                                                              # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "267626000"                                                                                             # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Left"                                                                                              # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "41"                                                                                                    # OperationBookingContext::iSelectAProcedureOf()
    Then I select No to Consultant required                                                                                             # OperationBookingContext::iSelectNoToConsultantRequired()
    And I select a Anaesthetic type "Topical"                                                                                           # OperationBookingContext::iSelectAAnaestheticType()
    Then I select Yes to a Post Operative Stay                                                                                          # OperationBookingContext::iSelectYesToAPostOperativeStay()
    Then I select No to a Post Operative Stay                                                                                           # OperationBookingContext::iSelectNoToAPostOperativeStay()
    And I select a Operation Site of "1"                                                                                                # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Urgent                                                                                                  # OperationBookingContext::iSelectAPriorityOfUrgent()
    And I select a decision date of "14"                                                                                                # OperationBookingContext::iSelectADecisionDateOf()
    Then I select Save and Schedule now                                                                                                 # OperationBookingContext::iSelectSaveAndScheduleNow()
    And I click on available date in the calendar                                                                                       # WaitingListContext::iClickOnAvailableDateInTheCalendar()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 12: Successfully scheduling a child operation that does need a consultant and anaesthetist with GA                    # features/bootstrap/Features/Latest Release Regression Pack/Booking.feature:405
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is a child patient with operation that does need a consultant and anaesthetist with GA                                    # WaitingListContext::thereIsAChildPatientWithOperationThatDoesNeedAConsultantAndAnaesthetistWithGA()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "OpBooking"                                                                                                   # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Left"                                                                                              # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "267626000"                                                                                             # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Left"                                                                                              # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "41"                                                                                                    # OperationBookingContext::iSelectAProcedureOf()
    Then I select No to Consultant required                                                                                             # OperationBookingContext::iSelectNoToConsultantRequired()
    And I select a Anaesthetic type "Topical"                                                                                           # OperationBookingContext::iSelectAAnaestheticType()
    Then I select Yes to a Post Operative Stay                                                                                          # OperationBookingContext::iSelectYesToAPostOperativeStay()
    Then I select No to a Post Operative Stay                                                                                           # OperationBookingContext::iSelectNoToAPostOperativeStay()
    And I select a Operation Site of "1"                                                                                                # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Urgent                                                                                                  # OperationBookingContext::iSelectAPriorityOfUrgent()
    And I select a decision date of "14"                                                                                                # OperationBookingContext::iSelectADecisionDateOf()
    Then I select Save and Schedule now                                                                                                 # OperationBookingContext::iSelectSaveAndScheduleNow()
    And I click on available date in the calendar                                                                                       # WaitingListContext::iClickOnAvailableDateInTheCalendar()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

@confidenceRTT
Feature: Basic booking
  In order to book visits of my patients
  As a system user
  I need to be able to schedule or reschedule an Adult operation
  Time slots Available OUTSIDE RTT

  Scenario: Route 1: Successfully scheduling an adult operation that does not need a consultant or an anaesthetist                      # features/bootstrap/Features/Latest Release Regression Pack/BookingOutsideRTT.feature:8
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is an adult patient with operation that does not need a consultant or an anaesthetist                                     # WaitingListContext::thereIsAnAdultPatientWithOperationThatDoesNotNeedAConsultantAndNoAnaesthetist()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    And I follow "Schedule now"                                                                                                         # HomepageContext::iFollow()
    And I click on available date in the calendar Outside RTT                                                                           # WaitingListContext::iClickOnAvailableDateInTheCalendarOutsideRTT()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 2: Successfully scheduling an adult operation that does need a consultant but no anaesthetist                         # features/bootstrap/Features/Latest Release Regression Pack/BookingOutsideRTT.feature:24
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is an adult patient with operation that does need a consultant but no anaesthetist                                        # WaitingListContext::thereIsAnAdultPatientWithOperationThatDoesNeedAConsultantButNoAnaesthetist()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    And I follow "Schedule now"                                                                                                         # HomepageContext::iFollow()
    And I click on available date in the calendar Outside RTT                                                                           # WaitingListContext::iClickOnAvailableDateInTheCalendarOutsideRTT()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 3: Successfully scheduling an adult operation that does not need a consultant but anaesthetist with no GA             # features/bootstrap/Features/Latest Release Regression Pack/BookingOutsideRTT.feature:37
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is an adult patient with operation that does not need a consultant but anaesthetist with no GA                            # WaitingListContext::thereIsAnAdultPatientWithOperationThatDoesNotNeedAConsultantButAnaesthetistWithNoGA()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    And I follow "Schedule now"                                                                                                         # HomepageContext::iFollow()
    And I click on available date in the calendar Outside RTT                                                                           # WaitingListContext::iClickOnAvailableDateInTheCalendarOutsideRTT()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 4: Successfully scheduling an adult operation that does not need a consultant but anaesthetist with GA                # features/bootstrap/Features/Latest Release Regression Pack/BookingOutsideRTT.feature:50
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is an adult patient with operation that does not need a consultant but anaesthetist with GA                               # WaitingListContext::thereIsAnAdultPatientWithOperationThatDoesNotNeedAConsultantButAnaesthetistWithGA()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    And I follow "Schedule now"                                                                                                         # HomepageContext::iFollow()
    And I click on available date in the calendar Outside RTT                                                                           # WaitingListContext::iClickOnAvailableDateInTheCalendarOutsideRTT()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 5: Successfully scheduling an adult operation that does need a consultant and anaesthetist with no GA                 # features/bootstrap/Features/Latest Release Regression Pack/BookingOutsideRTT.feature:63
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is an adult patient with operation that does need a consultant and anaesthetist with no GA                                # WaitingListContext::thereIsAnAdultPatientWithOperationThatDoesNeedAConsultantAndAnaesthetistWithNoGA()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    And I follow "Schedule now"                                                                                                         # HomepageContext::iFollow()
    And I click on available date in the calendar Outside RTT                                                                           # WaitingListContext::iClickOnAvailableDateInTheCalendarOutsideRTT()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 6: Successfully scheduling an adult operation that does need a consultant and anaesthetist with GA                    # features/bootstrap/Features/Latest Release Regression Pack/BookingOutsideRTT.feature:76
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is an adult patient with operation that does need a consultant and anaesthetist with GA                                   # WaitingListContext::thereIsAnAdultPatientWithOperationThatDoesNeedAConsultantAndAnaesthetistWithGA()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    And I follow "Schedule now"                                                                                                         # HomepageContext::iFollow()
    And I click on available date in the calendar Outside RTT                                                                           # WaitingListContext::iClickOnAvailableDateInTheCalendarOutsideRTT()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 7: Successfully scheduling a child operation that does not need a consultant or an anaesthetist                       # features/bootstrap/Features/Latest Release Regression Pack/BookingOutsideRTT.feature:89
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is a child patient with operation that does not need a consultant or an anaesthetist                                      # WaitingListContext::thereIsAChildPatientWithOperationThatDoesNotNeedAConsultantAndNoAnaesthetist()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    And I follow "Schedule now"                                                                                                         # HomepageContext::iFollow()
    And I click on available date in the calendar Outside RTT                                                                           # WaitingListContext::iClickOnAvailableDateInTheCalendarOutsideRTT()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 8: Successfully scheduling a child operation that does need a consultant but no anaesthetist                          # features/bootstrap/Features/Latest Release Regression Pack/BookingOutsideRTT.feature:102
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is a child patient with operation that does need a consultant but no anaesthetist                                         # WaitingListContext::thereIsAChildPatientWithOperationThatDoesNeedAConsultantButNoAnaesthetist()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    And I follow "Schedule now"                                                                                                         # HomepageContext::iFollow()
    And I click on available date in the calendar Outside RTT                                                                           # WaitingListContext::iClickOnAvailableDateInTheCalendarOutsideRTT()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 9: Successfully scheduling a child operation that does not need a consultant but anaesthetist with no GA              # features/bootstrap/Features/Latest Release Regression Pack/BookingOutsideRTT.feature:115
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is a child patient with operation that does not need a consultant but anaesthetist with no GA                             # WaitingListContext::thereIsAChildPatientWithOperationThatDoesNotNeedAConsultantButAnaesthetistWithNoGA()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    And I follow "Schedule now"                                                                                                         # HomepageContext::iFollow()
    And I click on available date in the calendar Outside RTT                                                                           # WaitingListContext::iClickOnAvailableDateInTheCalendarOutsideRTT()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 10: Successfully scheduling a child operation that does not need a consultant but anaesthetist with GA                # features/bootstrap/Features/Latest Release Regression Pack/BookingOutsideRTT.feature:128
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is a child patient with operation that does not need a consultant but anaesthetist with GA                                # WaitingListContext::thereIsAChildPatientWithOperationThatDoesNotNeedAConsultantButAnaesthetistWithGA()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    And I follow "Schedule now"                                                                                                         # HomepageContext::iFollow()
    And I click on available date in the calendar Outside RTT                                                                           # WaitingListContext::iClickOnAvailableDateInTheCalendarOutsideRTT()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

  Scenario: Route 11: Successfully scheduling a child operation that does need a consultant and anaesthetist with no GA                 # features/bootstrap/Features/Latest Release Regression Pack/BookingOutsideRTT.feature:141
    Given I enter login credentials "admin" and "admin"                                                                                 # LoginContext::iEnterLoginCredentials()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    And there is a child patient with operation that does need a consultant and anaesthetist with no GA                                 # WaitingListContext::thereIsAChildPatientWithOperationThatDoesNeedAConsultantAndAnaesthetistWithNoGA()
    When I follow "Partial bookings waiting list"                                                                                       # HomepageContext::iFollow()
    And I select awaiting patient from the waiting list                                                                                 # WaitingListContext::iSelectAwaitingPatientFromTheWaitingList()
    And I follow "Schedule now"                                                                                                         # HomepageContext::iFollow()
    And I click on available date in the calendar Outside RTT                                                                           # WaitingListContext::iClickOnAvailableDateInTheCalendarOutsideRTT()
    And I select available theatre session from the list                                                                                # WaitingListContext::iSelectAvailableTheatreSessionFromTheList()
    And I press "Confirm slot"                                                                                                          # WaitingListContext::iPressConfirmSlot()
    Then I should see "Operation booking (Scheduled)"                                                                                   # WaitingListContext::iShouldSee()

@consent @regression
Feature: Create New Consent Form
         Regression coverage of this event is approx 70%

  Scenario: Route 1: Login and create a new Consent Form                                                                                # features/bootstrap/Features/Latest Release Regression Pack/ConsentForm.feature:5
            Site 2: Kings
            Firm: Anderson Glaucoma
            Type 1 chosen
            2x Additional Procedures
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Consent"                                                                                                     # AddingNewEventContext::iAddANewEvent()
    Then I select Unbooked Procedures                                                                                                   # ConsentFormContext::iSelectUnbookedProcedures()
    Then I select Add Consent Form                                                                                                      # ConsentFormContext::iSelectAddConsentForm()
    And I choose Type "1"                                                                                                               # ConsentFormContext::iChooseType()
    Then I choose Procedure eye of "Both"                                                                                               # ConsentFormContext::iChooseProcedureEyeOf()
    And I choose an Anaesthetic type of LA                                                                                              # ConsentFormContext::iChooseAnAnaestheticTypeOf()
    And I add a common procedure of "127"                                                                                               # ConsentFormContext::iAddACommonProcedureOf()
    Then I choose an additional procedure of "41"                                                                                       # ConsentFormContext::iChooseAdditionalProcedureOf()
    Then I choose an additional procedure of "42"                                                                                       # ConsentFormContext::iChooseAdditionalProcedureOf()
    Then I choose Permissions for images No                                                                                             # ConsentFormContext::iChoosePermissionsForImages()
    And I select the Information leaflet checkbox                                                                                       # ConsentFormContext::iSelectTheInformationLeafletCheckbox()
    Then I save the Consent Form and confirm it has been created successfully                                                           # ConsentFormContext::iSaveTheConsentFormAndConfirm()

  Scenario: Route 2: Login and create a new Consent Form                                                                                # features/bootstrap/Features/Latest Release Regression Pack/ConsentForm.feature:39
            Site 2: Kings
            Firm 2: Broom Glaucoma
            Type 2 chosen
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "2"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Consent"                                                                                                     # AddingNewEventContext::iAddANewEvent()
    Then I select Unbooked Procedures                                                                                                   # ConsentFormContext::iSelectUnbookedProcedures()
    Then I select Add Consent Form                                                                                                      # ConsentFormContext::iSelectAddConsentForm()
    And I choose Type "2"                                                                                                               # ConsentFormContext::iChooseType()
    Then I choose Procedure eye of "Left"                                                                                               # ConsentFormContext::iChooseProcedureEyeOf()
    And I choose an Anaesthetic type of LA                                                                                              # ConsentFormContext::iChooseAnAnaestheticTypeOf()
    And I add a common procedure of "129"                                                                                               # ConsentFormContext::iAddACommonProcedureOf()
    Then I choose Permissions for images Yes                                                                                            # ConsentFormContext::iChoosePermissionsForImagesYes()
    Then I save the Consent Form and confirm it has been created successfully                                                           # ConsentFormContext::iSaveTheConsentFormAndConfirm()

  Scenario: Route 3: Login and create a new Consent Form                                                                                # features/bootstrap/Features/Latest Release Regression Pack/ConsentForm.feature:67
            Site 1: Queens
            Firm 4: Medical Retinal
            Type 3 chosen
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "4"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Medical Retinal sidebar                                                                                           # AddingNewEventContext::iExpandTheMedicalRetinalSidebar()
    And I add a New Event "Consent"                                                                                                     # AddingNewEventContext::iAddANewEvent()
    Then I select Unbooked Procedures                                                                                                   # ConsentFormContext::iSelectUnbookedProcedures()
    Then I select Add Consent Form                                                                                                      # ConsentFormContext::iSelectAddConsentForm()
    And I choose Type "3"                                                                                                               # ConsentFormContext::iChooseType()
    Then I choose Procedure eye of "Left"                                                                                               # ConsentFormContext::iChooseProcedureEyeOf()
    And I choose an Anaesthetic type of LA                                                                                              # ConsentFormContext::iChooseAnAnaestheticTypeOf()
    And I add a common procedure of "327"                                                                                               # ConsentFormContext::iAddACommonProcedureOf()
    Then I choose Permissions for images Yes                                                                                            # ConsentFormContext::iChoosePermissionsForImagesYes()
    Then I save the Consent Form and confirm it has been created successfully                                                           # ConsentFormContext::iSaveTheConsentFormAndConfirm()

  Scenario: Route 4: Login and create a new Consent Form                                                                                # features/bootstrap/Features/Latest Release Regression Pack/ConsentForm.feature:95
            Site 2: Kings
            Firm 3: Anderson Glaucoma
            Type 4 chosen
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Consent"                                                                                                     # AddingNewEventContext::iAddANewEvent()
    Then I select Unbooked Procedures                                                                                                   # ConsentFormContext::iSelectUnbookedProcedures()
    Then I select Add Consent Form                                                                                                      # ConsentFormContext::iSelectAddConsentForm()
    And I choose Type "4"                                                                                                               # ConsentFormContext::iChooseType()
    Then I choose Procedure eye of "Left"                                                                                               # ConsentFormContext::iChooseProcedureEyeOf()
    And I choose an Anaesthetic type of LA                                                                                              # ConsentFormContext::iChooseAnAnaestheticTypeOf()
    And I add a common procedure of "129"                                                                                               # ConsentFormContext::iAddACommonProcedureOf()
    Then I choose Permissions for images Yes                                                                                            # ConsentFormContext::iChoosePermissionsForImagesYes()
    Then I save the Consent Form and confirm it has been created successfully                                                           # ConsentFormContext::iSaveTheConsentFormAndConfirm()

  Scenario: Route 5: Login and create a new Consent Form                                                                                # features/bootstrap/Features/Latest Release Regression Pack/ConsentForm.feature:123
            Site 2: Kings
            Firm: Anderson Glaucoma
            Validation error messages check
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Consent"                                                                                                     # AddingNewEventContext::iAddANewEvent()
    Then I select Unbooked Procedures                                                                                                   # ConsentFormContext::iSelectUnbookedProcedures()
    Then I select Add Consent Form                                                                                                      # ConsentFormContext::iSelectAddConsentForm()
    Then I save the Consent Form Draft                                                                                                  # ConsentFormContext::iSaveTheConsentFormDraft()
    Then I confirm that the Consent Validation error messages have been displayed                                                       # ConsentFormContext::iConfirmThatTheConsentValidationErrorMessagesHaveBeenDisplayed()

  Scenario: Route 6A: Login and create a Operation Booking for Route 6B test                                                            # features/bootstrap/Features/Latest Release Regression Pack/ConsentForm.feature:145
    Given I am logged in as "admin" with site "Queens" and firm "Anderson Firm (Cataract)"                                              # LoginContext::iAmLoggedInWithSiteAndFirm()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "OpBooking"                                                                                                   # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Right"                                                                                             # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "24010005"                                                                                              # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Right"                                                                                             # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "79"                                                                                                    # OperationBookingContext::iSelectAProcedureOf()
    Then I select No to Consultant required                                                                                             # OperationBookingContext::iSelectNoToConsultantRequired()
    And I select "No" for "Any other doctor to do"                                                                                      # FeatureContext::selectOption()
    And I select "No" for "Does the patient require pre-op assessment by an anaesthetist"                                               # FeatureContext::selectOption()
    And I select a Anaesthetic type "LA"                                                                                                # OperationBookingContext::iSelectAAnaestheticType()
    And I select "Patient preference" for "Anaesthetic choice"                                                                          # FeatureContext::selectOption()
    And I select "No" for "Patient needs to stop medication"                                                                            # FeatureContext::selectOption()
    Then I select Yes to a Post Operative Stay                                                                                          # OperationBookingContext::iSelectYesToAPostOperativeStay()
    And I select a Operation Site of "2"                                                                                                # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Routine                                                                                                 # OperationBookingContext::iSelectAPriorityOfRoutine()
    And I select a decision date of "10"                                                                                                # OperationBookingContext::iSelectADecisionDateOf()
    And I select "Yes" for "Admission discussed with patient"                                                                           # FeatureContext::selectOption()
    And I select "As soon as possible" for "Schedule options"                                                                           # FeatureContext::selectOption()
    Then I add comments of "Insert test comments here"                                                                                  # OperationBookingContext::iAddCommentsOf()
    Then I select Save and Schedule now                                                                                                 # OperationBookingContext::iSelectSaveAndScheduleNow()
    And I select OK to Duplicate procedure if requested                                                                                 # OperationBookingContext::okToDuplicateProcedure()
    Then I select Next Month                                                                                                            # OperationBookingContext::iSelectNextMonth()
    And I select an Available theatre slot date                                                                                         # OperationBookingContext::iSelectAnAvailableTheatreSlotDate()
    And I select an Available session time                                                                                              # OperationBookingContext::iSelectAnAvailableSessionTime()
    Then I add Session comments of "Insert session comments here"                                                                       # OperationBookingContext::iAddSessionCommentsOf()
    And I add Operation comments of "Insert operation comments here"                                                                    # OperationBookingContext::iAddOperationCommentsOf()
    Then I confirm the operation slot                                                                                                   # OperationBookingContext::iConfirmTheOperationSlot()

  Scenario: Route 6B: Login and create a new Consent Form choosing a previously created Operation Booking (from Route 6A)               # features/bootstrap/Features/Latest Release Regression Pack/ConsentForm.feature:203
            Site 2: Kings
            Firm: Anderson Glaucoma
            Type 1 chosen
            2x Additional Procedures
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Consent"                                                                                                     # AddingNewEventContext::iAddANewEvent()
    Then I select the previously created operation "booking152"                                                                         # ConsentFormContext::iSelectThePreviouslyCreatedOperation()
    Then I select Add Consent Form                                                                                                      # ConsentFormContext::iSelectAddConsentForm()
    Then I save the Consent Form and confirm it has been created successfully                                                           # ConsentFormContext::iSaveTheConsentFormAndConfirm()

@correspondence @regression
Feature: Create New Correspondence
         Regression coverage of this event is approx 95%

  Scenario: Route 1:Login and fill in a Correspondence Event                                                                            # features/bootstrap/Features/Latest Release Regression Pack/Correspondence.feature:5
            Site 1:  Queens
            Firm 3:  Anderson Glaucoma
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select Create or View Episodes and Events                                                                                    # PatientViewContext::CreateOrViewEpisodesAndEvents()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Correspondence"                                                                                              # AddingNewEventContext::iAddANewEvent()
    Then I select Site ID "1"                                                                                                           # CorrespondenceContext::iSelectSiteId()
    And I select Address Target "Gp1"                                                                                                   # CorrespondenceContext::iSelectAddressTarget()
    Then I choose a Macro of "site1"                                                                                                    # CorrespondenceContext::iChooseAMacroOf()
    And I select Clinic Date "7"                                                                                                        # CorrespondenceContext::iSelectClinicDate()
    Then I choose an Introduction of "site21"                                                                                           # CorrespondenceContext::iChooseAnIntroductionOf()
    And I choose a Diagnosis of "site541"                                                                                               # CorrespondenceContext::iChooseADiagnosisOf()
    Then I choose a Management of "site181"                                                                                             # CorrespondenceContext::iChooseAManagementOf()
    And I choose Drugs "site301"                                                                                                        # CorrespondenceContext::iChooseDrugs()
    Then I choose Outcome "site341"                                                                                                     # CorrespondenceContext::iChooseOutcome()
    And I choose CC Target "Patient19434"                                                                                               # CorrespondenceContext::iChooseCcTarget()
    Given I add a New Enclosure of "Test Enclosure"                                                                                     # CorrespondenceContext::iAddANewEnclosure()
    Then I Save the Correspondence Draft and confirm it has been created successfully                                                   # CorrespondenceContext::iSaveTheCorrespondenceDraftAndConfirm()

  Scenario: Route 2:Login and fill in a Correspondence Event                                                                            # features/bootstrap/Features/Latest Release Regression Pack/Correspondence.feature:39
            Site 1:  Queens
            Firm 3:  Anderson Glaucoma
            Alternative Diagnosis, Management, Drugs & Outcome options
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select Create or View Episodes and Events                                                                                    # PatientViewContext::CreateOrViewEpisodesAndEvents()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Correspondence"                                                                                              # AddingNewEventContext::iAddANewEvent()
    Then I select Site ID "1"                                                                                                           # CorrespondenceContext::iSelectSiteId()
    And I select Address Target "Gp1"                                                                                                   # CorrespondenceContext::iSelectAddressTarget()
    Then I choose a Macro of "site1"                                                                                                    # CorrespondenceContext::iChooseAMacroOf()
    And I select Clinic Date "7"                                                                                                        # CorrespondenceContext::iSelectClinicDate()
    Then I choose an Introduction of "site21"                                                                                           # CorrespondenceContext::iChooseAnIntroductionOf()
    And I choose a Diagnosis of "site81"                                                                                                # CorrespondenceContext::iChooseADiagnosisOf()
    Then I choose a Management of "site161"                                                                                             # CorrespondenceContext::iChooseAManagementOf()
    And I choose Drugs "site261"                                                                                                        # CorrespondenceContext::iChooseDrugs()
    Then I choose Outcome "site321"                                                                                                     # CorrespondenceContext::iChooseOutcome()
    And I choose CC Target "Patient19434"                                                                                               # CorrespondenceContext::iChooseCcTarget()
    Given I add a New Enclosure of "Test Enclosure"                                                                                     # CorrespondenceContext::iAddANewEnclosure()
    Then I Save the Correspondence Draft and confirm it has been created successfully                                                   # CorrespondenceContext::iSaveTheCorrespondenceDraftAndConfirm()

  Scenario: Route 3:Login and fill in a Correspondence Event                                                                            # features/bootstrap/Features/Latest Release Regression Pack/Correspondence.feature:74
            Site 1:  Queens
            Firm 3:  Anderson Glaucoma
            Alternative Diagnosis, Management, Drugs & Outcome options
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select Create or View Episodes and Events                                                                                    # PatientViewContext::CreateOrViewEpisodesAndEvents()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Correspondence"                                                                                              # AddingNewEventContext::iAddANewEvent()
    Then I select Site ID "1"                                                                                                           # CorrespondenceContext::iSelectSiteId()
    And I select Address Target "Gp1"                                                                                                   # CorrespondenceContext::iSelectAddressTarget()
    Then I choose a Macro of "site1"                                                                                                    # CorrespondenceContext::iChooseAMacroOf()
    And I select Clinic Date "7"                                                                                                        # CorrespondenceContext::iSelectClinicDate()
    Then I choose an Introduction of "site41"                                                                                           # CorrespondenceContext::iChooseAnIntroductionOf()
    And I choose a Diagnosis of "site541"                                                                                               # CorrespondenceContext::iChooseADiagnosisOf()
    Then I choose a Management of "site141"                                                                                             # CorrespondenceContext::iChooseAManagementOf()
    And I choose Drugs "site281"                                                                                                        # CorrespondenceContext::iChooseDrugs()
    Then I choose Outcome "site361"                                                                                                     # CorrespondenceContext::iChooseOutcome()
    And I choose CC Target "Patient19434"                                                                                               # CorrespondenceContext::iChooseCcTarget()
    Given I add a New Enclosure of "Test Enclosure"                                                                                     # CorrespondenceContext::iAddANewEnclosure()
    Then I Save the Correspondence Draft and confirm it has been created successfully                                                   # CorrespondenceContext::iSaveTheCorrespondenceDraftAndConfirm()

  Scenario: Route 4:Login and fill in a Correspondence Event                                                                            # features/bootstrap/Features/Latest Release Regression Pack/Correspondence.feature:109
            Site 1:  Queens
            Firm 3:  Anderson Glaucoma
            Alternative Diagnosis, Management, Drugs & Outcome options
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select Create or View Episodes and Events                                                                                    # PatientViewContext::CreateOrViewEpisodesAndEvents()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Correspondence"                                                                                              # AddingNewEventContext::iAddANewEvent()
    Then I select Site ID "1"                                                                                                           # CorrespondenceContext::iSelectSiteId()
    And I select Address Target "Gp1"                                                                                                   # CorrespondenceContext::iSelectAddressTarget()
    Then I choose a Macro of "site1"                                                                                                    # CorrespondenceContext::iChooseAMacroOf()
    And I select Clinic Date "7"                                                                                                        # CorrespondenceContext::iSelectClinicDate()
    Then I choose an Introduction of "site61"                                                                                           # CorrespondenceContext::iChooseAnIntroductionOf()
    And I choose a Diagnosis of "site81"                                                                                                # CorrespondenceContext::iChooseADiagnosisOf()
    Then I choose a Management of "site121"                                                                                             # CorrespondenceContext::iChooseAManagementOf()
    And I choose Drugs "site261"                                                                                                        # CorrespondenceContext::iChooseDrugs()
    Then I choose Outcome "site401"                                                                                                     # CorrespondenceContext::iChooseOutcome()
    And I choose CC Target "Patient19434"                                                                                               # CorrespondenceContext::iChooseCcTarget()
    Given I add a New Enclosure of "Test Enclosure"                                                                                     # CorrespondenceContext::iAddANewEnclosure()
    Then I Save the Correspondence Draft and confirm it has been created successfully                                                   # CorrespondenceContext::iSaveTheCorrespondenceDraftAndConfirm()

  Scenario: Route 5:Login and fill in a Correspondence Event                                                                            # features/bootstrap/Features/Latest Release Regression Pack/Correspondence.feature:144
            Site 1:  Queens
            Firm 3:  Anderson Glaucoma
            Saving without mandatory fields validation tests
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select Create or View Episodes and Events                                                                                    # PatientViewContext::CreateOrViewEpisodesAndEvents()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Correspondence"                                                                                              # AddingNewEventContext::iAddANewEvent()
    Then I Save the Correspondence Draft                                                                                                # CorrespondenceContext::iSaveTheCorrespondenceDraft()
    Then I Confirm that the Mandatory Correspondence fields validation error messages are displayed                                     # CorrespondenceContext::iConfirmThatTheMandatoryFieldsValidationErrorMessagesAreDisplayed()

@examination @regression
Feature: Create New Examination Regression Tests
          Regression over 2 Sites and 4 Firms
          Regression coverage of this event is approx 70%

  Scenario: Route 1: Login and create a new Examination Event                                                                           # features/bootstrap/Features/Latest Release Regression Pack/Examination.feature:6
            Site 1:Queens
            Firm 3:Anderson Glaucoma
            Add and then remove all Comorbidities
            Viusal Fields, Intraocular Pressure, Dilation
            Confirm that Refraction Axis entries are correctly validated when the Examination is saved
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Examination"                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I select a History of Blurred Vision, Mild Severity, Onset 1 Week, Left Eye, 1 Week                                            # ExaminationContext::iSelectAHistoryOfBlurredVision()
    And I choose to expand the Comorbidities section                                                                                    # ExaminationContext::iChooseToExpandTheComorbiditiesSection()
    Then I Add a Comorbiditiy of "1"                                                                                                    # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "2"                                                                                                    # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "3"                                                                                                    # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "4"                                                                                                    # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "5"                                                                                                    # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "6"                                                                                                    # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "7"                                                                                                    # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "8"                                                                                                    # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "9"                                                                                                    # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "10"                                                                                                   # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "11"                                                                                                   # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "12"                                                                                                   # ExaminationContext::iAddAComorbiditiyOf()
    Then I remove all comorbidities                                                                                                     # ExaminationContext::removeComorbidties()
    Then I choose to expand the Refraction section                                                                                      # ExaminationContext::iChooseToExpandTheRefractionSection()
    Then I enter left Refraction details of Sphere "1" integer "6" fraction "0.75"                                                      # ExaminationContext::LeftRefractionDetails()
    And I enter left cylinder details of of Cylinder "-1" integer "7" fraction "0.75"                                                   # ExaminationContext::iEnterLeftCylinderDetails()
    Then I enter left Axis degrees of "145"                                                                                             # ExaminationContext::iEnterLeftAxisDegreesOf()
    And I enter a left type of "5"                                                                                                      # ExaminationContext::iEnterALeftTypeOf()
    Then I enter right Refraction details of Sphere "-1" integer "9" fraction "0.75"                                                    # ExaminationContext::iEnterRightRefractionDetailsOfSphereIntegerFraction()
    And I enter right cylinder details of of Cylinder "1" integer "5" fraction "0"                                                      # ExaminationContext::iEnterRightCylinderDetailsOfOfCylinderIntegerFraction()
    Then I enter right Axis degrees of "38"                                                                                             # ExaminationContext::iEnterRightAxisDegreesOf()
    And I enter a right type of "3"                                                                                                     # ExaminationContext::iEnterARightTypeOf()
    Then I choose to expand the Visual Function section                                                                                 # ExaminationContext::iChooseToExpandTheVisualFunctionSection()
    Then I select a Left RAPD                                                                                                           # ExaminationContext::iSelectALeftRapd()
    And I add Left RAPD comments of "Left RAPD Automation test comments"                                                                # ExaminationContext::iAddLeftRapdCommentsOf()
    Then I select a Right RAPD                                                                                                          # ExaminationContext::iSelectARightRapd()
    And I add Right RAPD comments of "Left RAPD Automation test comments"                                                               # ExaminationContext::iAddRightRapdCommentsOf()
    Then I choose to expand the Colour Vision section                                                                                   # ExaminationContext::iChooseToExpandTheColourVisionSection()
    And I choose a Left Colour Vision of "1"                                                                                            # ExaminationContext::iChooseALeftColourVisionOf()
    And I choose A Left Colour Vision Value of "8"                                                                                      # ExaminationContext::iChooseALeftColourVisionValueOf()
    And I choose a Right Colour Vision of "2"                                                                                           # ExaminationContext::iChooseARightColourVisionOf()
    And I choose A Right Colour Vision Value of "4"                                                                                     # ExaminationContext::iChooseARightColourVisionValueOf()
    Then I choose to expand the Visual Acuity section                                                                                   # ExaminationContext::iChooseToExpandTheVisualAcuitySection()
    And I select a Visual Acuity of "2"                                                                                                 # ExaminationContext::iSelectAVisualAcuityOf()
    Then I choose a left Visual Acuity Snellen Metre "4" and a reading method of "5"                                                    # ExaminationContext::SnellenMetreAndAReading()
    Then I choose a right Visual Acuity Snellen Metre "4" and a reading method of "5"                                                   # ExaminationContext::RightVisualAcuitySnellenMetre()
    Then I choose to expand the Intraocular Pressure section                                                                            # ExaminationContext::iChooseToExpandTheIntraocularPressureSection()
    Then I choose a left Intraocular Pressure of "19" and Instrument "2"                                                                # ExaminationContext::iChooseALeftIntraocularPressureOfAndInstrument()
    Then I choose a right Intraocular Pressure of "29" and Instrument "2"                                                               # ExaminationContext::iChooseARightIntraocularPressureOfAndInstrument()
    Then I choose to expand the Dilation section                                                                                        # ExaminationContext::iChooseToExpandTheDilationSection()
    Then I choose left Dilation of "2" and drops of "5"                                                                                 # ExaminationContext::iChooseLeftDilationOfAndDropsOf()
    Then I choose right Dilation of "6" and drops of "3"                                                                                # ExaminationContext::iChooseRightDilationOfAndDropsOf()
    And I enter a left Dilation time of "10:00"                                                                                         # ExaminationContext::iEnterALeftDilationTimeOf()
    And I enter a right Dilation time of "13:11"                                                                                        # ExaminationContext::iEnterARightDilationTimeOf()
    Then I Save the Examination and confirm it has been created successfully                                                            # ExaminationContext::iSaveTheExaminationAndConfirm()
    Then a check is made that a left Axis degrees of "145" was entered                                                                  # ExaminationContext::aCheckIsMadeThatALeftAxisDegreesOfWasEntered()
    Then a check is made that a right Axis degrees of "38" was entered                                                                  # ExaminationContext::aCheckIsMadeThatARightAxisDegreesOfWasEntered()

  Scenario: Route 2:Login and create a new Examination Event                                                                            # features/bootstrap/Features/Latest Release Regression Pack/Examination.feature:96
            Site:1 Queens
            Firm:2 Broom Glaucoma
            Viusal Fields, Intraocular Pressure, Dilation, Refraction
            Add a second Visual Acuity reading and then remove it
            Removal of one side test
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "2"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Examination"                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I select a History of Blurred Vision, Mild Severity, Onset 1 Week, Left Eye, 1 Week                                            # ExaminationContext::iSelectAHistoryOfBlurredVision()
    And I choose to expand the Comorbidities section                                                                                    # ExaminationContext::iChooseToExpandTheComorbiditiesSection()
    Then I Add a Comorbiditiy of "4"                                                                                                    # ExaminationContext::iAddAComorbiditiyOf()
    Then I choose to expand the Visual Function section                                                                                 # ExaminationContext::iChooseToExpandTheVisualFunctionSection()
    Then I select a Left RAPD                                                                                                           # ExaminationContext::iSelectALeftRapd()
    And I add Left RAPD comments of "Left RAPD Automation test comments"                                                                # ExaminationContext::iAddLeftRapdCommentsOf()
    Then I select a Right RAPD                                                                                                          # ExaminationContext::iSelectARightRapd()
    And I add Right RAPD comments of "Left RAPD Automation test comments"                                                               # ExaminationContext::iAddRightRapdCommentsOf()
    Then I choose to expand the Colour Vision section                                                                                   # ExaminationContext::iChooseToExpandTheColourVisionSection()
    And I choose a Left Colour Vision of "1"                                                                                            # ExaminationContext::iChooseALeftColourVisionOf()
    And I choose A Left Colour Vision Value of "8"                                                                                      # ExaminationContext::iChooseALeftColourVisionValueOf()
    And I choose a Right Colour Vision of "2"                                                                                           # ExaminationContext::iChooseARightColourVisionOf()
    And I choose A Right Colour Vision Value of "4"                                                                                     # ExaminationContext::iChooseARightColourVisionValueOf()
    Then I choose to expand the Visual Acuity section                                                                                   # ExaminationContext::iChooseToExpandTheVisualAcuitySection()
    And I select a Visual Acuity of "1"                                                                                                 # ExaminationContext::iSelectAVisualAcuityOf()
    Then I choose a left Visual Acuity ETDRS Letters Snellen Metre "119" and a reading method of "2"                                    # ExaminationContext::iChooseALeftVisualAcuityEtdrsLettersSnellenMetreAndAReadingMethodOf()
    Then I choose a right Visual Acuity ETDRS Letters Snellen Metre "119" and a reading method of "2"                                   # ExaminationContext::iChooseARightVisualAcuityEtdrsLettersSnellenMetreAndAReadingMethodOf()
    And I choose to add a new left Visual Acuity reading of "6" and a reading method of "4"                                             # ExaminationContext::iChooseToAddANewLeftVisualAcuityReadingOfAndAReadingMethodOf()
    And I choose to add a new Right Visual Acuity reading of "3" and a reading method of "2"                                            # ExaminationContext::iChooseToAddANewRightVisualAcuityReadingOfAndAReadingMethodOf()
    Then I remove the newly added Left Visual Acuity                                                                                    # ExaminationContext::iRemoveTheNewlyAddedLeftVisualAcuity()
    Then I remove the newly added Right Visual Acuity                                                                                   # ExaminationContext::iRemoveTheNewlyAddedRightVisualAcuity()
    Then I choose to expand the Intraocular Pressure section                                                                            # ExaminationContext::iChooseToExpandTheIntraocularPressureSection()
    Then I choose a left Intraocular Pressure of "8" and Instrument "4"                                                                 # ExaminationContext::iChooseALeftIntraocularPressureOfAndInstrument()
    Then I choose a right Intraocular Pressure of "77" and Instrument "1"                                                               # ExaminationContext::iChooseARightIntraocularPressureOfAndInstrument()
    Then I choose to expand the Dilation section                                                                                        # ExaminationContext::iChooseToExpandTheDilationSection()
    Then I choose left Dilation of "5" and drops of "4"                                                                                 # ExaminationContext::iChooseLeftDilationOfAndDropsOf()
    Then I choose right Dilation of "2" and drops of "2"                                                                                # ExaminationContext::iChooseRightDilationOfAndDropsOf()
    And I enter a left Dilation time of "20:00"                                                                                         # ExaminationContext::iEnterALeftDilationTimeOf()
    And I enter a right Dilation time of "16:11"                                                                                        # ExaminationContext::iEnterARightDilationTimeOf()
    Then I choose to expand the Refraction section                                                                                      # ExaminationContext::iChooseToExpandTheRefractionSection()
    Then I enter left Refraction details of Sphere "-1" integer "11" fraction "0.50"                                                    # ExaminationContext::LeftRefractionDetails()
    And I enter left cylinder details of of Cylinder "1" integer "4" fraction "0.25"                                                    # ExaminationContext::iEnterLeftCylinderDetails()
    Then I enter left Axis degrees of "56"                                                                                              # ExaminationContext::iEnterLeftAxisDegreesOf()
    Then I enter left Axis degrees of "56"                                                                                              # ExaminationContext::iEnterLeftAxisDegreesOf()
    And I enter a left type of "2"                                                                                                      # ExaminationContext::iEnterALeftTypeOf()
    Then I remove Refraction right side                                                                                                 # ExaminationContext::iRemoveRefractionRightSide()
    Then I Save the Examination and confirm it has been created successfully                                                            # ExaminationContext::iSaveTheExaminationAndConfirm()

  Scenario: Route 3:Login and create a new Examination Event                                                                            # features/bootstrap/Features/Latest Release Regression Pack/Examination.feature:165
            Site:1 Queens
            Firm:1 Anderson Cataract
            Viusal Fields, Intraocular Pressure, Dilation, Refraction, Conclusion
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Examination"                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I select a History of Blurred Vision, Mild Severity, Onset 1 Week, Left Eye, 1 Week                                            # ExaminationContext::iSelectAHistoryOfBlurredVision()
    And I choose to expand the Comorbidities section                                                                                    # ExaminationContext::iChooseToExpandTheComorbiditiesSection()
    Then I Add a Comorbiditiy of "8"                                                                                                    # ExaminationContext::iAddAComorbiditiyOf()
    Then I choose to expand the Visual Function section                                                                                 # ExaminationContext::iChooseToExpandTheVisualFunctionSection()
    Then I select a Left RAPD                                                                                                           # ExaminationContext::iSelectALeftRapd()
    And I add Left RAPD comments of "Left RAPD Automation test comments"                                                                # ExaminationContext::iAddLeftRapdCommentsOf()
    Then I select a Right RAPD                                                                                                          # ExaminationContext::iSelectARightRapd()
    And I add Right RAPD comments of "Left RAPD Automation test comments"                                                               # ExaminationContext::iAddRightRapdCommentsOf()
    Then I choose to expand the Colour Vision section                                                                                   # ExaminationContext::iChooseToExpandTheColourVisionSection()
    And I choose a Left Colour Vision of "1"                                                                                            # ExaminationContext::iChooseALeftColourVisionOf()
    And I choose A Left Colour Vision Value of "8"                                                                                      # ExaminationContext::iChooseALeftColourVisionValueOf()
    And I choose a Right Colour Vision of "2"                                                                                           # ExaminationContext::iChooseARightColourVisionOf()
    And I choose A Right Colour Vision Value of "4"                                                                                     # ExaminationContext::iChooseARightColourVisionValueOf()
    Then I choose to expand the Visual Acuity section                                                                                   # ExaminationContext::iChooseToExpandTheVisualAcuitySection()
    And I select a Visual Acuity of "1"                                                                                                 # ExaminationContext::iSelectAVisualAcuityOf()
    Then I choose a left Visual Acuity ETDRS Letters Snellen Metre "119" and a reading method of "2"                                    # ExaminationContext::iChooseALeftVisualAcuityEtdrsLettersSnellenMetreAndAReadingMethodOf()
    Then I choose a right Visual Acuity ETDRS Letters Snellen Metre "119" and a reading method of "2"                                   # ExaminationContext::iChooseARightVisualAcuityEtdrsLettersSnellenMetreAndAReadingMethodOf()
    Then I choose to expand the Intraocular Pressure section                                                                            # ExaminationContext::iChooseToExpandTheIntraocularPressureSection()
    Then I choose a left Intraocular Pressure of "8" and Instrument "4"                                                                 # ExaminationContext::iChooseALeftIntraocularPressureOfAndInstrument()
    Then I choose a right Intraocular Pressure of "77" and Instrument "1"                                                               # ExaminationContext::iChooseARightIntraocularPressureOfAndInstrument()
    Then I choose to expand the Dilation section                                                                                        # ExaminationContext::iChooseToExpandTheDilationSection()
    Then I choose left Dilation of "5" and drops of "4"                                                                                 # ExaminationContext::iChooseLeftDilationOfAndDropsOf()
    Then I choose right Dilation of "2" and drops of "2"                                                                                # ExaminationContext::iChooseRightDilationOfAndDropsOf()
    And I enter a left Dilation time of "08:35"                                                                                         # ExaminationContext::iEnterALeftDilationTimeOf()
    And I enter a right Dilation time of "22:12"                                                                                        # ExaminationContext::iEnterARightDilationTimeOf()
    Then I choose to expand the Refraction section                                                                                      # ExaminationContext::iChooseToExpandTheRefractionSection()
    Then I enter left Refraction details of Sphere "-1" integer "11" fraction "0.50"                                                    # ExaminationContext::LeftRefractionDetails()
    And I enter left cylinder details of of Cylinder "1" integer "4" fraction "0.25"                                                    # ExaminationContext::iEnterLeftCylinderDetails()
    Then I enter left Axis degrees of "56"                                                                                              # ExaminationContext::iEnterLeftAxisDegreesOf()
    And I enter a left type of "2"                                                                                                      # ExaminationContext::iEnterALeftTypeOf()
    Then I enter right Refraction details of Sphere "-1" integer "9" fraction "0.75"                                                    # ExaminationContext::iEnterRightRefractionDetailsOfSphereIntegerFraction()
    And I enter right cylinder details of of Cylinder "1" integer "5" fraction "0"                                                      # ExaminationContext::iEnterRightCylinderDetailsOfOfCylinderIntegerFraction()
    Then I enter right Axis degrees of "167"                                                                                            # ExaminationContext::iEnterRightAxisDegreesOf()
    Then I enter right Axis degrees of "167"                                                                                            # ExaminationContext::iEnterRightAxisDegreesOf()
    And I enter a right type of "3"                                                                                                     # ExaminationContext::iEnterARightTypeOf()
    Then I choose to expand the Conclusion section                                                                                      # ExaminationContext::iChooseToExpandTheConclusionSection()
    And I choose a Conclusion option of "booked for first eye, "                                                                        # ExaminationContext::iChooseAConclusionOptionOf()
    Then I Save the Examination and confirm it has been created successfully                                                            # ExaminationContext::iSaveTheExaminationAndConfirm()

  Scenario: Route 4: Login and create a new Examination Event                                                                           # features/bootstrap/Features/Latest Release Regression Pack/Examination.feature:232
            Site:1 Queens
            Firm:1 Anderson Cataract
            Opening every additional Optional Element that can be included in Automation tests (excluding EyeDraw elements)
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Examination"                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I select a History of Blurred Vision, Mild Severity, Onset 1 Week, Left Eye, 1 Week                                            # ExaminationContext::iSelectAHistoryOfBlurredVision()
    And I choose to expand the Comorbidities section                                                                                    # ExaminationContext::iChooseToExpandTheComorbiditiesSection()
    Then I Add a Comorbiditiy of "8"                                                                                                    # ExaminationContext::iAddAComorbiditiyOf()
    Then I choose to expand the Visual Function section                                                                                 # ExaminationContext::iChooseToExpandTheVisualFunctionSection()
    Then I select a Left RAPD                                                                                                           # ExaminationContext::iSelectALeftRapd()
    And I add Left RAPD comments of "Left RAPD Automation test comments"                                                                # ExaminationContext::iAddLeftRapdCommentsOf()
    Then I select a Right RAPD                                                                                                          # ExaminationContext::iSelectARightRapd()
    And I add Right RAPD comments of "Left RAPD Automation test comments"                                                               # ExaminationContext::iAddRightRapdCommentsOf()
    Then I choose to expand the Colour Vision section                                                                                   # ExaminationContext::iChooseToExpandTheColourVisionSection()
    And I choose a Left Colour Vision of "1"                                                                                            # ExaminationContext::iChooseALeftColourVisionOf()
    And I choose A Left Colour Vision Value of "8"                                                                                      # ExaminationContext::iChooseALeftColourVisionValueOf()
    And I choose a Right Colour Vision of "2"                                                                                           # ExaminationContext::iChooseARightColourVisionOf()
    And I choose A Right Colour Vision Value of "4"                                                                                     # ExaminationContext::iChooseARightColourVisionValueOf()
    Then I choose to expand the Visual Acuity section                                                                                   # ExaminationContext::iChooseToExpandTheVisualAcuitySection()
    And I select a Visual Acuity of "1"                                                                                                 # ExaminationContext::iSelectAVisualAcuityOf()
    Then I choose a left Visual Acuity ETDRS Letters Snellen Metre "119" and a reading method of "2"                                    # ExaminationContext::iChooseALeftVisualAcuityEtdrsLettersSnellenMetreAndAReadingMethodOf()
    Then I choose a right Visual Acuity ETDRS Letters Snellen Metre "119" and a reading method of "2"                                   # ExaminationContext::iChooseARightVisualAcuityEtdrsLettersSnellenMetreAndAReadingMethodOf()
    Then I choose to expand the Intraocular Pressure section                                                                            # ExaminationContext::iChooseToExpandTheIntraocularPressureSection()
    Then I choose a left Intraocular Pressure of "8" and Instrument "4"                                                                 # ExaminationContext::iChooseALeftIntraocularPressureOfAndInstrument()
    Then I choose a right Intraocular Pressure of "77" and Instrument "1"                                                               # ExaminationContext::iChooseARightIntraocularPressureOfAndInstrument()
    Then I choose to expand the Dilation section                                                                                        # ExaminationContext::iChooseToExpandTheDilationSection()
    Then I choose left Dilation of "5" and drops of "4"                                                                                 # ExaminationContext::iChooseLeftDilationOfAndDropsOf()
    Then I choose right Dilation of "2" and drops of "2"                                                                                # ExaminationContext::iChooseRightDilationOfAndDropsOf()
    And I enter a left Dilation time of "08:35"                                                                                         # ExaminationContext::iEnterALeftDilationTimeOf()
    And I enter a right Dilation time of "22:12"                                                                                        # ExaminationContext::iEnterARightDilationTimeOf()
    Then I choose to expand the Refraction section                                                                                      # ExaminationContext::iChooseToExpandTheRefractionSection()
    Then I enter left Refraction details of Sphere "-1" integer "11" fraction "0.50"                                                    # ExaminationContext::LeftRefractionDetails()
    And I enter left cylinder details of of Cylinder "1" integer "4" fraction "0.25"                                                    # ExaminationContext::iEnterLeftCylinderDetails()
    Then I enter left Axis degrees of "56"                                                                                              # ExaminationContext::iEnterLeftAxisDegreesOf()
    And I enter a left type of "2"                                                                                                      # ExaminationContext::iEnterALeftTypeOf()
    Then I enter right Refraction details of Sphere "-1" integer "9" fraction "0.75"                                                    # ExaminationContext::iEnterRightRefractionDetailsOfSphereIntegerFraction()
    And I enter right cylinder details of of Cylinder "1" integer "5" fraction "0"                                                      # ExaminationContext::iEnterRightCylinderDetailsOfOfCylinderIntegerFraction()
    Then I enter right Axis degrees of "167"                                                                                            # ExaminationContext::iEnterRightAxisDegreesOf()
    Then I enter right Axis degrees of "167"                                                                                            # ExaminationContext::iEnterRightAxisDegreesOf()
    And I enter a right type of "3"                                                                                                     # ExaminationContext::iEnterARightTypeOf()
    Then I choose to expand the Adnexal Comorbidity section                                                                             # ExaminationContext::iChooseToExpandTheAdnexalComorbiditySection()
    Then I choose to expand the Adnexal Comorbidity section                                                                             # ExaminationContext::iChooseToExpandTheAdnexalComorbiditySection()
    And I add a left Adnexal Comorbidity of "lower lid ectropion, "                                                                     # ExaminationContext::iAddALeftAdnexalComorbidityOf()
    And I add a right Adnexal Comorbidity of "conjunctivitis, "                                                                         # ExaminationContext::iAddARightAdnexalComorbidityOf()
    Then I choose to expand the Pupillary Abnormalities section                                                                         # ExaminationContext::iChooseToExpandThePupillaryAbnormalitiesSection()
    And I add a left Abnormality of "3"                                                                                                 # ExaminationContext::iAddALeftAbnormalityOf()
    And I add a right Abnormality of "4"                                                                                                # ExaminationContext::iAddARightAbnormalityOf()
    Then I choose to expand the Diagnoses section                                                                                       # ExaminationContext::iChooseToExpandTheDiagnosesSection()
    And I choose a left eye diagnosis                                                                                                   # ExaminationContext::iChooseALeftEyeDiagnosis()
    And I select "Familial infantile myasthenia" for "Diagnosis"                                                                        # FeatureContext::selectOption()
    And I choose a right eye diagnosis                                                                                                  # ExaminationContext::iChooseARightEyeDiagnosis()
    And I select "Nuclear cataract" for "Diagnosis"                                                                                     # FeatureContext::selectOption()
    And I choose both eyes diagnosis                                                                                                    # ExaminationContext::iChooseBothEyesDiagnosis()
    And I select "Cataract" for "Diagnosis"                                                                                             # FeatureContext::selectOption()
    Then I choose a principal diagnosis                                                                                                 # ExaminationContext::principalDiagnosis()
    Then I choose to expand the Investigation section                                                                                   # ExaminationContext::iChooseToExpandTheInvestigationSection()
    And I add an Investigation of "refraction, "                                                                                        # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "Fluorescein angiography, "                                                                           # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "OCT, "                                                                                               # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "ultrasound, "                                                                                        # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "field test, "                                                                                        # ExaminationContext::iAddAnInvestigationOf()
    Then I choose to expand the Clinical Management section                                                                             # ExaminationContext::iChooseToExpandTheClinicalManagementSection()
    And I choose to expand Cataract Surgical Management                                                                                 # ExaminationContext::iChooseToExpandCataractSurgicalManagement()
    And I add Cataract Management Comments of "new glasses prescribed, "                                                                # ExaminationContext::iAddCataractManagementCommentsOf()
    Then I select First Eye                                                                                                             # ExaminationContext::iSelectFirstEye()
    And I choose Straightforward case                                                                                                   # ExaminationContext::iChooseStraightforwardCase()
    And the post operative target has been discussed with patient Yes                                                                   # ExaminationContext::thePostOperativeTargetHasBeenDiscussedWithPatientYes()
    Then I select a suitable for surgeon of "3"                                                                                         # ExaminationContext::iSelectASuitableForSurgeonOf()
    And I tick the Supervised checkbox                                                                                                  # ExaminationContext::iTickTheSupervisedCheckbox()
    Then I select Previous Refractive Surgery Yes                                                                                       # ExaminationContext::iSelectPreviousRefractiveSurgeryYes()
    And I select Vitrectomised Eye Yes                                                                                                  # ExaminationContext::iSelectVitrectomisedEyeYes()
    Then I choose to expand the Laser Management section                                                                                # ExaminationContext::iChooseToExpandTheLaserManagementSection()
    And I choose a right laser choice of "4"                                                                                            # ExaminationContext::iChooseARightLaserOf()
    And I choose a left laser choice of "4"                                                                                             # ExaminationContext::iChooseALeftLaserOf()
    And I choose a left laser type of "1"                                                                                               # ExaminationContext::iChooseALeftLaserTypeOf()
    And I choose a right laser type of "2"                                                                                              # ExaminationContext::iChooseARightLaserTypeOf()
    Then I choose to expand the Injection Management section                                                                            # ExaminationContext::iChooseToExpandTheInjectionManagementSection()
    And I select a Right Diagnosis of Choroidal Retinal Neovascularisation                                                              # ExaminationContext::iSelectADiagnosisOfChoroidalRetinalNeovascularisation()
    Then I select Right Secondary to "267718000"                                                                                        # ExaminationContext::iSelectSecondaryTo()
    And I select a Right Intended Treatment of "1"                                                                                      # ExaminationContext::iSelectARightIntendedTreatmentOf()
    And I select a Left Diagnosis of Choroidal Retinal Neovascularisation                                                               # ExaminationContext::iSelectALeftDiagnosisOfChoroidalRetinalNeovascularisation()
    Then I select Left Secondary to "267718000"                                                                                         # ExaminationContext::iSelectLeftSecondaryTo()
    And I select a Left Intended Treatment of "7"                                                                                       # ExaminationContext::iSelectALeftIntendedTreatmentOf()
    Then I choose a Right CRT Increase <100 of Yes                                                                                      # ExaminationContext::iChooseACrtIncreaseOfYes()
    Then I choose a Right CRT >=100 of Yes                                                                                              # ExaminationContext::iChooseACrtOfYes()
    Then I choose a Right Loss of 5 letters No                                                                                          # ExaminationContext::iChooseALossOfLettersNo()
    Then I choose a Right Loss of 5 letters >5 No                                                                                       # ExaminationContext::iChooseALossOfLettersNo2()
    Then I choose a Left CRT Increase <100 of No                                                                                        # ExaminationContext::iChooseALeftCrtIncreaseOfNo()
    Then I choose a Left CRT >=100 of No                                                                                                # ExaminationContext::iChooseALeftCrtOfNo()
    Then I choose a Left Loss of 5 letters Yes                                                                                          # ExaminationContext::iChooseALeftLossOfLettersYes()
    Then I choose a Left Loss of 5 letters >5 No                                                                                        # ExaminationContext::iChooseALeftLossOfLettersNo2()
    Then I choose to expand the Risks section                                                                                           # ExaminationContext::iChooseToExpandTheRisksSection()
    And I add comments to the Risk section of "Risk section comments Automation Test"                                                   # ExaminationContext::iAddCommentsToTheRiskSectionOf()
    Then I choose to expand the Clinic Outcome section                                                                                  # ExaminationContext::iChooseToExpandTheClinicOutcomeSection()
    And I choose a Clinical Outcome Status of Discharge                                                                                 # ExaminationContext::iChooseAClinicalOutcomeStatusOfDischarge()
    Then I choose to expand the Conclusion section                                                                                      # ExaminationContext::iChooseToExpandTheConclusionSection()
    And I choose a Conclusion option of "booked for first eye, "                                                                        # ExaminationContext::iChooseAConclusionOptionOf()
    Then I Save the Examination and confirm it has been created successfully                                                            # ExaminationContext::iSaveTheExaminationAndConfirm()

  Scenario: ROUTE 5: Login and create a new Examination Event                                                                           # features/bootstrap/Features/Latest Release Regression Pack/Examination.feature:373
            Site:1 Queens
            Firm:1 Anderson Cataract
            Injection management route
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Examination"                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I select a History of Blurred Vision, Mild Severity, Onset 1 Week, Left Eye, 1 Week                                            # ExaminationContext::iSelectAHistoryOfBlurredVision()
    And I choose to expand the Comorbidities section                                                                                    # ExaminationContext::iChooseToExpandTheComorbiditiesSection()
    Then I Add a Comorbiditiy of "8"                                                                                                    # ExaminationContext::iAddAComorbiditiyOf()
    Then I choose to expand the Visual Function section                                                                                 # ExaminationContext::iChooseToExpandTheVisualFunctionSection()
    Then I select a Left RAPD                                                                                                           # ExaminationContext::iSelectALeftRapd()
    And I add Left RAPD comments of "Left RAPD Automation test comments"                                                                # ExaminationContext::iAddLeftRapdCommentsOf()
    Then I select a Right RAPD                                                                                                          # ExaminationContext::iSelectARightRapd()
    And I add Right RAPD comments of "Left RAPD Automation test comments"                                                               # ExaminationContext::iAddRightRapdCommentsOf()
    Then I choose to expand the Colour Vision section                                                                                   # ExaminationContext::iChooseToExpandTheColourVisionSection()
    And I choose a Left Colour Vision of "1"                                                                                            # ExaminationContext::iChooseALeftColourVisionOf()
    And I choose A Left Colour Vision Value of "8"                                                                                      # ExaminationContext::iChooseALeftColourVisionValueOf()
    And I choose a Right Colour Vision of "2"                                                                                           # ExaminationContext::iChooseARightColourVisionOf()
    And I choose A Right Colour Vision Value of "4"                                                                                     # ExaminationContext::iChooseARightColourVisionValueOf()
    Then I choose to expand the Visual Acuity section                                                                                   # ExaminationContext::iChooseToExpandTheVisualAcuitySection()
    And I select a Visual Acuity of "1"                                                                                                 # ExaminationContext::iSelectAVisualAcuityOf()
    Then I choose a left Visual Acuity ETDRS Letters Snellen Metre "119" and a reading method of "2"                                    # ExaminationContext::iChooseALeftVisualAcuityEtdrsLettersSnellenMetreAndAReadingMethodOf()
    Then I choose a right Visual Acuity ETDRS Letters Snellen Metre "119" and a reading method of "2"                                   # ExaminationContext::iChooseARightVisualAcuityEtdrsLettersSnellenMetreAndAReadingMethodOf()
    Then I choose to expand the Intraocular Pressure section                                                                            # ExaminationContext::iChooseToExpandTheIntraocularPressureSection()
    Then I choose a left Intraocular Pressure of "8" and Instrument "4"                                                                 # ExaminationContext::iChooseALeftIntraocularPressureOfAndInstrument()
    Then I choose a right Intraocular Pressure of "77" and Instrument "1"                                                               # ExaminationContext::iChooseARightIntraocularPressureOfAndInstrument()
    Then I choose to expand the Dilation section                                                                                        # ExaminationContext::iChooseToExpandTheDilationSection()
    Then I choose left Dilation of "5" and drops of "4"                                                                                 # ExaminationContext::iChooseLeftDilationOfAndDropsOf()
    Then I choose right Dilation of "2" and drops of "2"                                                                                # ExaminationContext::iChooseRightDilationOfAndDropsOf()
    And I enter a left Dilation time of "09:14"                                                                                         # ExaminationContext::iEnterALeftDilationTimeOf()
    And I enter a right Dilation time of "12:00"                                                                                        # ExaminationContext::iEnterARightDilationTimeOf()
    Then I choose to expand the Refraction section                                                                                      # ExaminationContext::iChooseToExpandTheRefractionSection()
    Then I enter left Refraction details of Sphere "-1" integer "11" fraction "0.50"                                                    # ExaminationContext::LeftRefractionDetails()
    And I enter left cylinder details of of Cylinder "1" integer "4" fraction "0.25"                                                    # ExaminationContext::iEnterLeftCylinderDetails()
    Then I enter left Axis degrees of "56"                                                                                              # ExaminationContext::iEnterLeftAxisDegreesOf()
    And I enter a left type of "2"                                                                                                      # ExaminationContext::iEnterALeftTypeOf()
    Then I enter right Refraction details of Sphere "-1" integer "9" fraction "0.75"                                                    # ExaminationContext::iEnterRightRefractionDetailsOfSphereIntegerFraction()
    And I enter right cylinder details of of Cylinder "1" integer "5" fraction "0"                                                      # ExaminationContext::iEnterRightCylinderDetailsOfOfCylinderIntegerFraction()
    Then I enter right Axis degrees of "167"                                                                                            # ExaminationContext::iEnterRightAxisDegreesOf()
    Then I enter right Axis degrees of "167"                                                                                            # ExaminationContext::iEnterRightAxisDegreesOf()
    And I enter a right type of "3"                                                                                                     # ExaminationContext::iEnterARightTypeOf()
    Then I choose to expand the Adnexal Comorbidity section                                                                             # ExaminationContext::iChooseToExpandTheAdnexalComorbiditySection()
    And I add a left Adnexal Comorbidity of "crusting of lashes, "                                                                      # ExaminationContext::iAddALeftAdnexalComorbidityOf()
    And I add a right Adnexal Comorbidity of "conjunctivitis, "                                                                         # ExaminationContext::iAddARightAdnexalComorbidityOf()
    Then I choose to expand the Pupillary Abnormalities section                                                                         # ExaminationContext::iChooseToExpandThePupillaryAbnormalitiesSection()
    And I add a left Abnormality of "3"                                                                                                 # ExaminationContext::iAddALeftAbnormalityOf()
    And I add a right Abnormality of "4"                                                                                                # ExaminationContext::iAddARightAbnormalityOf()
    Then I choose to expand the Diagnoses section                                                                                       # ExaminationContext::iChooseToExpandTheDiagnosesSection()
    And I choose a left eye diagnosis                                                                                                   # ExaminationContext::iChooseALeftEyeDiagnosis()
    And I select "Pseudophakia" for "Diagnosis"                                                                                         # FeatureContext::selectOption()
    Then I choose a principal diagnosis                                                                                                 # ExaminationContext::principalDiagnosis()
    Then I choose to expand the Investigation section                                                                                   # ExaminationContext::iChooseToExpandTheInvestigationSection()
    And I add an Investigation of "refraction, "                                                                                        # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "Fluorescein angiography, "                                                                           # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "OCT, "                                                                                               # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "ultrasound, "                                                                                        # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "field test, "                                                                                        # ExaminationContext::iAddAnInvestigationOf()
    Then I choose to expand the Clinical Management section                                                                             # ExaminationContext::iChooseToExpandTheClinicalManagementSection()
    And I choose to expand Cataract Surgical Management                                                                                 # ExaminationContext::iChooseToExpandCataractSurgicalManagement()
    And I add Cataract Management Comments of "new glasses prescribed, "                                                                # ExaminationContext::iAddCataractManagementCommentsOf()
    Then I select First Eye                                                                                                             # ExaminationContext::iSelectFirstEye()
    And I choose Straightforward case                                                                                                   # ExaminationContext::iChooseStraightforwardCase()
    And the post operative target has been discussed with patient No                                                                    # ExaminationContext::thePostOperativeTargetHasBeenDiscussedWithPatientNo()
    Then I select a suitable for surgeon of "3"                                                                                         # ExaminationContext::iSelectASuitableForSurgeonOf()
    And I tick the Supervised checkbox                                                                                                  # ExaminationContext::iTickTheSupervisedCheckbox()
    Then I select Previous Refractive Surgery No                                                                                        # ExaminationContext::iSelectPreviousRefractiveSurgeryNo()
    And I select Vitrectomised Eye No                                                                                                   # ExaminationContext::iSelectVitrectomisedEyeNo()
    Then I choose to expand the Laser Management section                                                                                # ExaminationContext::iChooseToExpandTheLaserManagementSection()
    And I choose a right laser choice of "4"                                                                                            # ExaminationContext::iChooseARightLaserOf()
    And I choose a left laser choice of "4"                                                                                             # ExaminationContext::iChooseALeftLaserOf()
    And I choose a left laser type of "1"                                                                                               # ExaminationContext::iChooseALeftLaserTypeOf()
    And I choose a right laser type of "2"                                                                                              # ExaminationContext::iChooseARightLaserTypeOf()
    Then I choose to expand the Injection Management section                                                                            # ExaminationContext::iChooseToExpandTheInjectionManagementSection()
    And I select a Right Diagnosis of Choroidal Retinal Neovascularisation                                                              # ExaminationContext::iSelectADiagnosisOfChoroidalRetinalNeovascularisation()
    Then I select Right Secondary to "255025001"                                                                                        # ExaminationContext::iSelectSecondaryTo()
    And I select a Right Intended Treatment of "1"                                                                                      # ExaminationContext::iSelectARightIntendedTreatmentOf()
    And I select a Left Diagnosis of Choroidal Retinal Neovascularisation                                                               # ExaminationContext::iSelectALeftDiagnosisOfChoroidalRetinalNeovascularisation()
    Then I select Left Secondary to "414783007"                                                                                         # ExaminationContext::iSelectLeftSecondaryTo()
    And I select a Left Intended Treatment of "7"                                                                                       # ExaminationContext::iSelectALeftIntendedTreatmentOf()
    Then I choose a Right CRT Increase <100 of No                                                                                       # ExaminationContext::iChooseACrtIncreaseOfNo()
    Then I choose a Right CRT >=100 of No                                                                                               # ExaminationContext::iChooseACrtOfNo()
    Then I choose a Right Loss of 5 letters Yes                                                                                         # ExaminationContext::iChooseALossOfLettersYes()
    Then I choose a Right Loss of 5 letters >5 Yes                                                                                      # ExaminationContext::iChooseALossOfLettersYes2()
    Then I choose a Left CRT Increase <100 of Yes                                                                                       # ExaminationContext::iChooseALeftCrtIncreaseOfYes()
    Then I choose a Left CRT >=100 of Yes                                                                                               # ExaminationContext::iChooseALeftCrtOfYes()
    Then I choose a Left Loss of 5 letters No                                                                                           # ExaminationContext::iChooseALeftLossOfLettersNo()
    Then I choose a Left Loss of 5 letters >5 Yes                                                                                       # ExaminationContext::iChooseALeftLossOfLettersYes2()
    Then I choose to expand the Risks section                                                                                           # ExaminationContext::iChooseToExpandTheRisksSection()
    And I add comments to the Risk section of "Risk section comments Automation Test"                                                   # ExaminationContext::iAddCommentsToTheRiskSectionOf()
    Then I choose to expand the Clinic Outcome section                                                                                  # ExaminationContext::iChooseToExpandTheClinicOutcomeSection()
    And I choose a Clinical Outcome Status of Follow Up                                                                                 # ExaminationContext::iChooseAClinicalOutcomeStatusOfFollowUp()
    Then I choose a Follow Up quantity of "5"                                                                                           # ExaminationContext::iChooseAFollowUpQuantityOf()
    And I choose a Follow Up period of "2"                                                                                              # ExaminationContext::iChooseAFollowUpPeriodOf()
    And I tick the Patient Suitable for Community Patient Tariff                                                                        # ExaminationContext::iTickThePatientSuitableForCommunityPatientTariff()
    Then I choose a Role of "4"                                                                                                         # ExaminationContext::iChooseARoleOf()
    Then I choose to expand the Conclusion section                                                                                      # ExaminationContext::iChooseToExpandTheConclusionSection()
    And I choose a Conclusion option of "glasses prescribed, "                                                                          # ExaminationContext::iChooseAConclusionOptionOf()
    Then I Save the Examination and confirm it has been created successfully                                                            # ExaminationContext::iSaveTheExaminationAndConfirm()

  Scenario: ROUTE 6: Login and create a new Examination Event:                                                                          # features/bootstrap/Features/Latest Release Regression Pack/Examination.feature:511
            Site:1 Queens, Firm:1 Anderson Cataract.
            Remaining additional Injection Management sections
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Examination"                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I select a History of Blurred Vision, Mild Severity, Onset 1 Week, Left Eye, 1 Week                                            # ExaminationContext::iSelectAHistoryOfBlurredVision()
    And I choose to expand the Comorbidities section                                                                                    # ExaminationContext::iChooseToExpandTheComorbiditiesSection()
    Then I Add a Comorbiditiy of "8"                                                                                                    # ExaminationContext::iAddAComorbiditiyOf()
    Then I choose to expand the Visual Function section                                                                                 # ExaminationContext::iChooseToExpandTheVisualFunctionSection()
    Then I select a Left RAPD                                                                                                           # ExaminationContext::iSelectALeftRapd()
    And I add Left RAPD comments of "Left RAPD Automation test comments"                                                                # ExaminationContext::iAddLeftRapdCommentsOf()
    Then I select a Right RAPD                                                                                                          # ExaminationContext::iSelectARightRapd()
    And I add Right RAPD comments of "Left RAPD Automation test comments"                                                               # ExaminationContext::iAddRightRapdCommentsOf()
    Then I choose to expand the Colour Vision section                                                                                   # ExaminationContext::iChooseToExpandTheColourVisionSection()
    And I choose a Left Colour Vision of "1"                                                                                            # ExaminationContext::iChooseALeftColourVisionOf()
    And I choose A Left Colour Vision Value of "8"                                                                                      # ExaminationContext::iChooseALeftColourVisionValueOf()
    And I choose a Right Colour Vision of "2"                                                                                           # ExaminationContext::iChooseARightColourVisionOf()
    And I choose A Right Colour Vision Value of "4"                                                                                     # ExaminationContext::iChooseARightColourVisionValueOf()
    Then I choose to expand the Visual Acuity section                                                                                   # ExaminationContext::iChooseToExpandTheVisualAcuitySection()
    And I select a Visual Acuity of "1"                                                                                                 # ExaminationContext::iSelectAVisualAcuityOf()
    Then I choose a left Visual Acuity ETDRS Letters Snellen Metre "119" and a reading method of "2"                                    # ExaminationContext::iChooseALeftVisualAcuityEtdrsLettersSnellenMetreAndAReadingMethodOf()
    Then I choose a right Visual Acuity ETDRS Letters Snellen Metre "119" and a reading method of "2"                                   # ExaminationContext::iChooseARightVisualAcuityEtdrsLettersSnellenMetreAndAReadingMethodOf()
    Then I choose to expand the Intraocular Pressure section                                                                            # ExaminationContext::iChooseToExpandTheIntraocularPressureSection()
    Then I choose a left Intraocular Pressure of "8" and Instrument "4"                                                                 # ExaminationContext::iChooseALeftIntraocularPressureOfAndInstrument()
    Then I choose a right Intraocular Pressure of "77" and Instrument "1"                                                               # ExaminationContext::iChooseARightIntraocularPressureOfAndInstrument()
    Then I choose to expand the Dilation section                                                                                        # ExaminationContext::iChooseToExpandTheDilationSection()
    Then I choose left Dilation of "5" and drops of "4"                                                                                 # ExaminationContext::iChooseLeftDilationOfAndDropsOf()
    Then I choose right Dilation of "2" and drops of "2"                                                                                # ExaminationContext::iChooseRightDilationOfAndDropsOf()
    And I enter a left Dilation time of "06:05"                                                                                         # ExaminationContext::iEnterALeftDilationTimeOf()
    And I enter a right Dilation time of "18:45"                                                                                        # ExaminationContext::iEnterARightDilationTimeOf()
    Then I choose to expand the Refraction section                                                                                      # ExaminationContext::iChooseToExpandTheRefractionSection()
    Then I enter left Refraction details of Sphere "-1" integer "11" fraction "0.50"                                                    # ExaminationContext::LeftRefractionDetails()
    And I enter left cylinder details of of Cylinder "1" integer "4" fraction "0.25"                                                    # ExaminationContext::iEnterLeftCylinderDetails()
    Then I enter left Axis degrees of "56"                                                                                              # ExaminationContext::iEnterLeftAxisDegreesOf()
    And I enter a left type of "2"                                                                                                      # ExaminationContext::iEnterALeftTypeOf()
    Then I enter right Refraction details of Sphere "-1" integer "9" fraction "0.75"                                                    # ExaminationContext::iEnterRightRefractionDetailsOfSphereIntegerFraction()
    And I enter right cylinder details of of Cylinder "1" integer "5" fraction "0"                                                      # ExaminationContext::iEnterRightCylinderDetailsOfOfCylinderIntegerFraction()
    Then I enter right Axis degrees of "167"                                                                                            # ExaminationContext::iEnterRightAxisDegreesOf()
    Then I enter right Axis degrees of "167"                                                                                            # ExaminationContext::iEnterRightAxisDegreesOf()
    And I enter a right type of "3"                                                                                                     # ExaminationContext::iEnterARightTypeOf()
    Then I choose to expand the Adnexal Comorbidity section                                                                             # ExaminationContext::iChooseToExpandTheAdnexalComorbiditySection()
    And I add a left Adnexal Comorbidity of "crusting of lashes, "                                                                      # ExaminationContext::iAddALeftAdnexalComorbidityOf()
    And I add a right Adnexal Comorbidity of "conjunctivitis, "                                                                         # ExaminationContext::iAddARightAdnexalComorbidityOf()
    Then I choose to expand the Pupillary Abnormalities section                                                                         # ExaminationContext::iChooseToExpandThePupillaryAbnormalitiesSection()
    And I add a left Abnormality of "3"                                                                                                 # ExaminationContext::iAddALeftAbnormalityOf()
    And I add a right Abnormality of "4"                                                                                                # ExaminationContext::iAddARightAbnormalityOf()
    Then I choose to expand the Diagnoses section                                                                                       # ExaminationContext::iChooseToExpandTheDiagnosesSection()
    And I choose a right eye diagnosis                                                                                                  # ExaminationContext::iChooseARightEyeDiagnosis()
    And I select "Traumatic cataract" for "Diagnosis"                                                                                   # FeatureContext::selectOption()
    Then I choose a principal diagnosis                                                                                                 # ExaminationContext::principalDiagnosis()
    Then I choose to expand the Investigation section                                                                                   # ExaminationContext::iChooseToExpandTheInvestigationSection()
    And I add an Investigation of "refraction, "                                                                                        # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "Fluorescein angiography, "                                                                           # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "OCT, "                                                                                               # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "ultrasound, "                                                                                        # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "field test, "                                                                                        # ExaminationContext::iAddAnInvestigationOf()
    Then I choose to expand the Clinical Management section                                                                             # ExaminationContext::iChooseToExpandTheClinicalManagementSection()
    And I choose to expand Cataract Surgical Management                                                                                 # ExaminationContext::iChooseToExpandCataractSurgicalManagement()
    And I add Cataract Management Comments of "new glasses prescribed, "                                                                # ExaminationContext::iAddCataractManagementCommentsOf()
    Then I select First Eye                                                                                                             # ExaminationContext::iSelectFirstEye()
    And I choose Straightforward case                                                                                                   # ExaminationContext::iChooseStraightforwardCase()
    And the post operative target has been discussed with patient No                                                                    # ExaminationContext::thePostOperativeTargetHasBeenDiscussedWithPatientNo()
    Then I select a suitable for surgeon of "3"                                                                                         # ExaminationContext::iSelectASuitableForSurgeonOf()
    And I tick the Supervised checkbox                                                                                                  # ExaminationContext::iTickTheSupervisedCheckbox()
    Then I select Previous Refractive Surgery No                                                                                        # ExaminationContext::iSelectPreviousRefractiveSurgeryNo()
    And I select Vitrectomised Eye No                                                                                                   # ExaminationContext::iSelectVitrectomisedEyeNo()
    Then I choose to expand the Laser Management section                                                                                # ExaminationContext::iChooseToExpandTheLaserManagementSection()
    And I choose a right laser choice of "4"                                                                                            # ExaminationContext::iChooseARightLaserOf()
    And I choose a left laser choice of "4"                                                                                             # ExaminationContext::iChooseALeftLaserOf()
    And I choose a left laser type of "1"                                                                                               # ExaminationContext::iChooseALeftLaserTypeOf()
    And I choose a right laser type of "2"                                                                                              # ExaminationContext::iChooseARightLaserTypeOf()
    Then I choose to expand the Injection Management section                                                                            # ExaminationContext::iChooseToExpandTheInjectionManagementSection()
    And I select a Right Diagnosis of Macular retinal oedema                                                                            # ExaminationContext::iSelectARightDiagnosisOfMacularRetinalOedema()
    Then I select Right Secondary of Venous retinal branch occlusion                                                                    # ExaminationContext::iSelectRightSecondaryOfVenousRetinalBranchOcclusion()
    And I select a Right Intended Treatment of "4"                                                                                      # ExaminationContext::iSelectARightIntendedTreatmentOf()
    Then I choose a Right Failed Laser of Yes                                                                                           # ExaminationContext::iChooseARightFailedLaserOfYes()
    Then I choose a Right Failed Laser of No                                                                                            # ExaminationContext::iChooseARightFailedLaserOfNo()
    Then I choose a Right Unsuitable Laser of Yes                                                                                       # ExaminationContext::iChooseARightUnsuitableLaserOfYes()
    Then I choose a Right Unsuitable Laser of No                                                                                        # ExaminationContext::iChooseARightUnsuitableLaserOfNo()
    Then I choose a Right Previous Ozurdex Yes                                                                                          # ExaminationContext::iChooseARightPreviousOzurdexYes()
    Then I choose a Right Previous Ozurdex No                                                                                           # ExaminationContext::iChooseARightPreviousOzurdexNo()
    And I select a Left Diagnosis of Macular retinal oedema                                                                             # ExaminationContext::iSelectALeftDiagnosisOfMacularRetinalOedema()
    Then I select Left Secondary of Diabetic macular oedema                                                                             # ExaminationContext::iSelectLeftSecondaryOfDiabeticMacularOedema()
    And I select a Left Intended Treatment of "2"                                                                                       # ExaminationContext::iSelectALeftIntendedTreatmentOf()
    Then I choose a Left CRT above Four Hundred of Yes                                                                                  # ExaminationContext::iChooseALeftCrtAboveFourHundredOfYes()
    Then I choose a Left CRT above Four Hundred of No                                                                                   # ExaminationContext::iChooseALeftCrtAboveFourHundredOfNo()
    Then I choose a Left Foveal Structure Damage Yes                                                                                    # ExaminationContext::iChooseALeftFovealStructureDamageYes()
    Then I choose a Left Foveal Structure Damage No                                                                                     # ExaminationContext::iChooseALeftFovealStructureDamageNo()
    Then I choose a Left Failed Laser of Yes                                                                                            # ExaminationContext::iChooseALeftFailedLaserOfYes()
    Then I choose a Left Failed Laser of No                                                                                             # ExaminationContext::iChooseALeftFailedLaserOfNo()
    Then I choose a Left Unsuitable Laser of Yes                                                                                        # ExaminationContext::iChooseALeftUnsuitableLaserOfYes()
    Then I choose a Left Unsuitable Laser of No                                                                                         # ExaminationContext::iChooseALeftUnsuitableLaserOfNo()
    Then I choose a Left Previous Anti VEGF of Yes                                                                                      # ExaminationContext::iChooseALeftPreviousAntiVegfOfYes()
    Then I choose a Left Previous Anti VEGF of No                                                                                       # ExaminationContext::iChooseALeftPreviousAntiVegfOfNo()
    Then I choose to expand the Risks section                                                                                           # ExaminationContext::iChooseToExpandTheRisksSection()
    And I add comments to the Risk section of "Risk section comments Automation Test"                                                   # ExaminationContext::iAddCommentsToTheRiskSectionOf()
    Then I choose to expand the Clinic Outcome section                                                                                  # ExaminationContext::iChooseToExpandTheClinicOutcomeSection()
    And I choose a Clinical Outcome Status of Discharge                                                                                 # ExaminationContext::iChooseAClinicalOutcomeStatusOfDischarge()
    And I choose a Clinical Outcome Status of Follow Up                                                                                 # ExaminationContext::iChooseAClinicalOutcomeStatusOfFollowUp()
    Then I choose a Follow Up quantity of "2"                                                                                           # ExaminationContext::iChooseAFollowUpQuantityOf()
    And I choose a Follow Up period of "1"                                                                                              # ExaminationContext::iChooseAFollowUpPeriodOf()
    And I tick the Patient Suitable for Community Patient Tariff                                                                        # ExaminationContext::iTickThePatientSuitableForCommunityPatientTariff()
    Then I choose a Role of "1"                                                                                                         # ExaminationContext::iChooseARoleOf()
    Then I choose to expand the Conclusion section                                                                                      # ExaminationContext::iChooseToExpandTheConclusionSection()
    And I choose a Conclusion option of "booked for first eye, "                                                                        # ExaminationContext::iChooseAConclusionOptionOf()
    Then I Save the Examination and confirm it has been created successfully                                                            # ExaminationContext::iSaveTheExaminationAndConfirm()

  Scenario: Route 7: Examination Validation Tests (Anderson Glaucoma)                                                                   # features/bootstrap/Features/Latest Release Regression Pack/Examination.feature:658
            History and Conclusion validation error checks
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Examination"                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I choose to expand the Conclusion section                                                                                      # ExaminationContext::iChooseToExpandTheConclusionSection()
    Then I Save the Examination                                                                                                         # ExaminationContext::iSaveTheExamination()
    Then I Confirm that the History Validation error message is displayed                                                               # ExaminationContext::iConfirmThatHistoryErrorMessageIsDisplayed()
    Then I Confirm that the Conclusion Validation error message is displayed                                                            # ExaminationContext::iConfirmConlusionValidation()

  Scenario: Route 8: Examination Validation Tests (Anderson Cataract)                                                                   # features/bootstrap/Features/Latest Release Regression Pack/Examination.feature:679
            History and Dilation validation error checks
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Examination"                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I choose to expand the Dilation section                                                                                        # ExaminationContext::iChooseToExpandTheDilationSection()
    Then I Save the Examination                                                                                                         # ExaminationContext::iSaveTheExamination()
    Then I Confirm that the History Validation error message is displayed                                                               # ExaminationContext::iConfirmThatHistoryErrorMessageIsDisplayed()
    Then I Confirm that the Dilation Validation error message is displayed                                                              # ExaminationContext::iConfirmDilationValidation()

  Scenario: Route 9: Examination Validation Tests (Anderson Medical Retinal)                                                            # features/bootstrap/Features/Latest Release Regression Pack/Examination.feature:700
            History and Dilation validation error checks
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "4"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Medical Retinal sidebar                                                                                           # AddingNewEventContext::iExpandTheMedicalRetinalSidebar()
    And I add a New Event "Examination"                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I choose to expand the Dilation section                                                                                        # ExaminationContext::iChooseToExpandTheDilationSection()
    Then I Save the Examination                                                                                                         # ExaminationContext::iSaveTheExamination()
    Then I Confirm that the History Validation error message is displayed                                                               # ExaminationContext::iConfirmThatHistoryErrorMessageIsDisplayed()
    Then I Confirm that the Dilation Validation error message is displayed                                                              # ExaminationContext::iConfirmDilationValidation()

  Scenario: Route 10: Examination Validation Tests (Broom Glaucoma)                                                                     # features/bootstrap/Features/Latest Release Regression Pack/Examination.feature:721
            History and Dilation validation error checks
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "2"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Examination"                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I choose to expand the Dilation section                                                                                        # ExaminationContext::iChooseToExpandTheDilationSection()
    Then I Save the Examination                                                                                                         # ExaminationContext::iSaveTheExamination()
    Then I Confirm that the History Validation error message is displayed                                                               # ExaminationContext::iConfirmThatHistoryErrorMessageIsDisplayed()
    Then I Confirm that the Dilation Validation error message is displayed                                                              # ExaminationContext::iConfirmDilationValidation()

  Scenario: Route 11: Examination Validation Tests (Remove All Error)                                                                   # features/bootstrap/Features/Latest Release Regression Pack/Examination.feature:742
            Close All elements and attempt to Save - validation errors
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Examination"                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I select Close All elements                                                                                                    # ExaminationContext::iSelectCloseAllElements()
    Then I Save the Examination                                                                                                         # ExaminationContext::iSaveTheExamination()
    Then I confirm that the Remove All Validation error message is displayed                                                            # ExaminationContext::iConfirmThatTheRemoveAllValidationErrorMessageIsDisplayed()

  Scenario: Route 12: Examination Validation Tests (Select All and Save Validation errors)                                              # features/bootstrap/Features/Latest Release Regression Pack/Examination.feature:762
            Select All elements and attempt to Save - validation errors
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Examination"                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I select Add All optional elements                                                                                             # ExaminationContext::iSelectAddAllOptionalElements()
    Then I Save the Examination                                                                                                         # ExaminationContext::iSaveTheExamination()
    Then I confirm that the Add All Validation error messages have been displayed                                                       # ExaminationContext::iConfirmThatTheAddAllValidationErrorMessagesHaveBeenDisplayed()

  Scenario: Route 13: Examination Validation Tests (Anderson Cataract)                                                                  # features/bootstrap/Features/Latest Release Regression Pack/Examination.feature:782
    History and Dilation Invalid Time entry validation error checks
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Examination"                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I choose to expand the Dilation section                                                                                        # ExaminationContext::iChooseToExpandTheDilationSection()
    Then I choose left Dilation of "5" and drops of "4"                                                                                 # ExaminationContext::iChooseLeftDilationOfAndDropsOf()
    Then I choose right Dilation of "2" and drops of "2"                                                                                # ExaminationContext::iChooseRightDilationOfAndDropsOf()
    And I enter a left Dilation time of "35:00"                                                                                         # ExaminationContext::iEnterALeftDilationTimeOf()
    And I enter a right Dilation time of "93:00"                                                                                        # ExaminationContext::iEnterARightDilationTimeOf()
    Then I Save the Examination                                                                                                         # ExaminationContext::iSaveTheExamination()
    Then I Confirm that the History Validation error message is displayed                                                               # ExaminationContext::iConfirmThatHistoryErrorMessageIsDisplayed()
    Then I Confirm that the Dilation Invalid time error message is displayed                                                            # ExaminationContext::iConfirmThatTheDilationInvalidTimeErrorMessageIsDisplayed()

  Scenario: Route 14: Login and create a new Examination Event                                                                          # features/bootstrap/Features/Latest Release Regression Pack/Examination.feature:807
            Site 1:Queens
            Firm 3:Anderson Glaucoma
            DR Grading tests
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Examination"                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I select a History of Blurred Vision, Mild Severity, Onset 1 Week, Left Eye, 1 Week                                            # ExaminationContext::iSelectAHistoryOfBlurredVision()
    Then I choose to expand the DR Grading section                                                                                      # ExaminationContext::iChooseToExpandTheDRGradingSection()
    And I select a left Clinical Grading for Retinopathy of "2"                                                                         # ExaminationContext::iSelectALeftClinicalGradingForRetinopathyOf()
    And I select a left NSC Retinopathy of "2"                                                                                          # ExaminationContext::iSelectALeftNscRetinopathyOf()
    And I select a left Retinopathy photocoagulation of Yes                                                                             # ExaminationContext::iSelectALeftRetinopathyPhotocoagulationOfYes()
    And I select a left Clinical Grading for maculopathy of "2"                                                                         # ExaminationContext::iSelectALeftClinicalGradingForMaculopathyOf()
    And I select a left NSC maculopathy of "3"                                                                                          # ExaminationContext::iSelectALeftNscMaculopathyOf()
    And I select a left Maculopathy photocoagulation of Yes                                                                             # ExaminationContext::iSelectALeftMaculopathyPhotocoagulationOfYes()
    And I select a right Clinical Grading for Retinopathy of "2"                                                                        # ExaminationContext::iSelectARightClinicalGradingForRetinopathyOf()
    And I select a right NSC Retinopathy of "2"                                                                                         # ExaminationContext::iSelectARightNscRetinopathyOf()
    And I select a right Retinopathy photocoagulation of No                                                                             # ExaminationContext::iSelectARightRetinopathyPhotocoagulationOfNo()
    And I select a right Clinical Grading for maculopathy of "2"                                                                        # ExaminationContext::iSelectARightClinicalGradingForMaculopathyOf()
    And I select a right NSC maculopathy of "4"                                                                                         # ExaminationContext::iSelectARightNscMaculopathyOf()
    And I select a right Maculopathy photocoagulation of No                                                                             # ExaminationContext::iSelectARightMaculopathyPhotocoagulationOfNo()
    Then I Save the Examination and confirm it has been created successfully                                                            # ExaminationContext::iSaveTheExaminationAndConfirm()

  Scenario: Route 15: Login and create a new Examination Event                                                                          # features/bootstrap/Features/Latest Release Regression Pack/Examination.feature:843
            Site 1:Queens
            Firm 4:Anderson Medical Retinal
            DR Grading tests
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "4"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Medical Retinal sidebar                                                                                           # AddingNewEventContext::iExpandTheMedicalRetinalSidebar()
    And I add a New Event "Examination"                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I select a History of Blurred Vision, Mild Severity, Onset 1 Week, Left Eye, 1 Week                                            # ExaminationContext::iSelectAHistoryOfBlurredVision()
    Then I choose to expand the DR Grading section                                                                                      # ExaminationContext::iChooseToExpandTheDRGradingSection()
    And I select a left Clinical Grading for Retinopathy of "1"                                                                         # ExaminationContext::iSelectALeftClinicalGradingForRetinopathyOf()
    And I select a left NSC Retinopathy of "1"                                                                                          # ExaminationContext::iSelectALeftNscRetinopathyOf()
    And I select a left Retinopathy photocoagulation of Yes                                                                             # ExaminationContext::iSelectALeftRetinopathyPhotocoagulationOfYes()
    And I select a left Clinical Grading for maculopathy of "1"                                                                         # ExaminationContext::iSelectALeftClinicalGradingForMaculopathyOf()
    And I select a left NSC maculopathy of "1"                                                                                          # ExaminationContext::iSelectALeftNscMaculopathyOf()
    And I select a left Maculopathy photocoagulation of Yes                                                                             # ExaminationContext::iSelectALeftMaculopathyPhotocoagulationOfYes()
    And I select a right Clinical Grading for Retinopathy of "1"                                                                        # ExaminationContext::iSelectARightClinicalGradingForRetinopathyOf()
    And I select a right NSC Retinopathy of "1"                                                                                         # ExaminationContext::iSelectARightNscRetinopathyOf()
    And I select a right Retinopathy photocoagulation of No                                                                             # ExaminationContext::iSelectARightRetinopathyPhotocoagulationOfNo()
    And I select a right Clinical Grading for maculopathy of "1"                                                                        # ExaminationContext::iSelectARightClinicalGradingForMaculopathyOf()
    And I select a right NSC maculopathy of "1"                                                                                         # ExaminationContext::iSelectARightNscMaculopathyOf()
    And I select a right Maculopathy photocoagulation of No                                                                             # ExaminationContext::iSelectARightMaculopathyPhotocoagulationOfNo()
    Then I choose to expand the Dilation section                                                                                        # ExaminationContext::iChooseToExpandTheDilationSection()
    Then I choose left Dilation of "5" and drops of "4"                                                                                 # ExaminationContext::iChooseLeftDilationOfAndDropsOf()
    Then I choose right Dilation of "2" and drops of "2"                                                                                # ExaminationContext::iChooseRightDilationOfAndDropsOf()
    Then I Save the Examination and confirm it has been created successfully                                                            # ExaminationContext::iSaveTheExaminationAndConfirm()

  Scenario: Route 16: Login and create a new Examination Event                                                                          # features/bootstrap/Features/Latest Release Regression Pack/Examination.feature:883
            Site 1:Queens
            Firm 2:Broom Glaucoma
            DR Grading tests
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "2"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Examination"                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I select a History of Blurred Vision, Mild Severity, Onset 1 Week, Left Eye, 1 Week                                            # ExaminationContext::iSelectAHistoryOfBlurredVision()
    Then I choose to expand the DR Grading section                                                                                      # ExaminationContext::iChooseToExpandTheDRGradingSection()
    And I select a left Clinical Grading for Retinopathy of "3"                                                                         # ExaminationContext::iSelectALeftClinicalGradingForRetinopathyOf()
    And I select a left NSC Retinopathy of "3"                                                                                          # ExaminationContext::iSelectALeftNscRetinopathyOf()
    And I select a left Retinopathy photocoagulation of Yes                                                                             # ExaminationContext::iSelectALeftRetinopathyPhotocoagulationOfYes()
    And I select a left Clinical Grading for maculopathy of "3"                                                                         # ExaminationContext::iSelectALeftClinicalGradingForMaculopathyOf()
    And I select a left NSC maculopathy of "3"                                                                                          # ExaminationContext::iSelectALeftNscMaculopathyOf()
    And I select a left Maculopathy photocoagulation of No                                                                              # ExaminationContext::iSelectALeftMaculopathyPhotocoagulationOfNo()
    And I select a right Clinical Grading for Retinopathy of "3"                                                                        # ExaminationContext::iSelectARightClinicalGradingForRetinopathyOf()
    And I select a right NSC Retinopathy of "1"                                                                                         # ExaminationContext::iSelectARightNscRetinopathyOf()
    And I select a right Retinopathy photocoagulation of No                                                                             # ExaminationContext::iSelectARightRetinopathyPhotocoagulationOfNo()
    And I select a right Clinical Grading for maculopathy of "3"                                                                        # ExaminationContext::iSelectARightClinicalGradingForMaculopathyOf()
    And I select a right NSC maculopathy of "3"                                                                                         # ExaminationContext::iSelectARightNscMaculopathyOf()
    And I select a right Maculopathy photocoagulation of Yes                                                                            # ExaminationContext::iSelectARightMaculopathyPhotocoagulationOfYes()
    Then I choose to expand the Dilation section                                                                                        # ExaminationContext::iChooseToExpandTheDilationSection()
    Then I choose left Dilation of "5" and drops of "4"                                                                                 # ExaminationContext::iChooseLeftDilationOfAndDropsOf()
    Then I choose right Dilation of "2" and drops of "2"                                                                                # ExaminationContext::iChooseRightDilationOfAndDropsOf()
    Then I Save the Examination and confirm it has been created successfully                                                            # ExaminationContext::iSaveTheExaminationAndConfirm()

  Scenario: Route 17 :Login and create a new Examination Event                                                                          # features/bootstrap/Features/Latest Release Regression Pack/Examination.feature:923
            Site:1 Queens
            Firm:2 Broom Glaucoma
            Visual Fields: Unable to assess and Eye Missing checkboxes
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "2"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Examination"                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I select a History of Blurred Vision, Mild Severity, Onset 1 Week, Left Eye, 1 Week                                            # ExaminationContext::iSelectAHistoryOfBlurredVision()
    And I choose to expand the Comorbidities section                                                                                    # ExaminationContext::iChooseToExpandTheComorbiditiesSection()
    Then I Add a Comorbiditiy of "4"                                                                                                    # ExaminationContext::iAddAComorbiditiyOf()
    Then I choose to expand the Visual Function section                                                                                 # ExaminationContext::iChooseToExpandTheVisualFunctionSection()
    Then I select a Left RAPD                                                                                                           # ExaminationContext::iSelectALeftRapd()
    And I add Left RAPD comments of "Left RAPD Automation test comments"                                                                # ExaminationContext::iAddLeftRapdCommentsOf()
    Then I select a Right RAPD                                                                                                          # ExaminationContext::iSelectARightRapd()
    And I add Right RAPD comments of "Left RAPD Automation test comments"                                                               # ExaminationContext::iAddRightRapdCommentsOf()
    Then I choose to expand the Colour Vision section                                                                                   # ExaminationContext::iChooseToExpandTheColourVisionSection()
    And I choose a Left Colour Vision of "1"                                                                                            # ExaminationContext::iChooseALeftColourVisionOf()
    And I choose A Left Colour Vision Value of "8"                                                                                      # ExaminationContext::iChooseALeftColourVisionValueOf()
    And I choose a Right Colour Vision of "2"                                                                                           # ExaminationContext::iChooseARightColourVisionOf()
    And I choose A Right Colour Vision Value of "4"                                                                                     # ExaminationContext::iChooseARightColourVisionValueOf()
    Then I choose to expand the Visual Acuity section                                                                                   # ExaminationContext::iChooseToExpandTheVisualAcuitySection()
    And I remove the initial Left Visual Acuity                                                                                         # ExaminationContext::iRemoveTheInitialLeftVisualAcuity()
    And I select Left Unable to assess checkbox                                                                                         # ExaminationContext::iSelectLeftUnableToAssessCheckbox()
    And I select Left Eye Missing checkbox                                                                                              # ExaminationContext::iSelectLeftEyeMissingCheckbox()
    And I remove the initial Right Visual Acuity                                                                                        # ExaminationContext::iRemoveTheInitialRightVisualAcuity()
    And I select Right Unable to assess checkbox                                                                                        # ExaminationContext::iSelectRightUnableToAssessCheckbox()
    And I select Right Eye Missing checkbox                                                                                             # ExaminationContext::iSelectRightEyeMissingCheckbox()
    Then I Save the Examination and confirm it has been created successfully                                                            # ExaminationContext::iSaveTheExaminationAndConfirm()

  Scenario: ROUTE 18: Login and create a new Examination Event:                                                                         # features/bootstrap/Features/Latest Release Regression Pack/Examination.feature:970
    Site:1 Queens, Firm:1 Anderson Cataract.
    Clinical Management: Overall Management & Current Management
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                          # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Examination"                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I select a History of Blurred Vision, Mild Severity, Onset 1 Week, Left Eye, 1 Week                                            # ExaminationContext::iSelectAHistoryOfBlurredVision()
    And I choose to expand the Comorbidities section                                                                                    # ExaminationContext::iChooseToExpandTheComorbiditiesSection()
    Then I Add a Comorbiditiy of "8"                                                                                                    # ExaminationContext::iAddAComorbiditiyOf()
    Then I choose to expand the Visual Function section                                                                                 # ExaminationContext::iChooseToExpandTheVisualFunctionSection()
    Then I select a Left RAPD                                                                                                           # ExaminationContext::iSelectALeftRapd()
    And I add Left RAPD comments of "Left RAPD Automation test comments"                                                                # ExaminationContext::iAddLeftRapdCommentsOf()
    Then I select a Right RAPD                                                                                                          # ExaminationContext::iSelectARightRapd()
    And I add Right RAPD comments of "Left RAPD Automation test comments"                                                               # ExaminationContext::iAddRightRapdCommentsOf()
    Then I choose to expand the Colour Vision section                                                                                   # ExaminationContext::iChooseToExpandTheColourVisionSection()
    And I choose a Left Colour Vision of "1"                                                                                            # ExaminationContext::iChooseALeftColourVisionOf()
    And I choose A Left Colour Vision Value of "8"                                                                                      # ExaminationContext::iChooseALeftColourVisionValueOf()
    And I choose a Right Colour Vision of "2"                                                                                           # ExaminationContext::iChooseARightColourVisionOf()
    And I choose A Right Colour Vision Value of "4"                                                                                     # ExaminationContext::iChooseARightColourVisionValueOf()
    Then I choose to expand the Visual Acuity section                                                                                   # ExaminationContext::iChooseToExpandTheVisualAcuitySection()
    And I select a Visual Acuity of "2"                                                                                                 # ExaminationContext::iSelectAVisualAcuityOf()
    Then I choose a left Visual Acuity Snellen Metre "4" and a reading method of "5"                                                    # ExaminationContext::SnellenMetreAndAReading()
    Then I choose a right Visual Acuity Snellen Metre "4" and a reading method of "5"                                                   # ExaminationContext::RightVisualAcuitySnellenMetre()
    Then I choose to expand the Intraocular Pressure section                                                                            # ExaminationContext::iChooseToExpandTheIntraocularPressureSection()
    Then I choose a left Intraocular Pressure of "8" and Instrument "4"                                                                 # ExaminationContext::iChooseALeftIntraocularPressureOfAndInstrument()
    Then I choose a right Intraocular Pressure of "77" and Instrument "1"                                                               # ExaminationContext::iChooseARightIntraocularPressureOfAndInstrument()
    Then I choose to expand the Dilation section                                                                                        # ExaminationContext::iChooseToExpandTheDilationSection()
    Then I choose left Dilation of "5" and drops of "4"                                                                                 # ExaminationContext::iChooseLeftDilationOfAndDropsOf()
    Then I choose right Dilation of "2" and drops of "2"                                                                                # ExaminationContext::iChooseRightDilationOfAndDropsOf()
    And I enter a left Dilation time of "06:05"                                                                                         # ExaminationContext::iEnterALeftDilationTimeOf()
    And I enter a right Dilation time of "18:45"                                                                                        # ExaminationContext::iEnterARightDilationTimeOf()
    Then I choose to expand the Refraction section                                                                                      # ExaminationContext::iChooseToExpandTheRefractionSection()
    Then I enter left Refraction details of Sphere "-1" integer "11" fraction "0.50"                                                    # ExaminationContext::LeftRefractionDetails()
    And I enter left cylinder details of of Cylinder "1" integer "4" fraction "0.25"                                                    # ExaminationContext::iEnterLeftCylinderDetails()
    Then I enter left Axis degrees of "56"                                                                                              # ExaminationContext::iEnterLeftAxisDegreesOf()
    And I enter a left type of "2"                                                                                                      # ExaminationContext::iEnterALeftTypeOf()
    Then I enter right Refraction details of Sphere "-1" integer "9" fraction "0.75"                                                    # ExaminationContext::iEnterRightRefractionDetailsOfSphereIntegerFraction()
    And I enter right cylinder details of of Cylinder "1" integer "5" fraction "0"                                                      # ExaminationContext::iEnterRightCylinderDetailsOfOfCylinderIntegerFraction()
    Then I enter right Axis degrees of "167"                                                                                            # ExaminationContext::iEnterRightAxisDegreesOf()
    Then I enter right Axis degrees of "167"                                                                                            # ExaminationContext::iEnterRightAxisDegreesOf()
    And I enter a right type of "3"                                                                                                     # ExaminationContext::iEnterARightTypeOf()
    Then I choose to expand the Adnexal Comorbidity section                                                                             # ExaminationContext::iChooseToExpandTheAdnexalComorbiditySection()
    And I add a left Adnexal Comorbidity of "crusting of lashes, "                                                                      # ExaminationContext::iAddALeftAdnexalComorbidityOf()
    And I add a right Adnexal Comorbidity of "conjunctivitis, "                                                                         # ExaminationContext::iAddARightAdnexalComorbidityOf()
    Then I choose to expand the Pupillary Abnormalities section                                                                         # ExaminationContext::iChooseToExpandThePupillaryAbnormalitiesSection()
    And I add a left Abnormality of "3"                                                                                                 # ExaminationContext::iAddALeftAbnormalityOf()
    And I add a right Abnormality of "4"                                                                                                # ExaminationContext::iAddARightAbnormalityOf()
    Then I choose to expand the Diagnoses section                                                                                       # ExaminationContext::iChooseToExpandTheDiagnosesSection()
    And I choose both eyes diagnosis                                                                                                    # ExaminationContext::iChooseBothEyesDiagnosis()
    And I select "Congenital cataract" for "Diagnosis"                                                                                  # FeatureContext::selectOption()
    Then I choose a principal diagnosis                                                                                                 # ExaminationContext::principalDiagnosis()
    Then I choose to expand the Investigation section                                                                                   # ExaminationContext::iChooseToExpandTheInvestigationSection()
    And I add an Investigation of "refraction, "                                                                                        # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "Fluorescein angiography, "                                                                           # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "OCT, "                                                                                               # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "ultrasound, "                                                                                        # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "field test, "                                                                                        # ExaminationContext::iAddAnInvestigationOf()
    Then I choose to expand the Clinical Management section                                                                             # ExaminationContext::iChooseToExpandTheClinicalManagementSection()
    And I choose to expand Cataract Surgical Management                                                                                 # ExaminationContext::iChooseToExpandCataractSurgicalManagement()
    And I add Cataract Management Comments of "new glasses prescribed, "                                                                # ExaminationContext::iAddCataractManagementCommentsOf()
    Then I select First Eye                                                                                                             # ExaminationContext::iSelectFirstEye()
    And I choose Straightforward case                                                                                                   # ExaminationContext::iChooseStraightforwardCase()
    And the post operative target has been discussed with patient No                                                                    # ExaminationContext::thePostOperativeTargetHasBeenDiscussedWithPatientNo()
    Then I select a suitable for surgeon of "3"                                                                                         # ExaminationContext::iSelectASuitableForSurgeonOf()
    And I tick the Supervised checkbox                                                                                                  # ExaminationContext::iTickTheSupervisedCheckbox()
    Then I select Previous Refractive Surgery No                                                                                        # ExaminationContext::iSelectPreviousRefractiveSurgeryNo()
    And I select Vitrectomised Eye No                                                                                                   # ExaminationContext::iSelectVitrectomisedEyeNo()
    Then I choose to expand the Laser Management section                                                                                # ExaminationContext::iChooseToExpandTheLaserManagementSection()
    And I choose a right laser choice of "4"                                                                                            # ExaminationContext::iChooseARightLaserOf()
    And I choose a left laser choice of "4"                                                                                             # ExaminationContext::iChooseALeftLaserOf()
    And I choose a left laser type of "1"                                                                                               # ExaminationContext::iChooseALeftLaserTypeOf()
    And I choose a right laser type of "2"                                                                                              # ExaminationContext::iChooseARightLaserTypeOf()
    Then I choose to expand the Injection Management section                                                                            # ExaminationContext::iChooseToExpandTheInjectionManagementSection()
    And I select a Right Diagnosis of Macular retinal oedema                                                                            # ExaminationContext::iSelectARightDiagnosisOfMacularRetinalOedema()
    Then I select Right Secondary of Venous retinal branch occlusion                                                                    # ExaminationContext::iSelectRightSecondaryOfVenousRetinalBranchOcclusion()
    And I select a Right Intended Treatment of "4"                                                                                      # ExaminationContext::iSelectARightIntendedTreatmentOf()
    Then I choose a Right Failed Laser of Yes                                                                                           # ExaminationContext::iChooseARightFailedLaserOfYes()
    Then I choose a Right Failed Laser of No                                                                                            # ExaminationContext::iChooseARightFailedLaserOfNo()
    Then I choose a Right Unsuitable Laser of Yes                                                                                       # ExaminationContext::iChooseARightUnsuitableLaserOfYes()
    Then I choose a Right Unsuitable Laser of No                                                                                        # ExaminationContext::iChooseARightUnsuitableLaserOfNo()
    Then I choose a Right Previous Ozurdex Yes                                                                                          # ExaminationContext::iChooseARightPreviousOzurdexYes()
    Then I choose a Right Previous Ozurdex No                                                                                           # ExaminationContext::iChooseARightPreviousOzurdexNo()
    And I choose a Right Risks of "1"                                                                                                   # ExaminationContext::iChooseARightRisksOf()
    Then I choose Right Injection Management Comments of "Automation Test Comments"                                                     # ExaminationContext::iChooseRightInjectionManagementCommentsOf()
    And I select a Left Diagnosis of Macular retinal oedema                                                                             # ExaminationContext::iSelectALeftDiagnosisOfMacularRetinalOedema()
    Then I select Left Secondary of Diabetic macular oedema                                                                             # ExaminationContext::iSelectLeftSecondaryOfDiabeticMacularOedema()
    And I select a Left Intended Treatment of "2"                                                                                       # ExaminationContext::iSelectALeftIntendedTreatmentOf()
    Then I choose a Left CRT above Four Hundred of Yes                                                                                  # ExaminationContext::iChooseALeftCrtAboveFourHundredOfYes()
    Then I choose a Left CRT above Four Hundred of No                                                                                   # ExaminationContext::iChooseALeftCrtAboveFourHundredOfNo()
    Then I choose a Left Foveal Structure Damage Yes                                                                                    # ExaminationContext::iChooseALeftFovealStructureDamageYes()
    Then I choose a Left Foveal Structure Damage No                                                                                     # ExaminationContext::iChooseALeftFovealStructureDamageNo()
    Then I choose a Left Failed Laser of Yes                                                                                            # ExaminationContext::iChooseALeftFailedLaserOfYes()
    Then I choose a Left Failed Laser of No                                                                                             # ExaminationContext::iChooseALeftFailedLaserOfNo()
    Then I choose a Left Unsuitable Laser of Yes                                                                                        # ExaminationContext::iChooseALeftUnsuitableLaserOfYes()
    Then I choose a Left Unsuitable Laser of No                                                                                         # ExaminationContext::iChooseALeftUnsuitableLaserOfNo()
    Then I choose a Left Previous Anti VEGF of Yes                                                                                      # ExaminationContext::iChooseALeftPreviousAntiVegfOfYes()
    Then I choose a Left Previous Anti VEGF of No                                                                                       # ExaminationContext::iChooseALeftPreviousAntiVegfOfNo()
    And I choose a Left Risks of "1"                                                                                                    # ExaminationContext::iChooseALeftRisksOf()
    Then I choose Left Injection Management Comments of "Automation Test Comments"                                                      # ExaminationContext::iChooseLeftInjectionManagementCommentsOf()
    Then I choose to expand the Overall Management section                                                                              # ExaminationContext::iChooseToExpandTheOverallManagementSection()
    And I choose a Clinical Interval of "1"                                                                                             # ExaminationContext::iChooseAClinicalIntervalOf()
    And I choose a Photo of "1"                                                                                                         # ExaminationContext::iChooseAPhotoOf()
    And I choose a OCT of "4"                                                                                                           # ExaminationContext::iChooseAOctOf()
    And I choose a Visual Fields of "5"                                                                                                 # ExaminationContext::iChooseAVisualFieldsOf()
    And I choose Overall Management Section Comments of "Automation Test Comments"                                                      # ExaminationContext::iChooseOverallManagementSectionCommentsOf()
    And I choose a Gonio of "2"                                                                                                         # ExaminationContext::iChooseAGonioOf()
    And I choose a Right Target IOP of "15"                                                                                             # ExaminationContext::iChooseARightTargetIopOf()
    And I choose a Left Target IOP of "15"                                                                                              # ExaminationContext::iChooseALeftTargetIopOf()
    Then I choose to expand the Current Management section                                                                              # ExaminationContext::iChooseToExpandTheCurrentManagementSection()
    And I select a Left Glaucoma Status of "1"                                                                                          # ExaminationContext::iSelectALeftGlaucomaStatusOf()
    And I select a Left Drop related problem of "2"                                                                                     # ExaminationContext::iSelectALeftDropRelatedProblemOf()
    And I select a Left Drops of "4"                                                                                                    # ExaminationContext::iSelectALeftDropsOf()
    And I select a Left Surgery of "5"                                                                                                  # ExaminationContext::iSelectALeftSurgeryOf()
    And I select a Right Glaucoma Status of "1"                                                                                         # ExaminationContext::iSelectARightGlaucomaStatusOf()
    And I select a Right Drop related problem of "2"                                                                                    # ExaminationContext::iSelectARightDropRelatedProblemOf()
    And I select a Right Drops of "4"                                                                                                   # ExaminationContext::iSelectARightDropsOf()
    And I select a Right Surgery of "5"                                                                                                 # ExaminationContext::iSelectARightSurgeryOf()
    Then I choose to expand the Risks section                                                                                           # ExaminationContext::iChooseToExpandTheRisksSection()
    And I add comments to the Risk section of "Risk section comments Automation Test"                                                   # ExaminationContext::iAddCommentsToTheRiskSectionOf()
    Then I choose to expand the Clinic Outcome section                                                                                  # ExaminationContext::iChooseToExpandTheClinicOutcomeSection()
    And I choose a Clinical Outcome Status of Discharge                                                                                 # ExaminationContext::iChooseAClinicalOutcomeStatusOfDischarge()
    And I choose a Clinical Outcome Status of Follow Up                                                                                 # ExaminationContext::iChooseAClinicalOutcomeStatusOfFollowUp()
    Then I choose a Follow Up quantity of "2"                                                                                           # ExaminationContext::iChooseAFollowUpQuantityOf()
    And I choose a Follow Up period of "1"                                                                                              # ExaminationContext::iChooseAFollowUpPeriodOf()
    And I tick the Patient Suitable for Community Patient Tariff                                                                        # ExaminationContext::iTickThePatientSuitableForCommunityPatientTariff()
    Then I choose a Role of "1"                                                                                                         # ExaminationContext::iChooseARoleOf()
    Then I choose to expand the Conclusion section                                                                                      # ExaminationContext::iChooseToExpandTheConclusionSection()
    And I choose a Conclusion option of "booked for first eye, "                                                                        # ExaminationContext::iChooseAConclusionOptionOf()
    Then I Save the Examination and confirm it has been created successfully                                                            # ExaminationContext::iSaveTheExaminationAndConfirm()

@intravitreal @regression
Feature: Create New Intravitreal Event
         Regression coverage of this event is approx 75%

  Scenario: Route 0:  Error tests : Login and create a New Intravitreal Event                                                           # features/bootstrap/Features/Latest Release Regression Pack/Intravitreal.feature:5
            Site 1:  Queens
            Firm 1:  Anderson Cataract
            Mandatory fields - validation error tests
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Intravitreal"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select Add Left Side                                                                                                         # IntravitrealContext::iSelectAddLeftSide()
    Then I Save the Intravitreal injection                                                                                              # IntravitrealContext::iSaveTheIntravitrealInjection()
    Then I Confirm that Intravitreal Mandatory fields validation error messages are displayed                                           # IntravitrealContext::iConfirmThatIntravitrealMandatoryFieldsValidationErrorMessagesAreDisplayed()

  Scenario: Route 1: Login and create a New Intravitreal Event                                                                          # features/bootstrap/Features/Latest Release Regression Pack/Intravitreal.feature:28
            Site 1:  Queens
            Firm 1:  Anderson Cataract
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Intravitreal"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select Add Left Side                                                                                                         # IntravitrealContext::iSelectAddLeftSide()
    Then I choose Right Anaesthetic Type of Topical                                                                                     # IntravitrealContext::RightAnaestheticTopical()
    Then I choose Right Anaesthetic Type of LA                                                                                          # IntravitrealContext::RightAnaestheticLa()
    Then I choose Right Anaesthetic Delivery of Retrobulbar                                                                             # IntravitrealContext::RightAnaestheticRetrobulbar()
    And I choose Right Anaesthetic Agent "5"                                                                                            # IntravitrealContext::RightAnaestheticAgent()
    Then I choose Left Anaesthetic Type of Topical                                                                                      # IntravitrealContext::LeftAnaestheticTypeOfTopical()
    Then I choose Left Anaesthetic Type of LA                                                                                           # IntravitrealContext::LeftAnaestheticTypeOfLa()
    Then I choose Left Anaesthetic Delivery of Retrobulbar                                                                              # IntravitrealContext::LeftAnaestheticDeliveryOfRetrobulbar()
    And I choose Left Anaesthetic Agent "1"                                                                                             # IntravitrealContext::LeftAnaestheticAgent()
    Then I choose Right Pre Injection Antiseptic "1"                                                                                    # IntravitrealContext::RightPreInjectionAntiseptic()
    Then I choose Right Pre Injection Skin Cleanser "2"                                                                                 # IntravitrealContext::RightPreInjectionSkinCleanser()
    And I tick the Right Pre Injection IOP Lowering Drops checkbox                                                                      # IntravitrealContext::TickRightPreInjectionIopLoweringDropsCheckbox()
    Then I choose Right Pre Injection IOP Lowering Drops "1"                                                                            # IntravitrealContext::iChooseRightPreInjectionIopLoweringDrops()
    Then I choose Right Drug "7"                                                                                                        # IntravitrealContext::iChooseRightDrug()
    And I enter "2" number of Right injections                                                                                          # IntravitrealContext::NumberOfRightInjections()
    Then I enter Right batch number "123"                                                                                               # IntravitrealContext::RightBatchNumber()
    Then I choose Right Injection Given By "1"                                                                                          # IntravitrealContext::RightInjectionGivenBy()
    And I enter a Right Injection time of "09:30"                                                                                       # IntravitrealContext::RightInjectionTimeOf()
    Then I choose Left Pre Injection Antiseptic "1"                                                                                     # IntravitrealContext::LeftPreInjectionAntiseptic()
    Then I choose Left Pre Injection Skin Cleanser "2"                                                                                  # IntravitrealContext::LeftPreInjectionSkinCleanser()
    And I tick the Left Pre Injection IOP Lowering Drops checkbox                                                                       # IntravitrealContext::LeftPreInjectionIopLoweringDropsCheckbox()
    Then I choose Left Pre Injection IOP Lowering Drops "1"                                                                             # IntravitrealContext::iChooseLeftPreInjectionIopLoweringDrops()
    Then I choose Left Drug "7"                                                                                                         # IntravitrealContext::iChooseLeftDrug()
    And I enter "2" number of Left injections                                                                                           # IntravitrealContext::NumberOfLeftInjections()
    Then I enter Left batch number "123"                                                                                                # IntravitrealContext::iLeftBatchNumber()
    Then I choose Left Injection Given By "1"                                                                                           # IntravitrealContext::LeftInjectionGivenBy()
    And I enter a Left Injection time of "09:30"                                                                                        # IntravitrealContext::iEnterALeftInjectionTimeOf()
    Then I choose A Right Lens Status of "1"                                                                                            # IntravitrealContext::RightLensStatusOf()
    And I choose Right Counting Fingers Checked Yes                                                                                     # IntravitrealContext::RightCountingFingersCheckedYes()
    And I choose Right IOP Needs to be Checked No                                                                                       # IntravitrealContext::RightIopNeedsToBeCheckedNo()
    Then I choose Right Post Injection Drops "1"                                                                                        # IntravitrealContext::RightPostInjectionDrops()
    Then I choose A Left Lens Status of "1"                                                                                             # IntravitrealContext::iChooseALeftLensStatusOf()
    And I choose Left Counting Fingers Checked Yes                                                                                      # IntravitrealContext::LeftCountingFingersCheckedYes()
    And I choose Left IOP Needs to be Checked No                                                                                        # IntravitrealContext::LeftIopNeedsToBeCheckedNo()
    Then I choose Left Post Injection Drops "1"                                                                                         # IntravitrealContext::iChooseLeftPostInjectionDrops()
    And I select Right Complications "5"                                                                                                # IntravitrealContext::RightComplications()
    And I select Left Complications "5"                                                                                                 # IntravitrealContext::LeftComplications()
    Then I Save the Intravitreal injection and confirm it has been created successfully                                                 # IntravitrealContext::iSaveTheIntravitrealInjectionAndConfirm()

  Scenario: Route 2: Login and create a New Intravitreal Event                                                                          # features/bootstrap/Features/Latest Release Regression Pack/Intravitreal.feature:100
            Site 2:  Kings
            Firm 2:  Broom Glaucoma
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "2"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Intravitreal"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select Add Right Side                                                                                                        # IntravitrealContext::iSelectAddRightSide()
    Then I choose Right Anaesthetic Type of Topical                                                                                     # IntravitrealContext::RightAnaestheticTopical()
    Then I choose Right Anaesthetic Type of LA                                                                                          # IntravitrealContext::RightAnaestheticLa()
    Then I choose Right Anaesthetic Delivery of Peribulbar                                                                              # IntravitrealContext::RightAnaestheticPeribulbar()
    And I choose Right Anaesthetic Agent "3"                                                                                            # IntravitrealContext::RightAnaestheticAgent()
    Then I choose Left Anaesthetic Type of LA                                                                                           # IntravitrealContext::LeftAnaestheticTypeOfLa()
    Then I choose Left Anaesthetic Delivery of Peribulbar                                                                               # IntravitrealContext::LeftAnaestheticDeliveryOfPeribulbar()
    And I choose Left Anaesthetic Agent "2"                                                                                             # IntravitrealContext::LeftAnaestheticAgent()
    Then I choose Right Pre Injection Antiseptic "2"                                                                                    # IntravitrealContext::RightPreInjectionAntiseptic()
    Then I choose Right Pre Injection Skin Cleanser "1"                                                                                 # IntravitrealContext::RightPreInjectionSkinCleanser()
    And I tick the Right Pre Injection IOP Lowering Drops checkbox                                                                      # IntravitrealContext::TickRightPreInjectionIopLoweringDropsCheckbox()
    Then I choose Right Pre Injection IOP Lowering Drops "3"                                                                            # IntravitrealContext::iChooseRightPreInjectionIopLoweringDrops()
    Then I choose Right Drug "7"                                                                                                        # IntravitrealContext::iChooseRightDrug()
    And I enter "2" number of Right injections                                                                                          # IntravitrealContext::NumberOfRightInjections()
    Then I enter Right batch number "567"                                                                                               # IntravitrealContext::RightBatchNumber()
    Then I choose Right Injection Given By "2"                                                                                          # IntravitrealContext::RightInjectionGivenBy()
    And I enter a Right Injection time of "09:30"                                                                                       # IntravitrealContext::RightInjectionTimeOf()
    Then I choose Left Pre Injection Antiseptic "2"                                                                                     # IntravitrealContext::LeftPreInjectionAntiseptic()
    Then I choose Left Pre Injection Skin Cleanser "1"                                                                                  # IntravitrealContext::LeftPreInjectionSkinCleanser()
    And I tick the Left Pre Injection IOP Lowering Drops checkbox                                                                       # IntravitrealContext::LeftPreInjectionIopLoweringDropsCheckbox()
    Then I choose Left Pre Injection IOP Lowering Drops "3"                                                                             # IntravitrealContext::iChooseLeftPreInjectionIopLoweringDrops()
    Then I choose Left Drug "4"                                                                                                         # IntravitrealContext::iChooseLeftDrug()
    And I enter "1" number of Left injections                                                                                           # IntravitrealContext::NumberOfLeftInjections()
    Then I enter Left batch number "456"                                                                                                # IntravitrealContext::iLeftBatchNumber()
    Then I choose Left Injection Given By "1"                                                                                           # IntravitrealContext::LeftInjectionGivenBy()
    And I enter a Left Injection time of "09:30"                                                                                        # IntravitrealContext::iEnterALeftInjectionTimeOf()
    Then I choose A Right Lens Status of "1"                                                                                            # IntravitrealContext::RightLensStatusOf()
    And I choose Right Counting Fingers Checked No                                                                                      # IntravitrealContext::RightCountingFingersCheckedNo()
    And I choose Right IOP Needs to be Checked Yes                                                                                      # IntravitrealContext::RightIopNeedsToBeCheckedYes()
    Then I choose Right Post Injection Drops "1"                                                                                        # IntravitrealContext::RightPostInjectionDrops()
    Then I choose A Left Lens Status of "1"                                                                                             # IntravitrealContext::iChooseALeftLensStatusOf()
    And I choose Left Counting Fingers Checked No                                                                                       # IntravitrealContext::LeftCountingFingersCheckedNo()
    And I choose Left IOP Needs to be Checked Yes                                                                                       # IntravitrealContext::LeftIopNeedsToBeCheckedYes()
    Then I choose Left Post Injection Drops "1"                                                                                         # IntravitrealContext::iChooseLeftPostInjectionDrops()
    And I select Right Complications "3"                                                                                                # IntravitrealContext::RightComplications()
    And I select Left Complications "1"                                                                                                 # IntravitrealContext::LeftComplications()
    Then I Save the Intravitreal injection and confirm it has been created successfully                                                 # IntravitrealContext::iSaveTheIntravitrealInjectionAndConfirm()

  Scenario: Route 3: Login and create a New Intravitreal Event                                                                          # features/bootstrap/Features/Latest Release Regression Pack/Intravitreal.feature:171
            Site 1:  Queens
            Firm 1:  Anderson Cataract
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Intravitreal"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select Add Left Side                                                                                                         # IntravitrealContext::iSelectAddLeftSide()
    Then I choose Right Anaesthetic Type of LA                                                                                          # IntravitrealContext::RightAnaestheticLa()
    Then I choose Right Anaesthetic Delivery of Subtenons                                                                               # IntravitrealContext::RightAnaestheticSubtenons()
    And I choose Right Anaesthetic Agent "5"                                                                                            # IntravitrealContext::RightAnaestheticAgent()
    Then I choose Left Anaesthetic Type of LA                                                                                           # IntravitrealContext::LeftAnaestheticTypeOfLa()
    Then I choose Left Anaesthetic Delivery of Subtenons                                                                                # IntravitrealContext::LeftAnaestheticDeliveryOfSubtenons()
    And I choose Left Anaesthetic Agent "4"                                                                                             # IntravitrealContext::LeftAnaestheticAgent()
    Then I choose Right Pre Injection Antiseptic "1"                                                                                    # IntravitrealContext::RightPreInjectionAntiseptic()
    Then I choose Right Pre Injection Skin Cleanser "1"                                                                                 # IntravitrealContext::RightPreInjectionSkinCleanser()
    Then I choose Right Drug "7"                                                                                                        # IntravitrealContext::iChooseRightDrug()
    And I enter "2" number of Right injections                                                                                          # IntravitrealContext::NumberOfRightInjections()
    Then I enter Right batch number "567"                                                                                               # IntravitrealContext::RightBatchNumber()
    Then I choose Right Injection Given By "1"                                                                                          # IntravitrealContext::RightInjectionGivenBy()
    And I enter a Right Injection time of "09:30"                                                                                       # IntravitrealContext::RightInjectionTimeOf()
    Then I choose Left Pre Injection Antiseptic "1"                                                                                     # IntravitrealContext::LeftPreInjectionAntiseptic()
    Then I choose Left Pre Injection Skin Cleanser "2"                                                                                  # IntravitrealContext::LeftPreInjectionSkinCleanser()
    Then I choose Left Drug "2"                                                                                                         # IntravitrealContext::iChooseLeftDrug()
    And I enter "1" number of Left injections                                                                                           # IntravitrealContext::NumberOfLeftInjections()
    Then I enter Left batch number "789"                                                                                                # IntravitrealContext::iLeftBatchNumber()
    Then I choose Left Injection Given By "3"                                                                                           # IntravitrealContext::LeftInjectionGivenBy()
    And I enter a Left Injection time of "09:30"                                                                                        # IntravitrealContext::iEnterALeftInjectionTimeOf()
    Then I choose A Right Lens Status of "1"                                                                                            # IntravitrealContext::RightLensStatusOf()
    And I choose Right Counting Fingers Checked No                                                                                      # IntravitrealContext::RightCountingFingersCheckedNo()
    And I choose Right IOP Needs to be Checked Yes                                                                                      # IntravitrealContext::RightIopNeedsToBeCheckedYes()
    Then I choose Right Post Injection Drops "1"                                                                                        # IntravitrealContext::RightPostInjectionDrops()
    Then I choose A Left Lens Status of "2"                                                                                             # IntravitrealContext::iChooseALeftLensStatusOf()
    And I choose Left Counting Fingers Checked Yes                                                                                      # IntravitrealContext::LeftCountingFingersCheckedYes()
    And I choose Left IOP Needs to be Checked No                                                                                        # IntravitrealContext::LeftIopNeedsToBeCheckedNo()
    Then I choose Left Post Injection Drops "2"                                                                                         # IntravitrealContext::iChooseLeftPostInjectionDrops()
    And I select Right Complications "2"                                                                                                # IntravitrealContext::RightComplications()
    And I select Left Complications "2"                                                                                                 # IntravitrealContext::LeftComplications()
    Then I Save the Intravitreal injection and confirm it has been created successfully                                                 # IntravitrealContext::iSaveTheIntravitrealInjectionAndConfirm()

  Scenario: Route 4: Login and create a New Intravitreal Event                                                                          # features/bootstrap/Features/Latest Release Regression Pack/Intravitreal.feature:240
            Site 1:  Queens
            Firm 4:  Anderson Medical Retinal
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "4"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Medical Retinal sidebar                                                                                           # AddingNewEventContext::iExpandTheMedicalRetinalSidebar()
    And I add a New Event "Intravitreal"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select Add Left Side                                                                                                         # IntravitrealContext::iSelectAddLeftSide()
    Then I choose Right Anaesthetic Type of Topical                                                                                     # IntravitrealContext::RightAnaestheticTopical()
    Then I choose Right Anaesthetic Delivery of Subconjunctival                                                                         # IntravitrealContext::RightAnaestheticSubconjunctival()
    And I choose Right Anaesthetic Agent "2"                                                                                            # IntravitrealContext::RightAnaestheticAgent()
    Then I choose Left Anaesthetic Type of LA                                                                                           # IntravitrealContext::LeftAnaestheticTypeOfLa()
    Then I choose Left Anaesthetic Delivery of Subconjunctival                                                                          # IntravitrealContext::LeftAnaestheticDeliveryOfSubconjunctival()
    And I choose Left Anaesthetic Agent "1"                                                                                             # IntravitrealContext::LeftAnaestheticAgent()
    Then I choose Right Pre Injection Antiseptic "2"                                                                                    # IntravitrealContext::RightPreInjectionAntiseptic()
    Then I choose Right Pre Injection Skin Cleanser "2"                                                                                 # IntravitrealContext::RightPreInjectionSkinCleanser()
    Then I choose Right Drug "4"                                                                                                        # IntravitrealContext::iChooseRightDrug()
    And I enter "4" number of Right injections                                                                                          # IntravitrealContext::NumberOfRightInjections()
    Then I enter Right batch number "890"                                                                                               # IntravitrealContext::RightBatchNumber()
    Then I choose Right Injection Given By "2"                                                                                          # IntravitrealContext::RightInjectionGivenBy()
    And I enter a Right Injection time of "11:00"                                                                                       # IntravitrealContext::RightInjectionTimeOf()
    Then I choose Left Pre Injection Antiseptic "2"                                                                                     # IntravitrealContext::LeftPreInjectionAntiseptic()
    Then I choose Left Pre Injection Skin Cleanser "1"                                                                                  # IntravitrealContext::LeftPreInjectionSkinCleanser()
    Then I choose Left Drug "1"                                                                                                         # IntravitrealContext::iChooseLeftDrug()
    And I enter "3" number of Left injections                                                                                           # IntravitrealContext::NumberOfLeftInjections()
    Then I enter Left batch number "890"                                                                                                # IntravitrealContext::iLeftBatchNumber()
    Then I choose Left Injection Given By "2"                                                                                           # IntravitrealContext::LeftInjectionGivenBy()
    And I enter a Left Injection time of "08:30"                                                                                        # IntravitrealContext::iEnterALeftInjectionTimeOf()
    Then I choose A Right Lens Status of "2"                                                                                            # IntravitrealContext::RightLensStatusOf()
    And I choose Right Counting Fingers Checked Yes                                                                                     # IntravitrealContext::RightCountingFingersCheckedYes()
    And I choose Right IOP Needs to be Checked No                                                                                       # IntravitrealContext::RightIopNeedsToBeCheckedNo()
    Then I choose Right Post Injection Drops "2"                                                                                        # IntravitrealContext::RightPostInjectionDrops()
    Then I choose A Left Lens Status of "1"                                                                                             # IntravitrealContext::iChooseALeftLensStatusOf()
    And I choose Left Counting Fingers Checked No                                                                                       # IntravitrealContext::LeftCountingFingersCheckedNo()
    And I choose Left IOP Needs to be Checked Yes                                                                                       # IntravitrealContext::LeftIopNeedsToBeCheckedYes()
    Then I choose Left Post Injection Drops "1"                                                                                         # IntravitrealContext::iChooseLeftPostInjectionDrops()
    And I select Right Complications "3"                                                                                                # IntravitrealContext::RightComplications()
    And I select Left Complications "3"                                                                                                 # IntravitrealContext::LeftComplications()
    Then I Save the Intravitreal injection                                                                                              # IntravitrealContext::iSaveTheIntravitrealInjection()

  Scenario: Route 5: Login and create a New Intravitreal Event                                                                          # features/bootstrap/Features/Latest Release Regression Pack/Intravitreal.feature:308
    Site 1:  Queens
    Firm 1:  Anderson Cataract
    Other complication and comment fields
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Intravitreal"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select Add Left Side                                                                                                         # IntravitrealContext::iSelectAddLeftSide()
    Then I choose Right Anaesthetic Type of Topical                                                                                     # IntravitrealContext::RightAnaestheticTopical()
    Then I choose Right Anaesthetic Type of LA                                                                                          # IntravitrealContext::RightAnaestheticLa()
    Then I choose Right Anaesthetic Delivery of Retrobulbar                                                                             # IntravitrealContext::RightAnaestheticRetrobulbar()
    And I choose Right Anaesthetic Agent "5"                                                                                            # IntravitrealContext::RightAnaestheticAgent()
    Then I choose Left Anaesthetic Type of Topical                                                                                      # IntravitrealContext::LeftAnaestheticTypeOfTopical()
    Then I choose Left Anaesthetic Type of LA                                                                                           # IntravitrealContext::LeftAnaestheticTypeOfLa()
    Then I choose Left Anaesthetic Delivery of Retrobulbar                                                                              # IntravitrealContext::LeftAnaestheticDeliveryOfRetrobulbar()
    And I choose Left Anaesthetic Agent "1"                                                                                             # IntravitrealContext::LeftAnaestheticAgent()
    Then I choose Right Pre Injection Antiseptic "1"                                                                                    # IntravitrealContext::RightPreInjectionAntiseptic()
    Then I choose Right Pre Injection Skin Cleanser "2"                                                                                 # IntravitrealContext::RightPreInjectionSkinCleanser()
    And I tick the Right Pre Injection IOP Lowering Drops checkbox                                                                      # IntravitrealContext::TickRightPreInjectionIopLoweringDropsCheckbox()
    Then I choose Right Pre Injection IOP Lowering Drops "1"                                                                            # IntravitrealContext::iChooseRightPreInjectionIopLoweringDrops()
    Then I choose Right Drug "7"                                                                                                        # IntravitrealContext::iChooseRightDrug()
    And I enter "2" number of Right injections                                                                                          # IntravitrealContext::NumberOfRightInjections()
    Then I enter Right batch number "123"                                                                                               # IntravitrealContext::RightBatchNumber()
    Then I choose Right Injection Given By "1"                                                                                          # IntravitrealContext::RightInjectionGivenBy()
    And I enter a Right Injection time of "09:30"                                                                                       # IntravitrealContext::RightInjectionTimeOf()
    Then I choose Left Pre Injection Antiseptic "1"                                                                                     # IntravitrealContext::LeftPreInjectionAntiseptic()
    Then I choose Left Pre Injection Skin Cleanser "2"                                                                                  # IntravitrealContext::LeftPreInjectionSkinCleanser()
    And I tick the Left Pre Injection IOP Lowering Drops checkbox                                                                       # IntravitrealContext::LeftPreInjectionIopLoweringDropsCheckbox()
    Then I choose Left Pre Injection IOP Lowering Drops "1"                                                                             # IntravitrealContext::iChooseLeftPreInjectionIopLoweringDrops()
    Then I choose Left Drug "7"                                                                                                         # IntravitrealContext::iChooseLeftDrug()
    And I enter "2" number of Left injections                                                                                           # IntravitrealContext::NumberOfLeftInjections()
    Then I enter Left batch number "123"                                                                                                # IntravitrealContext::iLeftBatchNumber()
    Then I choose Left Injection Given By "1"                                                                                           # IntravitrealContext::LeftInjectionGivenBy()
    And I enter a Left Injection time of "09:30"                                                                                        # IntravitrealContext::iEnterALeftInjectionTimeOf()
    Then I choose A Right Lens Status of "1"                                                                                            # IntravitrealContext::RightLensStatusOf()
    And I choose Right Counting Fingers Checked Yes                                                                                     # IntravitrealContext::RightCountingFingersCheckedYes()
    And I choose Right IOP Needs to be Checked No                                                                                       # IntravitrealContext::RightIopNeedsToBeCheckedNo()
    Then I choose Right Post Injection Drops "1"                                                                                        # IntravitrealContext::RightPostInjectionDrops()
    Then I choose A Left Lens Status of "1"                                                                                             # IntravitrealContext::iChooseALeftLensStatusOf()
    And I choose Left Counting Fingers Checked Yes                                                                                      # IntravitrealContext::LeftCountingFingersCheckedYes()
    And I choose Left IOP Needs to be Checked No                                                                                        # IntravitrealContext::LeftIopNeedsToBeCheckedNo()
    Then I choose Left Post Injection Drops "1"                                                                                         # IntravitrealContext::iChooseLeftPostInjectionDrops()
    And I select Right Complications "6"                                                                                                # IntravitrealContext::RightComplications()
    And I select Left Complications "6"                                                                                                 # IntravitrealContext::LeftComplications()
    Then I add Right Complications Comments of "Test Right complication comments"                                                       # IntravitrealContext::iAddRightComplicationsCommentsOf()
    Then I add Left Complications Comments of "Test Right complication comments"                                                        # IntravitrealContext::iAddLeftComplicationsCommentsOf()
    Then I Save the Intravitreal injection and confirm it has been created successfully                                                 # IntravitrealContext::iSaveTheIntravitrealInjectionAndConfirm()

@laser @regression
Feature: Create New Laser event
         Regression coverage of this event is 100%

  Scenario: Route 1: Login and create a Laser event                                                                                     # features/bootstrap/Features/Latest Release Regression Pack/Laser.feature:5
            Site 2:  Kings
            Firm 3:  Anderson Glaucoma
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Laser"                                                                                                       # AddingNewEventContext::iAddANewEvent()
    Then I select a Laser site ID "1"                                                                                                   # LaserContext::iSelectALaserSiteId()
    And I select a Laser of "2"                                                                                                         # LaserContext::iSelectALaserOf()
    And I select a Laser Operator of "2"                                                                                                # LaserContext::iSelectALaserSurgeonOf()
    Then I select a Right Procedure of "62"                                                                                             # LaserContext::iSelectARightProcedureOf()
    Then I select a Right Procedure of "177"                                                                                            # LaserContext::iSelectARightProcedureOf()
    Then I select a Left Procedure of "363"                                                                                             # LaserContext::iSelectALeftProcedureOf()
    Then I select a Left Procedure of "128"                                                                                             # LaserContext::iSelectALeftProcedureOf()
    And I remove the last added Procedure                                                                                               # LaserContext::iRemoveTheLastAddedProcedure()
    Then I save the Laser Event and confirm it has been created successfully                                                            # LaserContext::iSaveTheLaserEventAndConfirm()

  Scenario: Route 2: Login and validate a Laser Event.                                                                                  # features/bootstrap/Features/Latest Release Regression Pack/Laser.feature:32
            Site 2:  Kings
            Firm 3:  Anderson Glaucoma
            Save without mandatory fields validation check
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Laser"                                                                                                       # AddingNewEventContext::iAddANewEvent()
    Then I save the Laser Event                                                                                                         # LaserContext::iSaveTheLaserEvent()
    And I Confirm that the Laser Validation error messages are displayed                                                                # LaserContext::iConfirmThatTheLaserValidationErrorMessagesAreDisplayed()

  Scenario: Route 3: Login and create a Laser event                                                                                     # features/bootstrap/Features/Latest Release Regression Pack/Laser.feature:52
            Site 1: Queens
            Firm 2: Broom Glaucoma
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "2"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Laser"                                                                                                       # AddingNewEventContext::iAddANewEvent()
    Then I select a Laser site ID "1"                                                                                                   # LaserContext::iSelectALaserSiteId()
    And I select a Laser of "2"                                                                                                         # LaserContext::iSelectALaserOf()
    And I select a Laser Operator of "2"                                                                                                # LaserContext::iSelectALaserSurgeonOf()
    Then I remove the right eye                                                                                                         # LaserContext::iRemoveTheRightEye()
    And I add the right eye                                                                                                             # LaserContext::iAddTheRightEye()
    Then I select a Right Procedure of "62"                                                                                             # LaserContext::iSelectARightProcedureOf()
    Then I select a Left Procedure of "363"                                                                                             # LaserContext::iSelectALeftProcedureOf()
    Then I add expand the Comments section                                                                                              # LaserContext::iAddExpandTheCommentsSection()
    And I add "Test comments" into the Comments section                                                                                 # LaserContext::iAddIntoTheCommentsSection()
    Then I remove the Comments section                                                                                                  # LaserContext::iRemoveTheCommentsSection()
    Then I save the Laser Event and confirm it has been created successfully                                                            # LaserContext::iSaveTheLaserEventAndConfirm()

@operationbooking @regression
Feature: Create New Operation Booking Event
         Regression coverage of this event is approx 50%

  Scenario: Route 1: Login and create a Operation Booking Anderson Glaucoma                                                             # features/bootstrap/Features/Latest Release Regression Pack/OperationBooking.feature:5
    Given I am logged in as "admin" with site "Kings" and firm "Anderson Firm (Glaucoma)"                                               # LoginContext::iAmLoggedInWithSiteAndFirm()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "OpBooking"                                                                                                   # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Left"                                                                                              # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "30041005"                                                                                              # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Left"                                                                                              # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "41"                                                                                                    # OperationBookingContext::iSelectAProcedureOf()
    Then I select No to Consultant required                                                                                             # OperationBookingContext::iSelectNoToConsultantRequired()
    And I select "No" for "Any other doctor to do"                                                                                      # FeatureContext::selectOption()
    And I select "No" for "Does the patient require pre-op assessment by an anaesthetist"                                               # FeatureContext::selectOption()
    And I select a Anaesthetic type "Topical"                                                                                           # OperationBookingContext::iSelectAAnaestheticType()
    And I select "Patient preference" for "Anaesthetic choice"                                                                          # FeatureContext::selectOption()
    And I select "No" for "Patient needs to stop medication"                                                                            # FeatureContext::selectOption()
    Then I select No to a Post Operative Stay                                                                                           # OperationBookingContext::iSelectNoToAPostOperativeStay()
    And I select a Operation Site of "1"                                                                                                # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Urgent                                                                                                  # OperationBookingContext::iSelectAPriorityOfUrgent()
    And I select a decision date of "14"                                                                                                # OperationBookingContext::iSelectADecisionDateOf()
    And I select "Yes" for "Admission discussed with patient"                                                                           # FeatureContext::selectOption()
    And I select "As soon as possible" for "Schedule options"                                                                           # FeatureContext::selectOption()
    Then I select Save and Schedule now                                                                                                 # OperationBookingContext::iSelectSaveAndScheduleNow()
    And I select OK to Duplicate procedure if requested                                                                                 # OperationBookingContext::okToDuplicateProcedure()
    And I select an Available theatre slot date                                                                                         # OperationBookingContext::iSelectAnAvailableTheatreSlotDate()
    And I select an Available session time                                                                                              # OperationBookingContext::iSelectAnAvailableSessionTime()
    And enter an admission time of "11:20"                                                                                              # OperationBookingContext::enterAnAdmissionTimeOf()
    Then I add Session comments of "Session Comments Session Comments Session Comments Session Comments Session Comments"               # OperationBookingContext::iAddSessionCommentsOf()
    And I add Operation comments of "Operation Comments Operation Comments Operation Comments Operation Comments Operation Comments"    # OperationBookingContext::iAddOperationCommentsOf()
    And enter RTT comments of "RTT Comments RTT Comments RTT Comments RTT Comments RTT Comments RTT Comments RTT Comments"              # OperationBookingContext::enterRttCommentsOf()
    Then I confirm the operation slot                                                                                                   # OperationBookingContext::iConfirmTheOperationSlot()

  Scenario: Route 2: Login and create a Operation Booking Anderson Cataract                                                             # features/bootstrap/Features/Latest Release Regression Pack/OperationBooking.feature:59
    Given I am logged in as "admin" with site "Queens" and firm "Anderson Firm (Cataract)"                                              # LoginContext::iAmLoggedInWithSiteAndFirm()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "OpBooking"                                                                                                   # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Right"                                                                                             # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "24010005"                                                                                              # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Right"                                                                                             # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "79"                                                                                                    # OperationBookingContext::iSelectAProcedureOf()
    Then I select Yes to Consultant required                                                                                            # OperationBookingContext::iSelectYesToConsultantRequired()
    And I select "Anderson Andrew" for "Named Consultant"                                                                               # FeatureContext::selectOption()
    And I select "No" for "Any other doctor to do"                                                                                      # FeatureContext::selectOption()
    And I select "No" for "Does the patient require pre-op assessment by an anaesthetist"                                               # FeatureContext::selectOption()
    And I select a Anaesthetic type "LA"                                                                                                # OperationBookingContext::iSelectAAnaestheticType()
    And I select "Patient preference" for "Anaesthetic choice"                                                                          # FeatureContext::selectOption()
    And I select "No" for "Patient needs to stop medication"                                                                            # FeatureContext::selectOption()
    Then I select Yes to a Post Operative Stay                                                                                          # OperationBookingContext::iSelectYesToAPostOperativeStay()
    And I select a Operation Site of "2"                                                                                                # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Routine                                                                                                 # OperationBookingContext::iSelectAPriorityOfRoutine()
    And I select a decision date of "10"                                                                                                # OperationBookingContext::iSelectADecisionDateOf()
    Then I add comments of "Insert test comments here"                                                                                  # OperationBookingContext::iAddCommentsOf()
    And I select "Yes" for "Admission discussed with patient"                                                                           # FeatureContext::selectOption()
    And I select "As soon as possible" for "Schedule options"                                                                           # FeatureContext::selectOption()
    Then I select Save and Schedule now                                                                                                 # OperationBookingContext::iSelectSaveAndScheduleNow()
    And I select OK to Duplicate procedure if requested                                                                                 # OperationBookingContext::okToDuplicateProcedure()
    Then I select Next Month                                                                                                            # OperationBookingContext::iSelectNextMonth()
    And I select an Available theatre slot date                                                                                         # OperationBookingContext::iSelectAnAvailableTheatreSlotDate()
    And I select an Available session time                                                                                              # OperationBookingContext::iSelectAnAvailableSessionTime()
    Then I add Session comments of "Insert session comments here"                                                                       # OperationBookingContext::iAddSessionCommentsOf()
    And I add Operation comments of "Insert operation comments here"                                                                    # OperationBookingContext::iAddOperationCommentsOf()
    Then I confirm the operation slot                                                                                                   # OperationBookingContext::iConfirmTheOperationSlot()

  Scenario: Route 3: Login and create a Operation Booking Anderson Medical Retinal                                                      # features/bootstrap/Features/Latest Release Regression Pack/OperationBooking.feature:116
    Given I am logged in as "admin" with site "Kings" and firm "Anderson Firm (Medical Retinal)"                                        # LoginContext::iAmLoggedInWithSiteAndFirm()
      Window resizing is not supported by Behat\Mink\Driver\GoutteDriver
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Medical Retinal sidebar                                                                                           # AddingNewEventContext::iExpandTheMedicalRetinalSidebar()
    And I add a New Event "OpBooking"                                                                                                   # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Both"                                                                                              # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "255024002"                                                                                             # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Both"                                                                                              # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "327"                                                                                                   # OperationBookingContext::iSelectAProcedureOf()
    Then I select No to Consultant required                                                                                             # OperationBookingContext::iSelectNoToConsultantRequired()
    And I select "No" for "Any other doctor to do"                                                                                      # FeatureContext::selectOption()
    And I select "No" for "Does the patient require pre-op assessment by an anaesthetist"                                               # FeatureContext::selectOption()
    And I select a Anaesthetic type "LAC"                                                                                               # OperationBookingContext::iSelectAAnaestheticType()
    And I select "Patient preference" for "Anaesthetic choice"                                                                          # FeatureContext::selectOption()
    And I select "No" for "Patient needs to stop medication"                                                                            # FeatureContext::selectOption()
    Then I select No to a Post Operative Stay                                                                                           # OperationBookingContext::iSelectNoToAPostOperativeStay()
    And I select a Operation Site of "2"                                                                                                # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Urgent                                                                                                  # OperationBookingContext::iSelectAPriorityOfUrgent()
    And I select a decision date of "3"                                                                                                 # OperationBookingContext::iSelectADecisionDateOf()
    Then I add comments of "Insert test comments here"                                                                                  # OperationBookingContext::iAddCommentsOf()
    And I select "Yes" for "Admission discussed with patient"                                                                           # FeatureContext::selectOption()
    And I select "As soon as possible" for "Schedule options"                                                                           # FeatureContext::selectOption()
    Then I select Save and Schedule now                                                                                                 # OperationBookingContext::iSelectSaveAndScheduleNow()
    And I select OK to Duplicate procedure if requested                                                                                 # OperationBookingContext::okToDuplicateProcedure()
    Then I change the Viewing Schedule to Emergency List                                                                                # OperationBookingContext::iChangeTheViewingScheduleToEmergencyList()
    Then I select an Available theatre slot date of next "Saturday"                                                                     # OperationBookingContext::iSelectAnAvailableTheatreSlotDateOfNext()
    And I select an Available session time                                                                                              # OperationBookingContext::iSelectAnAvailableSessionTime()
    Then I add Session comments of "Insert session comments here"                                                                       # OperationBookingContext::iAddSessionCommentsOf()
    And I add Operation comments of "Insert operation comments here"                                                                    # OperationBookingContext::iAddOperationCommentsOf()
    Then I confirm the operation slot                                                                                                   # OperationBookingContext::iConfirmTheOperationSlot()

@opnote @regression
Feature: Create New Operation Note Event
  Regression coverage of this event is approx TBC%

  Scenario: Route 1: Login and create a Operation Note Event                                                                            # features/bootstrap/Features/Latest Release Regression Pack/OperationNote.feature:5
            Site 2: Kings
            Firm 3: Anderson Glaucoma
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "OpNote"                                                                                                      # AddingNewEventContext::iAddANewEvent()
    Then I select an Emergency Operation Note                                                                                           # OperationNoteContext::iSelectAnEmergencyOperationNote()
    And I select Create Operation Note                                                                                                  # OperationNoteContext::iSelectCreateOperationNote()
    Then I select Procedure Right Eye                                                                                                   # OperationNoteContext::iSelectProcedureRightEye()
    And I select a common Procedure of "41"                                                                                             # OperationNoteContext::iSelectACommonProcedureOf()
    Then I choose Anaesthetic Type of Topical                                                                                           # OperationNoteContext::iChooseAnaestheticTypeOfTopical()
    And I choose Given by Anaesthetist                                                                                                  # OperationNoteContext::iChooseGivenByAnaesthetist()
    Then I choose Delivery by Retrobulbar                                                                                               # OperationNoteContext::iChooseDeliveryByRetrobulbar()
    Then I choose an Anaesthetic Agent of "1"                                                                                           # OperationNoteContext::iChooseAnAnaestheticAgentOf()
    Then I choose a Complication of "1"                                                                                                 # OperationNoteContext::iChooseAComplicationOf()
    And I add Anaesthetic comments of "Test comments"                                                                                   # OperationNoteContext::iAddAnaestheticCommentsOf()
    Then I choose a Surgeon of "2"                                                                                                      # OperationNoteContext::iChooseASurgeonOf()
    And I choose a Supervising Surgeon of "3"                                                                                           # OperationNoteContext::iChooseASupervisingSurgeonOf()
    Then I choose an Assistant of "3"                                                                                                   # OperationNoteContext::iChooseAnAssistantOf()
    Then I choose Per Operative Drugs of "1"                                                                                            # OperationNoteContext::iChoosePerOperativeDrugsOf()
    And I choose Operation comments of "Test Comments"                                                                                  # OperationNoteContext::iChooseOperationCommentsOf()
    Then I choose Post Op instructions of "1"                                                                                           # OperationNoteContext::iChoosePostOpInstructionsOf()
    Then I save the Operation Note and confirm it has been created successfully                                                         # OperationNoteContext::iSaveTheOperationNoteAndConfirmItHasBeenCreatedSuccessfully()

  Scenario: Route 2: Login and create a Operation Note Event                                                                            # features/bootstrap/Features/Latest Release Regression Pack/OperationNote.feature:53
    Site 2: Kings
    Firm 4: Medical Retinal
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "4"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Medical Retinal sidebar                                                                                           # AddingNewEventContext::iExpandTheMedicalRetinalSidebar()
    And I add a New Event "OpNote"                                                                                                      # AddingNewEventContext::iAddANewEvent()
    Then I select an Emergency Operation Note                                                                                           # OperationNoteContext::iSelectAnEmergencyOperationNote()
    And I select Create Operation Note                                                                                                  # OperationNoteContext::iSelectCreateOperationNote()
    Then I select Procedure Left Eye                                                                                                    # OperationNoteContext::iSelectProcedureLeftEye()
    And I select a common Procedure of "321"                                                                                            # OperationNoteContext::iSelectACommonProcedureOf()
    Then I choose Anaesthetic Type of LA                                                                                                # OperationNoteContext::iChooseAnaestheticTypeOfLa()
    And I choose Given by Surgeon                                                                                                       # OperationNoteContext::iChooseGivenBySurgeon()
    Then I choose Delivery by Peribulbar                                                                                                # OperationNoteContext::iChooseDeliveryByPeribulbar()
    Then I choose an Anaesthetic Agent of "1"                                                                                           # OperationNoteContext::iChooseAnAnaestheticAgentOf()
    Then I choose a Complication of "6"                                                                                                 # OperationNoteContext::iChooseAComplicationOf()
    And I add Anaesthetic comments of "Test comments"                                                                                   # OperationNoteContext::iAddAnaestheticCommentsOf()
    Then I choose a Surgeon of "3"                                                                                                      # OperationNoteContext::iChooseASurgeonOf()
    And I choose a Supervising Surgeon of "2"                                                                                           # OperationNoteContext::iChooseASupervisingSurgeonOf()
    Then I choose an Assistant of "2"                                                                                                   # OperationNoteContext::iChooseAnAssistantOf()
    Then I choose Per Operative Drugs of "1"                                                                                            # OperationNoteContext::iChoosePerOperativeDrugsOf()
    And I choose Operation comments of "Test Comments"                                                                                  # OperationNoteContext::iChooseOperationCommentsOf()
    Then I choose Post Op instructions of "1"                                                                                           # OperationNoteContext::iChoosePostOpInstructionsOf()
    Then I save the Operation Note and confirm it has been created successfully                                                         # OperationNoteContext::iSaveTheOperationNoteAndConfirmItHasBeenCreatedSuccessfully()

  Scenario: Route 3: Login and create a Operation Note Event                                                                            # features/bootstrap/Features/Latest Release Regression Pack/OperationNote.feature:101
    Site 1: Queens
    Firm 3: Anderson Glaucoma
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "OpNote"                                                                                                      # AddingNewEventContext::iAddANewEvent()
    Then I select an Emergency Operation Note                                                                                           # OperationNoteContext::iSelectAnEmergencyOperationNote()
    And I select Create Operation Note                                                                                                  # OperationNoteContext::iSelectCreateOperationNote()
    Then I select Procedure Right Eye                                                                                                   # OperationNoteContext::iSelectProcedureRightEye()
    And I select "Anterior vitrectomy" for "Add a procedure"                                                                            # FeatureContext::selectOption()
    Then I choose Anaesthetic Type of LAC                                                                                               # OperationNoteContext::iChooseAnaestheticTypeOfLac()
    And I choose Given by Nurse                                                                                                         # OperationNoteContext::iChooseGivenByNurse()
    Then I choose Delivery by Subtenons                                                                                                 # OperationNoteContext::iChooseDeliveryBySubtenons()
    Then I choose an Anaesthetic Agent of "1"                                                                                           # OperationNoteContext::iChooseAnAnaestheticAgentOf()
    Then I choose a Complication of "9"                                                                                                 # OperationNoteContext::iChooseAComplicationOf()
    And I add Anaesthetic comments of "Test comments"                                                                                   # OperationNoteContext::iAddAnaestheticCommentsOf()
    Then I choose a Surgeon of "3"                                                                                                      # OperationNoteContext::iChooseASurgeonOf()
    And I choose a Supervising Surgeon of "3"                                                                                           # OperationNoteContext::iChooseASupervisingSurgeonOf()
    Then I choose an Assistant of "3"                                                                                                   # OperationNoteContext::iChooseAnAssistantOf()
    Then I choose Per Operative Drugs of "1"                                                                                            # OperationNoteContext::iChoosePerOperativeDrugsOf()
    And I choose Operation comments of "Test Comments"                                                                                  # OperationNoteContext::iChooseOperationCommentsOf()
    Then I choose Post Op instructions of "1"                                                                                           # OperationNoteContext::iChoosePostOpInstructionsOf()
    Then I save the Operation Note and confirm it has been created successfully                                                         # OperationNoteContext::iSaveTheOperationNoteAndConfirmItHasBeenCreatedSuccessfully()

  Scenario: Route 4: Login and create a Operation Note Event                                                                            # features/bootstrap/Features/Latest Release Regression Pack/OperationNote.feature:149
    Site 1: Queens
    Firm 2: Broom Glaucoma
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "2"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "OpNote"                                                                                                      # AddingNewEventContext::iAddANewEvent()
    Then I select an Emergency Operation Note                                                                                           # OperationNoteContext::iSelectAnEmergencyOperationNote()
    And I select Create Operation Note                                                                                                  # OperationNoteContext::iSelectCreateOperationNote()
    Then I select Procedure Right Eye                                                                                                   # OperationNoteContext::iSelectProcedureRightEye()
    And I select a common Procedure of "41"                                                                                             # OperationNoteContext::iSelectACommonProcedureOf()
    Then I choose Anaesthetic Type of LAS                                                                                               # OperationNoteContext::iChooseAnaestheticTypeOfLas()
    And I choose Given by Anaesthetist Tehnician                                                                                        # OperationNoteContext::iChooseGivenByAnaesthetistTehnician()
    Then I choose Delivery by Subconjunctival                                                                                           # OperationNoteContext::iChooseDeliveryBySubconjunctival()
    Then I choose an Anaesthetic Agent of "1"                                                                                           # OperationNoteContext::iChooseAnAnaestheticAgentOf()
    Then I choose a Complication of "4"                                                                                                 # OperationNoteContext::iChooseAComplicationOf()
    And I add Anaesthetic comments of "Test comments"                                                                                   # OperationNoteContext::iAddAnaestheticCommentsOf()
    Then I choose a Surgeon of "3"                                                                                                      # OperationNoteContext::iChooseASurgeonOf()
    And I choose a Supervising Surgeon of "2"                                                                                           # OperationNoteContext::iChooseASupervisingSurgeonOf()
    Then I choose an Assistant of "3"                                                                                                   # OperationNoteContext::iChooseAnAssistantOf()
    Then I choose Per Operative Drugs of "1"                                                                                            # OperationNoteContext::iChoosePerOperativeDrugsOf()
    And I choose Operation comments of "Test Comments"                                                                                  # OperationNoteContext::iChooseOperationCommentsOf()
    Then I choose Post Op instructions of "1"                                                                                           # OperationNoteContext::iChoosePostOpInstructionsOf()
    Then I save the Operation Note and confirm it has been created successfully                                                         # OperationNoteContext::iSaveTheOperationNoteAndConfirmItHasBeenCreatedSuccessfully()

  Scenario: Route 5: Login and create a Operation Note Event                                                                            # features/bootstrap/Features/Latest Release Regression Pack/OperationNote.feature:197
    Site 1: Queens
    Firm 4: Medical Retinal
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "4"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Medical Retinal sidebar                                                                                           # AddingNewEventContext::iExpandTheMedicalRetinalSidebar()
    And I add a New Event "OpNote"                                                                                                      # AddingNewEventContext::iAddANewEvent()
    Then I select an Emergency Operation Note                                                                                           # OperationNoteContext::iSelectAnEmergencyOperationNote()
    And I select Create Operation Note                                                                                                  # OperationNoteContext::iSelectCreateOperationNote()
    Then I select Procedure Left Eye                                                                                                    # OperationNoteContext::iSelectProcedureLeftEye()
    And I select a common Procedure of "41"                                                                                             # OperationNoteContext::iSelectACommonProcedureOf()
    Then I choose Anaesthetic Type of GA                                                                                                # OperationNoteContext::iChooseAnaestheticTypeOfGa()
    And I choose Given by Other                                                                                                         # OperationNoteContext::iChooseGivenByOther()
    Then I choose Delivery by Topical                                                                                                   # OperationNoteContext::iChooseDeliveryByTopical()
    Then I choose Delivery by Topical & Intracameral                                                                                    # OperationNoteContext::iChooseDeliveryByTopicalIntracameral()
    Then I choose Delivery by Other                                                                                                     # OperationNoteContext::iChooseDeliveryByOther()
    Then I choose an Anaesthetic Agent of "1"                                                                                           # OperationNoteContext::iChooseAnAnaestheticAgentOf()
    Then I choose a Complication of "5"                                                                                                 # OperationNoteContext::iChooseAComplicationOf()
    And I add Anaesthetic comments of "Test comments"                                                                                   # OperationNoteContext::iAddAnaestheticCommentsOf()
    Then I choose a Surgeon of "3"                                                                                                      # OperationNoteContext::iChooseASurgeonOf()
    And I choose a Supervising Surgeon of "2"                                                                                           # OperationNoteContext::iChooseASupervisingSurgeonOf()
    Then I choose an Assistant of "3"                                                                                                   # OperationNoteContext::iChooseAnAssistantOf()
    Then I choose Per Operative Drugs of "1"                                                                                            # OperationNoteContext::iChoosePerOperativeDrugsOf()
    And I choose Operation comments of "Test Comments"                                                                                  # OperationNoteContext::iChooseOperationCommentsOf()
    Then I choose Post Op instructions of "1"                                                                                           # OperationNoteContext::iChoosePostOpInstructionsOf()
    Then I save the Operation Note and confirm it has been created successfully                                                         # OperationNoteContext::iSaveTheOperationNoteAndConfirmItHasBeenCreatedSuccessfully()

@diagnosis @regression
Feature: Open Eyes Login and Patient Diagnosis Screen
         Regression coverage of this event is approx 98%

  Scenario: Route 1: Login and add Opthamlmic Diagnosis, Systemic Diagnosis, CVI, Medication and other Allergies                        # features/bootstrap/Features/Latest Release Regression Pack/PatientViewNewDiagnosis.feature:5
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I Add an Ophthalmic Diagnosis selection of "193570009"                                                                         # PatientViewContext::addOpthalmicDiagnosis()
    And I select that it affects eye "Left"                                                                                             # PatientViewContext::SelectThatItAffectsEye()
    And I select a Opthalmic Diagnosis date of day "18" month "6" year "2012"                                                           # PatientViewContext::OpthalmicDiagnosis()
    Then I save the new Opthalmic Diagnosis                                                                                             # PatientViewContext::SaveTheNewOpthalmicDiagnosis()
    Then I Add an Systemic Diagnosis selection of "195967001"                                                                           # PatientViewContext::SystemicDiagnosisSelection()
    And I select that it affects Systemic side "Left"                                                                                   # PatientViewContext::systemicSide()
    And I select a Systemic Diagnosis date of day "18" month "6" year "2012"                                                            # PatientViewContext::SystemicDiagnosisDate()
    Then I save the new Systemic Diagnosis                                                                                              # PatientViewContext::SaveTheNewSystemicDiagnosis()
    Then I Add a Previous Operation of "1"                                                                                              # PatientViewContext::iAddAPreviousOperationOf()
    And I select that it affects Operation side "Left"                                                                                  # PatientViewContext::SelectThatItAffectsOperationSide()
    And I select a Previous Operation date of day "9" month "9" year "2012"                                                             # PatientViewContext::PreviousOperationDate()
    Then I save the new Previous Operation                                                                                              # PatientViewContext::iSaveTheNewPreviousOperation()
    Then I edit the CVI Status "4"                                                                                                      # PatientViewContext::iEditTheCviStatus()
    And I select a CVI Status date of day "18" month "6" year "2012"                                                                    # PatientViewContext::iSelectACviStatusDateOfDayMonthYear()
    Then I save the new CVI status                                                                                                      # PatientViewContext::iSaveTheNewCviStatus()
    Then I Remove existing Allergy                                                                                                      # PatientViewContext::removeAllergy()
    Then I Add Allergy "5" and Save                                                                                                     # PatientViewContext::iAddAllergy()
    And I Add a Family History of relative "1" side "1" condition "1" and comments "Family History Comments" and Save                   # PatientViewContext::FamilyHistory()

  Scenario: Route 2: Login and add Opthamlmic Diagnosis, Systemic Diagnosis, CVI, Medication and other Allergies                        # features/bootstrap/Features/Latest Release Regression Pack/PatientViewNewDiagnosis.feature:38
            Remove Operation
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I Add an Ophthalmic Diagnosis selection of "95217000"                                                                          # PatientViewContext::addOpthalmicDiagnosis()
    And I select that it affects eye "Right"                                                                                            # PatientViewContext::SelectThatItAffectsEye()
    And I select a Opthalmic Diagnosis date of day "4" month "3" year "2012"                                                            # PatientViewContext::OpthalmicDiagnosis()
    Then I save the new Opthalmic Diagnosis                                                                                             # PatientViewContext::SaveTheNewOpthalmicDiagnosis()
    Then I Add an Systemic Diagnosis selection of "46635009"                                                                            # PatientViewContext::SystemicDiagnosisSelection()
    And I select that it affects Systemic side "Right"                                                                                  # PatientViewContext::systemicSide()
    And I select a Systemic Diagnosis date of day "4" month "1" year "2012"                                                             # PatientViewContext::SystemicDiagnosisDate()
    Then I save the new Systemic Diagnosis                                                                                              # PatientViewContext::SaveTheNewSystemicDiagnosis()
    Then I Add a Previous Operation of "4"                                                                                              # PatientViewContext::iAddAPreviousOperationOf()
    And I select that it affects Operation side "Right"                                                                                 # PatientViewContext::SelectThatItAffectsOperationSide()
    And I select a Previous Operation date of day "4" month "1" year "2012"                                                             # PatientViewContext::PreviousOperationDate()
    Then I save the new Previous Operation                                                                                              # PatientViewContext::iSaveTheNewPreviousOperation()
    And I Add a Family History of relative "4" side "3" condition "2" and comments "Family History Comments" and Save                   # PatientViewContext::FamilyHistory()

  Scenario: Route 3: Login and add Opthamlmic Diagnosis, Systemic Diagnosis, CVI, Medication and other Allergies                        # features/bootstrap/Features/Latest Release Regression Pack/PatientViewNewDiagnosis.feature:68
            Remove Medication
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "2"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I Add an Ophthalmic Diagnosis selection of "24010005"                                                                          # PatientViewContext::addOpthalmicDiagnosis()
    And I select that it affects eye "Both"                                                                                             # PatientViewContext::SelectThatItAffectsEye()
    And I select a Opthalmic Diagnosis date of day "9" month "7" year "2012"                                                            # PatientViewContext::OpthalmicDiagnosis()
    Then I save the new Opthalmic Diagnosis                                                                                             # PatientViewContext::SaveTheNewOpthalmicDiagnosis()
    Then I remove the Opthalmic Diagnosis                                                                                               # PatientViewContext::iRemoveTheOpthalmicDiagnosis()
    Then I Add an Systemic Diagnosis selection of "414545008"                                                                           # PatientViewContext::SystemicDiagnosisSelection()
    And I select that it affects Systemic side "Both"                                                                                   # PatientViewContext::systemicSide()
    And I select a Systemic Diagnosis date of day "9" month "7" year "2012"                                                             # PatientViewContext::SystemicDiagnosisDate()
    Then I save the new Systemic Diagnosis                                                                                              # PatientViewContext::SaveTheNewSystemicDiagnosis()
    Then I remove the Systemic Diagnosis                                                                                                # PatientViewContext::iRemoveTheSystemicDiagnosis()
    And I Add Medication details medication "3" route "2" frequency "8" date from "1" and Save                                          # PatientViewContext::iAddMedicationDetails()
    Then I remove the Medication                                                                                                        # PatientViewContext::iRemoveMedication()
    And I Add a Family History of relative "4" side "3" condition "2" and comments "Family History Comments" and Save                   # PatientViewContext::FamilyHistory()

  Scenario: Route 4: Login and add Opthamlmic Diagnosis, Systemic Diagnosis, CVI, Medication and other Allergies                        # features/bootstrap/Features/Latest Release Regression Pack/PatientViewNewDiagnosis.feature:97
            Social History Tests
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I Add an Ophthalmic Diagnosis selection of "193570009"                                                                         # PatientViewContext::addOpthalmicDiagnosis()
    And I select that it affects eye "Left"                                                                                             # PatientViewContext::SelectThatItAffectsEye()
    And I select a Opthalmic Diagnosis date of day "18" month "6" year "2012"                                                           # PatientViewContext::OpthalmicDiagnosis()
    Then I save the new Opthalmic Diagnosis                                                                                             # PatientViewContext::SaveTheNewOpthalmicDiagnosis()
    Then I Add an Systemic Diagnosis selection of "195967001"                                                                           # PatientViewContext::SystemicDiagnosisSelection()
    And I select that it affects Systemic side "Left"                                                                                   # PatientViewContext::systemicSide()
    And I select a Systemic Diagnosis date of day "18" month "6" year "2012"                                                            # PatientViewContext::SystemicDiagnosisDate()
    Then I save the new Systemic Diagnosis                                                                                              # PatientViewContext::SaveTheNewSystemicDiagnosis()
    Then I Add a Previous Operation of "1"                                                                                              # PatientViewContext::iAddAPreviousOperationOf()
    And I select that it affects Operation side "Left"                                                                                  # PatientViewContext::SelectThatItAffectsOperationSide()
    And I select a Previous Operation date of day "9" month "9" year "2012"                                                             # PatientViewContext::PreviousOperationDate()
    Then I save the new Previous Operation                                                                                              # PatientViewContext::iSaveTheNewPreviousOperation()
    Then I edit the CVI Status "4"                                                                                                      # PatientViewContext::iEditTheCviStatus()
    And I select a CVI Status date of day "18" month "6" year "2012"                                                                    # PatientViewContext::iSelectACviStatusDateOfDayMonthYear()
    Then I save the new CVI status                                                                                                      # PatientViewContext::iSaveTheNewCviStatus()
    Then I Remove existing Allergy                                                                                                      # PatientViewContext::removeAllergy()
    Then I Add Allergy "5" and Save                                                                                                     # PatientViewContext::iAddAllergy()
    And I Add a Family History of relative "1" side "1" condition "1" and comments "Family History Comments" and Save                   # PatientViewContext::FamilyHistory()
    Then I expand Social History                                                                                                        # PatientViewContext::iExpandSocialHistory()
    And I add an Occupation of "7"                                                                                                      # PatientViewContext::iAddAnOccupationOf()
    And I add an Occupation Other type of "Nuclear Scientist"                                                                           # PatientViewContext::iAddAnOccupationOtherTypeOf()
    And I select "Motor vehicle" for "Driving Status"                                                                                   # FeatureContext::selectOption()
    And I add a Smoking status of "2"                                                                                                   # PatientViewContext::iAddASmokingStatusOf()
    And I add an Accommodation status of "3"                                                                                            # PatientViewContext::iAddAnAccommodationStatusOf()
    Then I add Social Comments of "Test Social comments"                                                                                # PatientViewContext::iAddSocialCommentsOf()
    And I select a Carer status of "1"                                                                                                  # PatientViewContext::iSelectACarerStatusOf()
    Then I set an Alcohol intake of "100" units a week                                                                                  # PatientViewContext::iSetAnAlcoholIntakeOfUnitsAWeek()
    And I select a Substance Misuse status of "1"                                                                                       # PatientViewContext::iSelectASubstanceMisuseStatusOf()
    Then I Save the Social History                                                                                                      # PatientViewContext::iSaveTheSocialHistory()

@phasing @regression
Feature: Create New Phasing Event
         Regression coverage of this event is 100%

  Scenario: Route 1: Login and create a Phasing Event                                                                                   # features/bootstrap/Features/Latest Release Regression Pack/Phasing.feature:5
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465 "                                                                                        # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Phasing"                                                                                                     # AddingNewEventContext::iAddANewEvent()
    Then I choose a right eye Intraocular Pressure Instrument  of "1"                                                                   # PhasingContext::RightEyeIntraocular()
    And I choose right eye Dilation of Yes                                                                                              # PhasingContext::iChooseRightEyeDilationYes()
    Then I choose a right eye Intraocular Pressure Reading Time of "14:00"                                                              # PhasingContext::iChooseARightEyeIntraocularPressureReadingTimeOf()
    Then I choose a right eye Intraocular Pressure Reading of "5"                                                                       # PhasingContext::iChooseARightEyeIntraocularPressureReadingOf()
    And I add right eye comments of "Right eye comments here"                                                                           # PhasingContext::iAddRightEyeCommentsOf()
    Then I choose a left eye Intraocular Pressure Instrument  of "5"                                                                    # PhasingContext::iChooseALeftEyeIntraocularPressureInstrumentOf()
    And I choose left eye Dilation of Yes                                                                                               # PhasingContext::iChooseLeftEyeDilationYes()
    Then I choose a left eye Intraocular Pressure Reading Time of "14:42"                                                               # PhasingContext::iChooseALeftEyeIntraocularPressureReadingTimeOf()
    Then I choose a left eye Intraocular Pressure Reading of "7"                                                                        # PhasingContext::iChooseALeftEyeIntraocularPressureReadingOf()
    And I add left eye comments of "Left eye comments here"                                                                             # PhasingContext::iAddLeftEyeCommentsOf()
    Then I Save the Phasing Event and confirm it has been created successfully                                                          # PhasingContext::iSaveThePhasingEventAndConfirm()

  Scenario: Route 2: Login and create a Phasing Event                                                                                   # features/bootstrap/Features/Latest Release Regression Pack/Phasing.feature:37
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465 "                                                                                        # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Phasing"                                                                                                     # AddingNewEventContext::iAddANewEvent()
    Then I choose a right eye Intraocular Pressure Instrument  of "3"                                                                   # PhasingContext::RightEyeIntraocular()
    And I choose right eye Dilation of No                                                                                               # PhasingContext::iChooseRightEyeDilationNo()
    Then I choose a right eye Intraocular Pressure Reading Time of "21:00"                                                              # PhasingContext::iChooseARightEyeIntraocularPressureReadingTimeOf()
    Then I choose a right eye Intraocular Pressure Reading of "14"                                                                      # PhasingContext::iChooseARightEyeIntraocularPressureReadingOf()
    And I add right eye comments of "Right eye comments here"                                                                           # PhasingContext::iAddRightEyeCommentsOf()
    Then I choose a left eye Intraocular Pressure Instrument  of "4"                                                                    # PhasingContext::iChooseALeftEyeIntraocularPressureInstrumentOf()
    And I choose left eye Dilation of Yes                                                                                               # PhasingContext::iChooseLeftEyeDilationYes()
    Then I choose a left eye Intraocular Pressure Reading Time of "04:42"                                                               # PhasingContext::iChooseALeftEyeIntraocularPressureReadingTimeOf()
    Then I choose a left eye Intraocular Pressure Reading of "12"                                                                       # PhasingContext::iChooseALeftEyeIntraocularPressureReadingOf()
    And I add left eye comments of "Left eye comments here"                                                                             # PhasingContext::iAddLeftEyeCommentsOf()
    Then I Save the Phasing Event and confirm it has been created successfully                                                          # PhasingContext::iSaveThePhasingEventAndConfirm()

  Scenario: Route 3: Login and create a Phasing Event                                                                                   # features/bootstrap/Features/Latest Release Regression Pack/Phasing.feature:69
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465 "                                                                                        # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Phasing"                                                                                                     # AddingNewEventContext::iAddANewEvent()
    Then I choose a right eye Intraocular Pressure Instrument  of "3"                                                                   # PhasingContext::RightEyeIntraocular()
    And I choose right eye Dilation of No                                                                                               # PhasingContext::iChooseRightEyeDilationNo()
    Then I choose a right eye Intraocular Pressure Reading Time of "08:00"                                                              # PhasingContext::iChooseARightEyeIntraocularPressureReadingTimeOf()
    Then I choose a right eye Intraocular Pressure Reading of "5"                                                                       # PhasingContext::iChooseARightEyeIntraocularPressureReadingOf()
    And I add right eye comments of "Right eye comments here"                                                                           # PhasingContext::iAddRightEyeCommentsOf()
    Then I choose a left eye Intraocular Pressure Instrument  of "3"                                                                    # PhasingContext::iChooseALeftEyeIntraocularPressureInstrumentOf()
    And I choose left eye Dilation of Yes                                                                                               # PhasingContext::iChooseLeftEyeDilationYes()
    Then I choose a left eye Intraocular Pressure Reading Time of "14:42"                                                               # PhasingContext::iChooseALeftEyeIntraocularPressureReadingTimeOf()
    Then I choose a left eye Intraocular Pressure Reading of "9"                                                                        # PhasingContext::iChooseALeftEyeIntraocularPressureReadingOf()
    And I add left eye comments of "Left eye comments here"                                                                             # PhasingContext::iAddLeftEyeCommentsOf()
    Then I Save the Phasing Event and confirm it has been created successfully                                                          # PhasingContext::iSaveThePhasingEventAndConfirm()

  Scenario: Route 4: Login and create a Phasing Event                                                                                   # features/bootstrap/Features/Latest Release Regression Pack/Phasing.feature:101
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "4"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465 "                                                                                        # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Medical Retinal sidebar                                                                                           # AddingNewEventContext::iExpandTheMedicalRetinalSidebar()
    And I add a New Event "Phasing"                                                                                                     # AddingNewEventContext::iAddANewEvent()
    Then I choose a right eye Intraocular Pressure Instrument  of "4"                                                                   # PhasingContext::RightEyeIntraocular()
    And I choose right eye Dilation of No                                                                                               # PhasingContext::iChooseRightEyeDilationNo()
    Then I choose a right eye Intraocular Pressure Reading Time of "08:00"                                                              # PhasingContext::iChooseARightEyeIntraocularPressureReadingTimeOf()
    Then I choose a right eye Intraocular Pressure Reading of "5"                                                                       # PhasingContext::iChooseARightEyeIntraocularPressureReadingOf()
    And I add right eye comments of "Right eye comments here"                                                                           # PhasingContext::iAddRightEyeCommentsOf()
    Then I choose a left eye Intraocular Pressure Instrument  of "1"                                                                    # PhasingContext::iChooseALeftEyeIntraocularPressureInstrumentOf()
    And I choose left eye Dilation of Yes                                                                                               # PhasingContext::iChooseLeftEyeDilationYes()
    Then I choose a left eye Intraocular Pressure Reading Time of "14:42"                                                               # PhasingContext::iChooseALeftEyeIntraocularPressureReadingTimeOf()
    Then I choose a left eye Intraocular Pressure Reading of "9"                                                                        # PhasingContext::iChooseALeftEyeIntraocularPressureReadingOf()
    And I add left eye comments of "Left eye comments here"                                                                             # PhasingContext::iAddLeftEyeCommentsOf()
    Then I add a new Left Reading                                                                                                       # PhasingContext::iAddANewLeftReading()
    Then I choose a second left eye Intraocular Pressure Reading Time of "11:07"                                                        # PhasingContext::iChooseASecondLeftEyeIntraocularPressureReadingTimeOf()
    Then I choose a second left eye Intraocular Pressure Reading of "6"                                                                 # PhasingContext::iChooseASecondLeftEyeIntraocularPressureReadingOf()
    Then I add a new Right Reading                                                                                                      # PhasingContext::iAddANewRightReading()
    Then I choose a second right eye Intraocular Pressure Reading of "20"                                                               # PhasingContext::iChooseASecondRightEyeIntraocularPressureReadingOf()
    Then I remove the last Right Reading                                                                                                # PhasingContext::iRemoveTheLastRightReading()
    Then I remove the last Left Reading                                                                                                 # PhasingContext::iRemoveTheLastLeftReading()
    Then I Save the Phasing Event and confirm it has been created successfully                                                          # PhasingContext::iSaveThePhasingEventAndConfirm()

  Scenario: Route 5: Login and create a Phasing Event                                                                                   # features/bootstrap/Features/Latest Release Regression Pack/Phasing.feature:144
            Invalid time entry validation tests (Intraocular Pressing Reading Times)
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465 "                                                                                        # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Phasing"                                                                                                     # AddingNewEventContext::iAddANewEvent()
    Then I choose a right eye Intraocular Pressure Instrument  of "1"                                                                   # PhasingContext::RightEyeIntraocular()
    And I choose right eye Dilation of Yes                                                                                              # PhasingContext::iChooseRightEyeDilationYes()
    Then I choose a right eye Intraocular Pressure Reading Time of "25:12"                                                              # PhasingContext::iChooseARightEyeIntraocularPressureReadingTimeOf()
    Then I choose a right eye Intraocular Pressure Reading of "5"                                                                       # PhasingContext::iChooseARightEyeIntraocularPressureReadingOf()
    And I add right eye comments of "Right eye comments here"                                                                           # PhasingContext::iAddRightEyeCommentsOf()
    Then I choose a left eye Intraocular Pressure Instrument  of "5"                                                                    # PhasingContext::iChooseALeftEyeIntraocularPressureInstrumentOf()
    And I choose left eye Dilation of Yes                                                                                               # PhasingContext::iChooseLeftEyeDilationYes()
    Then I choose a left eye Intraocular Pressure Reading Time of "09:67"                                                               # PhasingContext::iChooseALeftEyeIntraocularPressureReadingTimeOf()
    Then I choose a left eye Intraocular Pressure Reading of "7"                                                                        # PhasingContext::iChooseALeftEyeIntraocularPressureReadingOf()
    And I add left eye comments of "Left eye comments here"                                                                             # PhasingContext::iAddLeftEyeCommentsOf()
    Then I Save the Phasing Event                                                                                                       # PhasingContext::iSaveThePhasingEvent()
    Then I Confirm that the Readings Invalid time error messages are displayed                                                          # PhasingContext::iConfirmThatTheReadingsInvalidTimeErrorMessagesAreDisplayed()

@prescription @regression
Feature: Create New Prescription
         Regression coverage of this event is 100%

  Scenario: Route 1: Login and create a new Prescription                                                                                # features/bootstrap/Features/Latest Release Regression Pack/Prescription.feature:5
            Site 1:Queens
            Firm 3:Anderson Glaucoma
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select Create or View Episodes and Events                                                                                    # PatientViewContext::CreateOrViewEpisodesAndEvents()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Prescription"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select a Common Drug "75"                                                                                                    # PrescriptionContext::iSelectACommonDrug()
    And I select a Standard Set of "10"                                                                                                 # PrescriptionContext::iSelectAStandardSetOf()
    Then I enter a Dose of "2" drops                                                                                                    # PrescriptionContext::iEnterADoseOfDrops()
    And I enter a route of "1"                                                                                                          # PrescriptionContext::iEnterARouteOf()
    And I enter a frequency of "4"                                                                                                      # PrescriptionContext::iEnterAFrequencyOf()
    Then I enter a duration of "1"                                                                                                      # PrescriptionContext::iEnterADurationOf()
    Then I enter a eyes option "1"                                                                                                      # PrescriptionContext::iEnterAEyesOption()
    Then I enter a item two eyes option of "1"                                                                                          # PrescriptionContext::iEnterAItemTwoEyesOptionOf()
    Then I enter a item three eyes option of "1"                                                                                        # PrescriptionContext::iEnterAItemThreeEyesOptionOf()
    And I add Prescription comments of "TEST COMMENTS"                                                                                  # PrescriptionContext::iAddPrescriptionCommentsOf()
    Then I Save the Prescription Draft and confirm it has been created successfully                                                     # PrescriptionContext::iSaveThePrescriptionDraft()

  Scenario: Route 1A: Repeat Prescription test                                                                                          # features/bootstrap/Features/Latest Release Regression Pack/Prescription.feature:38
    Site 1:Queens
    Firm 3:Anderson Glaucoma
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select Create or View Episodes and Events                                                                                    # PatientViewContext::CreateOrViewEpisodesAndEvents()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Prescription"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select Repeat Prescription                                                                                                   # PrescriptionContext::iSelectRepeatPrescription()
    And a check is made that the Repeat Prescription is applied                                                                         # PrescriptionContext::aCheckIsMadeThatTheRepeatPrescriptionIsApplied()
    Then I Save the Prescription Draft and confirm it has been created successfully                                                     # PrescriptionContext::iSaveThePrescriptionDraft()

  Scenario: Route 2: Login and create a new Prescription                                                                                # features/bootstrap/Features/Latest Release Regression Pack/Prescription.feature:60
            Site 2:Kings
            Firm 3:Anderson Cataract
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select Create or View Episodes and Events                                                                                    # PatientViewContext::CreateOrViewEpisodesAndEvents()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Prescription"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I choose to filter by type "28"                                                                                                # PrescriptionContext::iChooseToFilterByType()
    And I select the No preservative checkbox                                                                                           # PrescriptionContext::iSelectTheNoPreservativeCheckbox()
    Then I select a Common Drug "280"                                                                                                   # PrescriptionContext::iSelectACommonDrug()
    Then I enter a Dose of "3" drops                                                                                                    # PrescriptionContext::iEnterADoseOfDrops()
    And I enter a route of "1"                                                                                                          # PrescriptionContext::iEnterARouteOf()
    And I enter a frequency of "4"                                                                                                      # PrescriptionContext::iEnterAFrequencyOf()
    Then I enter a duration of "1"                                                                                                      # PrescriptionContext::iEnterADurationOf()
    Then I enter a eyes option "1"                                                                                                      # PrescriptionContext::iEnterAEyesOption()
    And I add Prescription comments of "TEST COMMENTS"                                                                                  # PrescriptionContext::iAddPrescriptionCommentsOf()
    Then I Save the Prescription Draft and confirm it has been created successfully                                                     # PrescriptionContext::iSaveThePrescriptionDraft()

  Scenario: Route 3: Login and create a new Prescription                                                                                # features/bootstrap/Features/Latest Release Regression Pack/Prescription.feature:92
            Site 2:Kings
            Firm 4:Anderson Medical Retinal
            Add two Tapers, Remove Taper
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "4"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select Create or View Episodes and Events                                                                                    # PatientViewContext::CreateOrViewEpisodesAndEvents()
    Then I expand the Medical Retinal sidebar                                                                                           # AddingNewEventContext::iExpandTheMedicalRetinalSidebar()
    And I add a New Event "Prescription"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select a Common Drug "176"                                                                                                   # PrescriptionContext::iSelectACommonDrug()
    Then I enter a Dose of "2" drops                                                                                                    # PrescriptionContext::iEnterADoseOfDrops()
    And I enter a route of "3"                                                                                                          # PrescriptionContext::iEnterARouteOf()
    And I enter a frequency of "5"                                                                                                      # PrescriptionContext::iEnterAFrequencyOf()
    Then I enter a duration of "3"                                                                                                      # PrescriptionContext::iEnterADurationOf()
    Then I add a Taper                                                                                                                  # PrescriptionContext::iAddATaper()
    And I enter a first Taper does of "4"                                                                                               # PrescriptionContext::iEnterAFirstTaperDoesOf()
    Then I enter a first Taper frequency of "2"                                                                                         # PrescriptionContext::iEnterAFirstTaperFrequencyOf()
    And I enter a first Taper duration of "6"                                                                                           # PrescriptionContext::iEnterAFirstTaperDurationOf()
    Then I add a Taper                                                                                                                  # PrescriptionContext::iAddATaper()
    And I enter a second Taper dose of "3"                                                                                              # PrescriptionContext::iEnterASecondTaperDoseOf()
    Then I enter a second Taper frequency of "7"                                                                                        # PrescriptionContext::iEnterASecondTaperFrequencyOf()
    And I enter a second Taper duration of "2"                                                                                          # PrescriptionContext::iEnterASecondTaperDurationOf()
    Then I add a Taper                                                                                                                  # PrescriptionContext::iAddATaper()
    Then I remove the last Taper                                                                                                        # PrescriptionContext::iRemoveTheLastTaper()
    And I add Prescription comments of "TEST COMMENTS"                                                                                  # PrescriptionContext::iAddPrescriptionCommentsOf()
    Then I Save the Prescription Draft and confirm it has been created successfully                                                     # PrescriptionContext::iSaveThePrescriptionDraft()

  Scenario: Route 4: Login and create a new Prescription                                                                                # features/bootstrap/Features/Latest Release Regression Pack/Prescription.feature:134
            Site 1:Queens
            Firm 2:Broom Glaucoma
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "2"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select Create or View Episodes and Events                                                                                    # PatientViewContext::CreateOrViewEpisodesAndEvents()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Prescription"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I choose to filter by type "28"                                                                                                # PrescriptionContext::iChooseToFilterByType()
    And I select the No preservative checkbox                                                                                           # PrescriptionContext::iSelectTheNoPreservativeCheckbox()
    Then I select a Common Drug "569"                                                                                                   # PrescriptionContext::iSelectACommonDrug()
    Then I enter a Dose of "2" drops                                                                                                    # PrescriptionContext::iEnterADoseOfDrops()
    And I enter a route of "17"                                                                                                         # PrescriptionContext::iEnterARouteOf()
    And I enter a frequency of "6"                                                                                                      # PrescriptionContext::iEnterAFrequencyOf()
    Then I enter a duration of "6"                                                                                                      # PrescriptionContext::iEnterADurationOf()
    And I add Prescription comments of "TEST COMMENTS"                                                                                  # PrescriptionContext::iAddPrescriptionCommentsOf()
    Then I Save the Prescription Draft and confirm it has been created successfully                                                     # PrescriptionContext::iSaveThePrescriptionDraft()

@rbac @regression
Feature: Open Eyes Login RBAC user levels

  Scenario: PREPARATION LASER EVENT: Login and create a Phasing Event                                                                   # features/bootstrap/Features/Latest Release Regression Pack/RBAC.feature:4
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465 "                                                                                        # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                  # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Phasing"                                                                                                     # AddingNewEventContext::iAddANewEvent()
    Then I choose a right eye Intraocular Pressure Instrument  of "1"                                                                   # PhasingContext::RightEyeIntraocular()
    And I choose right eye Dilation of Yes                                                                                              # PhasingContext::iChooseRightEyeDilationYes()
    Then I choose a right eye Intraocular Pressure Reading Time of "14:00"                                                              # PhasingContext::iChooseARightEyeIntraocularPressureReadingTimeOf()
    Then I choose a right eye Intraocular Pressure Reading of "5"                                                                       # PhasingContext::iChooseARightEyeIntraocularPressureReadingOf()
    And I add right eye comments of "Right eye comments here"                                                                           # PhasingContext::iAddRightEyeCommentsOf()
    Then I choose a left eye Intraocular Pressure Instrument  of "5"                                                                    # PhasingContext::iChooseALeftEyeIntraocularPressureInstrumentOf()
    And I choose left eye Dilation of Yes                                                                                               # PhasingContext::iChooseLeftEyeDilationYes()
    Then I choose a left eye Intraocular Pressure Reading Time of "14:42"                                                               # PhasingContext::iChooseALeftEyeIntraocularPressureReadingTimeOf()
    Then I choose a left eye Intraocular Pressure Reading of "7"                                                                        # PhasingContext::iChooseALeftEyeIntraocularPressureReadingOf()
    And I add left eye comments of "Left eye comments here"                                                                             # PhasingContext::iAddLeftEyeCommentsOf()
    Then I Save the Phasing Event and confirm it has been created successfully                                                          # PhasingContext::iSaveThePhasingEventAndConfirm()

  Scenario: Route 0: Level 0 RBAC access: User with no login rights                                                                     # features/bootstrap/Features/Latest Release Regression Pack/RBAC.feature:36
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "level0" and "password"                                                                               # LoginContext::iEnterLoginCredentials()
    And I confirm that an Invalid Login error message is displayed                                                                      # HomepageContext::iConfirmThatAnInvalidLoginErrorMessageIsDisplayed()

  Scenario: Route 1: Level 1 RBAC access: Login access and only able to view patient demographics                                       # features/bootstrap/Features/Latest Release Regression Pack/RBAC.feature:42
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "level1" and "password"                                                                               # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then a check is made to confirm that Patient details information is displayed                                                       # HomepageContext::aCheckIsMadeToConfirmThatPatientDetailsInformationIsDisplayed()
    Then a check is made to confirm the user has correct level one access                                                               # HomepageContext::aCheckIsMadeToConfirmTheUserHasCorrectLevelOneAccess()

  Scenario: Route 2: Level 2 RBAC access: Login access and view only, no printing                                                       # features/bootstrap/Features/Latest Release Regression Pack/RBAC.feature:53
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "level2" and "password"                                                                               # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then a check is made to confirm that Patient details information is displayed                                                       # HomepageContext::aCheckIsMadeToConfirmThatPatientDetailsInformationIsDisplayed()
    Then a check is made to confirm the user has correct level two access                                                               # HomepageContext::aCheckIsMadeToConfirmTheUserHasCorrectLevelTwoAccess()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then additional checks are made for correct level two access                                                                        # HomepageContext::additionalChecksAreMadForCorrectLevelTwoAccess()
    And a check to see printing has been disabled                                                                                       # HomepageContext::aCheckToSeePrintingHasBeenDisabled()

  Scenario: Route 3: Level 3 RBAC access: Login access,view only rights and Printing Events                                             # features/bootstrap/Features/Latest Release Regression Pack/RBAC.feature:72
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "level3" and "password"                                                                               # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then a check is made to confirm that Patient details information is displayed                                                       # HomepageContext::aCheckIsMadeToConfirmThatPatientDetailsInformationIsDisplayed()
    Then a check is made to confirm the user has correct level two access                                                               # HomepageContext::aCheckIsMadeToConfirmTheUserHasCorrectLevelTwoAccess()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then additional checks are made for correct level two access                                                                        # HomepageContext::additionalChecksAreMadForCorrectLevelTwoAccess()
    And a check to see printing has been enabled                                                                                        # HomepageContext::aCheckToSeePrintingHasBeenEnabled()

  Scenario: Route 4 (Prep): Login and create a new Prescription                                                                         # features/bootstrap/Features/Latest Release Regression Pack/RBAC.feature:90
    Site 1:Queens
    Firm 3:Anderson Glaucoma
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Prescription"                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select a Common Drug "75"                                                                                                    # PrescriptionContext::iSelectACommonDrug()
    And I select a Standard Set of "10"                                                                                                 # PrescriptionContext::iSelectAStandardSetOf()
    Then I enter a Dose of "2" drops                                                                                                    # PrescriptionContext::iEnterADoseOfDrops()
    And I enter a route of "1"                                                                                                          # PrescriptionContext::iEnterARouteOf()
    And I enter a frequency of "4"                                                                                                      # PrescriptionContext::iEnterAFrequencyOf()
    Then I enter a duration of "1"                                                                                                      # PrescriptionContext::iEnterADurationOf()
    Then I enter a eyes option "1"                                                                                                      # PrescriptionContext::iEnterAEyesOption()
    Then I enter a item two eyes option of "1"                                                                                          # PrescriptionContext::iEnterAItemTwoEyesOptionOf()
    Then I enter a item three eyes option of "1"                                                                                        # PrescriptionContext::iEnterAItemThreeEyesOptionOf()
    And I add Prescription comments of "TEST COMMENTS"                                                                                  # PrescriptionContext::iAddPrescriptionCommentsOf()
    Then I Save the Prescription Draft and confirm it has been created successfully                                                     # PrescriptionContext::iSaveThePrescriptionDraft()

  Scenario: Route 4: Level 4 RBAC access: Login access, edit rights, Prescription event blocked                                         # features/bootstrap/Features/Latest Release Regression Pack/RBAC.feature:123
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "level4" and "password"                                                                               # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then a check is made to confirm that Patient details information is displayed                                                       # HomepageContext::aCheckIsMadeToConfirmThatPatientDetailsInformationIsDisplayed()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    Then a check is made to confirm the user has correct level four access                                                              # HomepageContext::aCheckIsMadeToConfirmTheUserHasCorrectLevelFourAccess()

@SupportFirm
Feature: Create New Correspondence using Support Firm
  In order to cover every possible route throughout the site
  As an automation tester
  I want to build a template with supporting code for each web page

  Scenario: Login and create a new Correspondence using Support Firm                                                                    # features/bootstrap/Features/Latest Release Regression Pack/SupportFirmRegression.feature:7
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "5"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Support Firm sidebar                                                                                              # AddingNewEventContext::iExpandTheSupportFirmSidebar()
    And I add a New Event "Correspondence"                                                                                              # AddingNewEventContext::iAddANewEvent()
    Then I select Site ID "2"                                                                                                           # CorrespondenceContext::iSelectSiteId()
    And I select Address Target "Gp1"                                                                                                   # CorrespondenceContext::iSelectAddressTarget()
    Then I choose a Macro of "site1"                                                                                                    # CorrespondenceContext::iChooseAMacroOf()
    And I select Clinic Date "7"                                                                                                        # CorrespondenceContext::iSelectClinicDate()
    And I choose CC Target "patient"                                                                                                    # CorrespondenceContext::iChooseCcTarget()
    And I add a New Enclosure
    Then I Save the Correspondence Draft                                                                                                # CorrespondenceContext::iSaveTheCorrespondenceDraft()

  Scenario: Login with Support Firm and add Opthamlmic Diagnosis, Systemic Diagnosis, CVI, Medication and other Allergies               # features/bootstrap/Features/Latest Release Regression Pack/SupportFirmRegression.feature:42
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "5"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number " 1009465 "                                                                                       # HomepageContext::SearchForHospitalNumber()
    Then I Add an Ophthalmic Diagnosis selection of "193570009 "                                                                        # PatientViewContext::addOpthalmicDiagnosis()
    And I select that it affects eye "Both"                                                                                             # PatientViewContext::SelectThatItAffectsEye()
    And I select a Opthalmic Diagnosis date of day "18" month "6" year "2012"                                                           # PatientViewContext::OpthalmicDiagnosis()
    Then I save the new Opthalmic Diagnosis                                                                                             # PatientViewContext::SaveTheNewOpthalmicDiagnosis()
    Then I Add an Systemic Diagnosis selection of "195967001"                                                                           # PatientViewContext::SystemicDiagnosisSelection()
    And I select that it affects Systemic side "Both"                                                                                   # PatientViewContext::systemicSide()
    And I select a Systemic Diagnosis date of day "18" month "6" year "2012"                                                            # PatientViewContext::SystemicDiagnosisDate()
    Then I save the new Systemic Diagnosis                                                                                              # PatientViewContext::SaveTheNewSystemicDiagnosis()
    Then I Add a Previous Operation of "1"                                                                                              # PatientViewContext::iAddAPreviousOperationOf()
    And I select that it affects Operation side "Both"                                                                                  # PatientViewContext::SelectThatItAffectsOperationSide()
    And I select a Previous Operation date of day "18" month "6" year "2012"                                                            # PatientViewContext::PreviousOperationDate()
    Then I save the new Previous Operation                                                                                              # PatientViewContext::iSaveTheNewPreviousOperation()
    And I Add Medication details medication "3" route "2" frequency "8" date from "1" and Save                                          # PatientViewContext::iAddMedicationDetails()
    Then I edit the CVI Status "4"                                                                                                      # PatientViewContext::iEditTheCviStatus()
    And I select a CVI Status date of day "18" month "6" year "2012"                                                                    # PatientViewContext::iSelectACviStatusDateOfDayMonthYear()
    Then I save the new CVI status                                                                                                      # PatientViewContext::iSaveTheNewCviStatus()
    Then I Remove existing Allergy                                                                                                      # PatientViewContext::removeAllergy()
    Then I Add Allergy "5" and Save                                                                                                     # PatientViewContext::iAddAllergy()
    And I Add a Family History of relative "1" side "3" condition "1" and comments "Family History Comments" and Save                   # PatientViewContext::FamilyHistory()

@therapy @regression
Feature: Create New Therapy Application Event
         Regression coverage of this event is approx 40%

  Scenario: Route 1: Login and create a new Therapy Application (Queens Site, Glaucoma Firm)                                            # features/bootstrap/Features/Latest Release Regression Pack/TherapyApplication.feature:5
    Diagnosis: (Choroidal Retinal Neo) Secondary To: (Age related macular degeneration)
    Treatment: Avastin
    NICE NON-COMPLIANT
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "2"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Therapy"                                                                                                     # AddingNewEventContext::iAddANewEvent()
    Then I remove the Diagnosis right eye                                                                                               # TherapyApplicationContext::iRemoveRightEye()
    And I add the Diagnosis right eye                                                                                                   # TherapyApplicationContext::iAddRightEye()
    And I select a Right Side Diagnosis of "75971007"                                                                                   # TherapyApplicationContext::iSelectARightSideDiagnosisOf()
    Then I select a Right Secondary To of "267718000"                                                                                   # TherapyApplicationContext::iSelectARightSecondaryToOf()
    Then I select a Right Treatment of "1"                                                                                              # TherapyApplicationContext::iSelectARightTreatmentOf()
    Then I select a Left Treatment of "1"                                                                                               # TherapyApplicationContext::iSelectALeftTreatmentOf()
    Then I select Right Cerebrovascular accident Yes                                                                                    # TherapyApplicationContext::iSelectCerebrovascularAccidentYes()
    Then I select Right Ischaemic attack Yes                                                                                            # TherapyApplicationContext::iSelectIschaemicAttackYes()
    Then I select Right Myocardial infarction Yes                                                                                       # TherapyApplicationContext::iSelectMyocardialInfarctionYes()
    And I select "Anderson Firm" for "Consultant"                                                                                       # FeatureContext::selectOption()
    And I select "Yes" for "Patient consents to share data"                                                                             # FeatureContext::selectOption()
    Then I select a Right Standard Intervention Exists of Yes                                                                           # TherapyApplicationContext::iSelectAStandardInterventionExistsOfYes()
    And I choose a Right Standard Intervention of "1"                                                                                   # TherapyApplicationContext::iChooseAStandardInterventionOf()
    And I select a Right Standard Intervention Previous of Yes                                                                          # TherapyApplicationContext::iSelectAStandardInterventionPreviousOfYes()
    Then I select Right Instead of the standard (Deviation)                                                                             # TherapyApplicationContext::iSelectInsteadOfTheStandardDeviation()
    And I add Right details of deviation of "Deviation Details Comment box"                                                             # TherapyApplicationContext::iAddDetailsOfDeviationOf()
    Then I choose a Right reason for not using standard intervention of "1"                                                             # TherapyApplicationContext::iChooseAReasonForNotUsingStandardInterventionOf()
    Then I add Right How is the patient different to others of "How is the patient significantly different to others comments?"         # TherapyApplicationContext::iAddHowIsThePatientDifferentToOthersOf()
    And I add Right How is the patient likely to gain benefit "How is the patient likely to gain more benefit than otherwise comments?" # TherapyApplicationContext::iAddHowIsThePatientLikelyToGainBenefit()
    Then I select Right Patient Factors Yes                                                                                             # TherapyApplicationContext::iSelectPatientFactorsYes()
    Then I add Right Patient Factor Details of "Patient Factor Details comments"                                                        # TherapyApplicationContext::iAddPatientFactorDetailsOf()
    And I add Right Patient Expectations of "Patient Expectations comments"                                                             # TherapyApplicationContext::iAddPatientExpectationsOf()
    Then I add Right Anticipated Start Date of "5"                                                                                      # TherapyApplicationContext::iAddAnticipatedStartDateOf()
    And I select a Left Side Diagnosis of "75971007"                                                                                    # TherapyApplicationContext::iSelectALeftSideDiagnosisOf()
    Then I select a Left Secondary To of "267718000"                                                                                    # TherapyApplicationContext::iSelectALeftSecondaryToOf()
    Then I select a Left Treatment of "1"                                                                                               # TherapyApplicationContext::iSelectALeftTreatmentOf()
    Then I select a Left Standard Intervention Exists of Yes                                                                            # TherapyApplicationContext::iSelectALeftStandardInterventionExistsOfYes()
    And I choose a Left Standard Intervention of "1"                                                                                    # TherapyApplicationContext::iChooseALeftStandardInterventionOf()
    And I select a Left Standard Intervention Previous of Yes                                                                           # TherapyApplicationContext::iSelectALeftStandardInterventionPreviousOfYes()
    Then I select Left Instead of the standard (Deviation)                                                                              # TherapyApplicationContext::iSelectLeftInsteadOfTheStandardDeviation()
    And I add Left details of deviation of "Deviation Details Comment box"                                                              # TherapyApplicationContext::iAddLeftDetailsOfDeviationOf()
    Then I choose a Left reason for not using standard intervention of "1"                                                              # TherapyApplicationContext::iChooseALeftReasonForNotUsingStandardInterventionOf()
    Then I add Left How is the patient different to others of "How is the patient significantly different to others comments?"          # TherapyApplicationContext::iAddLeftHowIsThePatientDifferentToOthersOf()
    And I add Left How is the patient likely to gain benefit "How is the patient likely to gain more benefit than otherwise comments?"  # TherapyApplicationContext::iAddLeftHowIsThePatientLikelyToGainBenefit()
    Then I select Left Patient Factors Yes                                                                                              # TherapyApplicationContext::iSelectLeftPatientFactorsYes()
    Then I add Left Patient Factor Details of "Patient Factor Details comments"                                                         # TherapyApplicationContext::iAddLeftPatientFactorDetailsOf()
    And I add Left Patient Expectations of "Patient Expectations comments"                                                              # TherapyApplicationContext::iAddLeftPatientExpectationsOf()
    Then I add Left Anticipated Start Date of "5"                                                                                       # TherapyApplicationContext::iAddLeftAnticipatedStartDateOf()
    Then I Save the Therapy Application and confirm it has been created successfully                                                    # TherapyApplicationContext::iSaveTheTherapyApplication()

  Scenario: Route 2: Login and create a new Therapy Application (Queens Site, Glaucoma Firm)                                            # features/bootstrap/Features/Latest Release Regression Pack/TherapyApplication.feature:89
    Diagnosis: (Macular retinal oedema) Secondary To: (Venous retinal branch occlusion)
    Treatment: Lucentis
    Patinet Has CNV no, Macular Oedema Yes, diabetic Macular Oedema Yes, CRT>=400 Yes
    NICE COMPLIANT
    Given I am on the OpenEyes "master" homepage                                                                                        # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                   # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                               # HomepageContext::iSelectSite()
    Then I select a firm of "2"                                                                                                         # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                         # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                      # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                  # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Therapy"                                                                                                     # AddingNewEventContext::iAddANewEvent()
    And I select a Right Side Diagnosis of "37231002"                                                                                   # TherapyApplicationContext::iSelectARightSideDiagnosisOf()
    Then I select a Right Secondary To of "24596005"                                                                                    # TherapyApplicationContext::iSelectARightSecondaryToOf()
    Then I select a Right Treatment of "5"                                                                                              # TherapyApplicationContext::iSelectARightTreatmentOf()
    And I select a Right Patient has CNV of No                                                                                          # TherapyApplicationContext::iSelectARightPatientHasCnvOfNo()
    Then I select a Right Patient has Macular Oedema of Yes                                                                             # TherapyApplicationContext::iSelectARightPatientHasMacularOedemaOfYes()
    And I select a Right Patient has Diabetic Macular Oedema of Yes                                                                     # TherapyApplicationContext::iSelectARightPatientHasDiabeticMacularOedemaOfYes()
    Then I select a Right CRT>=400 of Yes                                                                                               # TherapyApplicationContext::iSelectARightCrtOfYes()
    And I select a Left Side Diagnosis of "37231002"                                                                                    # TherapyApplicationContext::iSelectALeftSideDiagnosisOf()
    Then I select a Left Secondary To of "24596005"                                                                                     # TherapyApplicationContext::iSelectALeftSecondaryToOf()
    Then I select a Left Treatment of "5"                                                                                               # TherapyApplicationContext::iSelectALeftTreatmentOf()
    And I select a Left Patient has CNV of No                                                                                           # TherapyApplicationContext::iSelectALeftPatientHasCnvOfNo()
    Then I select a Left Patient has Macular Oedema of Yes                                                                              # TherapyApplicationContext::iSelectALeftPatientHasMacularOedemaOfYes()
    And I select a Left Patient has Diabetic Macular Oedema of Yes                                                                      # TherapyApplicationContext::iSelectALeftPatientHasDiabeticMacularOedemaOfYes()
    Then I select a Left CRT>=400 of Yes                                                                                                # TherapyApplicationContext::iSelectALeftCrtOfYes()
    Then I select Right Cerebrovascular accident Yes                                                                                    # TherapyApplicationContext::iSelectCerebrovascularAccidentYes()
    Then I select Right Ischaemic attack Yes                                                                                            # TherapyApplicationContext::iSelectIschaemicAttackYes()
    Then I select Right Myocardial infarction Yes                                                                                       # TherapyApplicationContext::iSelectMyocardialInfarctionYes()
    And I select "Anderson Firm" for "Consultant"                                                                                       # FeatureContext::selectOption()
    And I select "Yes" for "Patient consents to share data"                                                                             # FeatureContext::selectOption()
    Then I Save the Therapy Application and confirm it has been created successfully                                                    # TherapyApplicationContext::iSaveTheTherapyApplication()

  Scenario: Route 3: Login and create a new Therapy Application (Queens Site, Glaucoma Firm)                                                       # features/bootstrap/Features/Latest Release Regression Pack/TherapyApplication.feature:144
    Right Diagnosis: (Central serous chorioretinopathy)
    Treatment: Eylea
    NON COMPLIANT
    
    Left Diagnosis: (Idiopathic polypoidal choroidal vasculopathy)
    Treatment: Eylea
    COMPLIANT
    Given I am on the OpenEyes "master" homepage                                                                                                   # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                              # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "2"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                                    # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                             # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Therapy"                                                                                                                # AddingNewEventContext::iAddANewEvent()
    And I select a Right Side Diagnosis of "312956001"                                                                                             # TherapyApplicationContext::iSelectARightSideDiagnosisOf()
    Then I select a Right Treatment of "2"                                                                                                         # TherapyApplicationContext::iSelectARightTreatmentOf()
    Then I select Right Cerebrovascular accident Yes                                                                                               # TherapyApplicationContext::iSelectCerebrovascularAccidentYes()
    Then I select Right Ischaemic attack Yes                                                                                                       # TherapyApplicationContext::iSelectIschaemicAttackYes()
    Then I select Right Myocardial infarction Yes                                                                                                  # TherapyApplicationContext::iSelectMyocardialInfarctionYes()
    And I select "Anderson Firm" for "Consultant"                                                                                                  # FeatureContext::selectOption()
    And I select "Yes" for "Patient consents to share data"                                                                                        # FeatureContext::selectOption()
    Then I select a Right Standard Intervention Exists of No                                                                                       # TherapyApplicationContext::iSelectAStandardInterventionExistsOfNo()
    And I select Is this ocular condition rare of Yes                                                                                              # TherapyApplicationContext::iSelectIsThisOcularConditionRareOfYes()
    Then I add Right incidence details of "Incidence comments test"                                                                                # TherapyApplicationContext::iAddRightIncidenceDetailsOf()
    And I add How is the patient significantly different comments "How is the patient significantly different to others with the same condition?:" # TherapyApplicationContext::iAddHowIsThePatientSignificantlyDifferentComments()
    Then I add How is the patient likely to gain comments "How is the patient likely to gain more benefit than otherwise?:"                        # TherapyApplicationContext::iAddHowIsThePatientLikelyToGainComments()
    Then I select Right Patient Factors Yes                                                                                                        # TherapyApplicationContext::iSelectPatientFactorsYes()
    Then I add Right Patient Factor Details of "Patient Factor Details comments"                                                                   # TherapyApplicationContext::iAddPatientFactorDetailsOf()
    And I add Right Patient Expectations of "Patient Expectations comments"                                                                        # TherapyApplicationContext::iAddPatientExpectationsOf()
    Then I add Right Anticipated Start Date of "5"                                                                                                 # TherapyApplicationContext::iAddAnticipatedStartDateOf()
    And I select a Left Side Diagnosis of "313001006"                                                                                              # TherapyApplicationContext::iSelectALeftSideDiagnosisOf()
    Then I select a Left Treatment of "5"                                                                                                          # TherapyApplicationContext::iSelectALeftTreatmentOf()
    And I select a Left Patient has CNV of No                                                                                                      # TherapyApplicationContext::iSelectALeftPatientHasCnvOfNo()
    Then I select a Left Patient has Macular Oedema of Yes                                                                                         # TherapyApplicationContext::iSelectALeftPatientHasMacularOedemaOfYes()
    And I select a Left Patient has Diabetic Macular Oedema of Yes                                                                                 # TherapyApplicationContext::iSelectALeftPatientHasDiabeticMacularOedemaOfYes()
    Then I select a Left CRT>=400 of Yes                                                                                                           # TherapyApplicationContext::iSelectALeftCrtOfYes()
    Then I Save the Therapy Application and confirm it has been created successfully                                                               # TherapyApplicationContext::iSaveTheTherapyApplication()

  Scenario: Route 4: Login and create a new Therapy Application (Queens Site, Anderson Medical Retinal)                                            # features/bootstrap/Features/Latest Release Regression Pack/TherapyApplication.feature:209
    Right Diagnosis: (Scleritis)
    Treatment: Lucentis
    NON COMPLIANT
    
    Left Diagnosis: (Capillary haemangioma of retina)
    Treatment: Ozurdex
    COMPLIANT
    Given I am on the OpenEyes "master" homepage                                                                                                   # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                              # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "4"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                                    # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Medical Retinal sidebar                                                                                                      # AddingNewEventContext::iExpandTheMedicalRetinalSidebar()
    And I add a New Event "Therapy"                                                                                                                # AddingNewEventContext::iAddANewEvent()
    And I select a Right Side Diagnosis of "78370002"                                                                                              # TherapyApplicationContext::iSelectARightSideDiagnosisOf()
    Then I select a Right Treatment of "5"                                                                                                         # TherapyApplicationContext::iSelectARightTreatmentOf()
    And I select a Right Patient has CNV of No                                                                                                     # TherapyApplicationContext::iSelectARightPatientHasCnvOfNo()
    Then I select a Right Patient has Macular Oedema of Yes                                                                                        # TherapyApplicationContext::iSelectARightPatientHasMacularOedemaOfYes()
    And I select a Right Patient has Diabetic Macular Oedema of Yes                                                                                # TherapyApplicationContext::iSelectARightPatientHasDiabeticMacularOedemaOfYes()
    Then I select a Right CRT>=400 of Yes                                                                                                          # TherapyApplicationContext::iSelectARightCrtOfYes()
    And I select a Left Side Diagnosis of "312935003"                                                                                              # TherapyApplicationContext::iSelectALeftSideDiagnosisOf()
    Then I select a Left Treatment of "6"                                                                                                          # TherapyApplicationContext::iSelectALeftTreatmentOf()
    And I select a Left Patient has a Venous Occlusion of Yes                                                                                      # TherapyApplicationContext::iSelectALeftPatientHasAVenousOcclusionOfYes()
    And I select a Left Patient has a CRVO of Yes                                                                                                  # TherapyApplicationContext::iSelectALeftPatientHasACrvoOfYes()
    And I select "Yes" for "Patient consents to share data"                                                                                        # FeatureContext::selectOption()
    Then I Save the Therapy Application and confirm it has been created successfully                                                               # TherapyApplicationContext::iSaveTheTherapyApplication()

Feature: Create New Anaesthetic Satisfaction Audit
  In order to cover every possible route throughout the site
  As an automation tester
  I want to build a template with supporting code for each web page

  Scenario Outline: Login and create a Anaesthetic Satisfaction Audit                                                                              # features/bootstrap/Features/Templates/AnaestheticAudit.feature:7
    Given I am on the OpenEyes "<environment>" homepage                                                                                            # FeatureContext::iAmOnTheOpeneyesHomepage()
    And I enter login credentials "<username>" and "<password>"                                                                                    # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "<hospnumber>"                                                                                               # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                             # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "<EventType>"                                                                                                            # AddingNewEventContext::iAddANewEvent()
    Then I select an Anaesthetist "<Anaesthetist>"                                                                                                 # AnaestheticAuditContext::iSelectAnAnaesthetist()
    And I select Satisfaction levels of Pain "<pain>" Nausea "<nausea>"                                                                            # AnaestheticAuditContext::iSelectSatisfactionLevelsOfPainNausea()
    And I tick the Vomited checkbox                                                                                                                # AnaestheticAuditContext::iTickTheVomitedCheckbox()
    And I untick the Vomited checkbox                                                                                                              # AnaestheticAuditContext::iUntickTheVomitedCheckbox()
    Then I select Vital Signs of Respiratory Rate "<resprate>" Oxygen Saturation "<oxysat>" Systolic Blood Pressure "<sysblood>"                   # AnaestheticAuditContext::iSelectVitalSigns()
    And I select Vital Signs of Body Temperature "<temp>" and Heart Rate "<heart>" Conscious Level AVPU "<AVPU>"                                   # AnaestheticAuditContext::iSelectVitalSignsTemp()
    Then I enter Comments "Here are some test comments"                                                                                            # AnaestheticAuditContext::iEnterComments()
    And I select the Yes option for Ready to Discharge                                                                                             # AnaestheticAuditContext::iSelectTheYesOptionForReadyToDischarge()
    And I select the No option for Ready to Discharge                                                                                              # AnaestheticAuditContext::iSelectTheNoOptionForReadToDischarge()
    Then I Save the Event                                                                                                                          # AnaestheticAuditContext::iSaveTheEvent()

    Examples:
      | environment | site | username | password | hospnumber | nhs        | last           | first  | EventType    | Anaesthetist | pain | nausea | resprate | oxysat | sysblood | temp | heart | AVPU |
      | master      | 1    | admin    | admin    | 1009465    | 8821388753 | Coffin, Violet | Violet | Satisfaction | no           | 2    | 3      | 3        | 3      | 4        | 5    | 2     | 2    |
        [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login

Feature: Create New Consent Form
  In order to cover every possible route throughout the site
  As an automation tester
  I want to build a template with supporting code for each web page

  Scenario Outline: Login and create a new Consent Form                                                                                            # features/bootstrap/Features/Templates/ConsentForm.feature:7
    Given I am on the OpenEyes "<environment>" homepage                                                                                            # FeatureContext::iAmOnTheOpeneyesHomepage()
    And I enter login credentials "<username>" and "<password>"                                                                                    # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "<hospnumber>"                                                                                               # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                             # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Consent"                                                                                                                # AddingNewEventContext::iAddANewEvent()
    Then I select Unbooked Procedures                                                                                                              # ConsentFormContext::iSelectUnbookedProcedures()
    Then I select Add Consent Form                                                                                                                 # ConsentFormContext::iSelectAddConsentForm()
    And I choose Type "1"                                                                                                                          # ConsentFormContext::iChooseType()
    Then I choose Procedure eye of "Both"                                                                                                          # ConsentFormContext::iChooseProcedureEyeOf()
    And I choose an Anaesthetic type of LA                                                                                                         # ConsentFormContext::iChooseAnAnaestheticTypeOf()
    And I add a common procedure of "127"                                                                                                          # ConsentFormContext::iAddACommonProcedureOf()
    Then I choose Permissions for images No                                                                                                        # ConsentFormContext::iChoosePermissionsForImages()
    And I select the Information leaflet checkbox                                                                                                  # ConsentFormContext::iSelectTheInformationLeafletCheckbox()
    Then I save the Consent Form                                                                                                                   # ConsentFormContext::iSaveTheConsentForm()

    Examples:
      | environment | site | username | password | hospnumber | nhs        | last    | first  | EventType   |
      | master      | 1    | admin    | admin    | 1009465    | 8821388753 | Coffin, | Violet | Examination |
        [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login

Feature: Create New Correspondence
  In order to cover every possible route throughout the site
  As an automation tester
  I want to build a template with supporting code for each web page

  Scenario Outline: Login and fill in a Correspondence                                                                                             # features/bootstrap/Features/Templates/Correspondence.feature:7
    Given I am on the OpenEyes "<environment>" homepage                                                                                            # FeatureContext::iAmOnTheOpeneyesHomepage()
    And I enter login credentials "<username>" and "<password>"                                                                                    # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "<hospnumber>"                                                                                               # HomepageContext::SearchForHospitalNumber()
    Then I select Create or View Episodes and Events                                                                                               # PatientViewContext::CreateOrViewEpisodesAndEvents()
    Then I expand the Glaucoma sidebar                                                                                                             # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "<EventType>"                                                                                                            # AddingNewEventContext::iAddANewEvent()
    Then I select Site ID "4"                                                                                                                      # CorrespondenceContext::iSelectSiteId()
    And I select Address Target "gp"                                                                                                               # CorrespondenceContext::iSelectAddressTarget()
    Then I choose a Macro of "site42"                                                                                                              # CorrespondenceContext::iChooseAMacroOf()
    And I select Clinic Date "7"                                                                                                                   # CorrespondenceContext::iSelectClinicDate()
    And I choose CC Target "patient"                                                                                                               # CorrespondenceContext::iChooseCcTarget()
    And I add a New Enclosure
    Then I Save the Correspondence Draft                                                                                                           # CorrespondenceContext::iSaveTheCorrespondenceDraft()

    Examples:
      | environment | username | password | hospnumber | nhs        | last    | first  | EventType      |
      | master      | admin    | admin    | 1009465    | 8821388753 | Coffin, | Violet | Correspondence |
        [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login

Feature: Create New Operation Booking Event
  In order to cover every possible route throughout the site
  As an automation tester
  I want to build a template with supporting code for each web page

  Scenario Outline: EROD Test Script                                                                                                               # features/bootstrap/Features/Templates/EROD.feature:7
    Given I am on the OpenEyes "<environment>" homepage                                                                                            # FeatureContext::iAmOnTheOpeneyesHomepage()
    And I enter login credentials "<username>" and "<password>"                                                                                    # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "<hospnumber>"                                                                                               # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                             # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "<EventType>"                                                                                                            # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Left"                                                                                                         # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "30041005"                                                                                                         # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Left"                                                                                                         # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "41"                                                                                                               # OperationBookingContext::iSelectAProcedureOf()
    Then I select No to Consultant required                                                                                                        # OperationBookingContext::iSelectNoToConsultantRequired()
    And I select a Anaesthetic type "<AnaType>"                                                                                                    # OperationBookingContext::iSelectAAnaestheticType()
    Then I select No to a Post Operative Stay                                                                                                      # OperationBookingContext::iSelectNoToAPostOperativeStay()
    And I select a Operation Site of "1"                                                                                                           # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Routine                                                                                                            # OperationBookingContext::iSelectAPriorityOfRoutine()
    And I select a decision date of "14"                                                                                                           # OperationBookingContext::iSelectADecisionDateOf()
    Then I select Save and Schedule now                                                                                                            # OperationBookingContext::iSelectSaveAndScheduleNow()
    Then I select an Available theatre slot date three weeks in the future                                                                         # OperationBookingContext::iSelectAnAvailableTheatreSlotDateWeeksInTheFuture()
    And I select an Available session time with No Anaesthetist

    Examples:
      | environment | site | username | password | hospnumber | nhs        | last    | first  | EventType | DiagEyes | Diagnosis | OpEyes | Procedure | AnaType |
      | master      | 1    | admin    | admin    | 1009465    | 8821388753 | Coffin, | Violet | OpBooking | Both     | 95717004  | Both   | 41        | Topical |
        [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login

Feature: Create New Examination
  In order to cover every possible route throughout the site
  As an automation tester
  I want to build a template with supporting code for each web page

  Scenario: Login and create a new Examination Event Route 4: Site:1 Queens, Firm:1 Anderson Cataract                                              # features/bootstrap/Features/Templates/Examination.feature:7
    Given I am on the OpenEyes "master" homepage                                                                                                   # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                              # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for patient name last name "Coffin," and first name "Violet"                                                                     # HomepageContext::SearchPatientName()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                             # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Examination"                                                                                                            # AddingNewEventContext::iAddANewEvent()
    Then I select a History of Blurred Vision, Mild Severity, Onset 1 Week, Left Eye, 1 Week                                                       # ExaminationContext::iSelectAHistoryOfBlurredVision()
    And I choose to expand the Comorbidities section                                                                                               # ExaminationContext::iChooseToExpandTheComorbiditiesSection()
    Then I Add a Comorbiditiy of "8"                                                                                                               # ExaminationContext::iAddAComorbiditiyOf()
    And I select a Visual Acuity of "1"                                                                                                            # ExaminationContext::iSelectAVisualAcuityOf()
    Then I choose a left Visual Acuity ETDRS Letters Snellen Metre "145" and a reading method of "2"                                               # ExaminationContext::iChooseALeftVisualAcuityEtdrsLettersSnellenMetreAndAReadingMethodOf()
    Then I choose a right Visual Acuity ETDRS Letters Snellen Metre "145" and a reading method of "2"                                              # ExaminationContext::iChooseARightVisualAcuityEtdrsLettersSnellenMetreAndAReadingMethodOf()
    Then I choose to expand the Intraocular Pressure section                                                                                       # ExaminationContext::iChooseToExpandTheIntraocularPressureSection()
    Then I choose a left Intraocular Pressure of "8" and Instrument "4"                                                                            # ExaminationContext::iChooseALeftIntraocularPressureOfAndInstrument()
    Then I choose a right Intraocular Pressure of "77" and Instrument "1"                                                                          # ExaminationContext::iChooseARightIntraocularPressureOfAndInstrument()
    Then I choose to expand the Dilation section                                                                                                   # ExaminationContext::iChooseToExpandTheDilationSection()
    Then I choose left Dilation of "5" and drops of "4"                                                                                            # ExaminationContext::iChooseLeftDilationOfAndDropsOf()
    Then I choose right Dilation of "2" and drops of "2"                                                                                           # ExaminationContext::iChooseRightDilationOfAndDropsOf()
    Then I choose to expand the Refraction section                                                                                                 # ExaminationContext::iChooseToExpandTheRefractionSection()
    Then I enter left Refraction details of Sphere "-1" integer "11" fraction "0.50"                                                               # ExaminationContext::LeftRefractionDetails()
    And I enter left cylinder details of of Cylinder "1" integer "4" fraction "0.25"                                                               # ExaminationContext::iEnterLeftCylinderDetails()
    Then I enter left Axis degrees of "56"                                                                                                         # ExaminationContext::iEnterLeftAxisDegreesOf()
    And I enter a left type of "2"                                                                                                                 # ExaminationContext::iEnterALeftTypeOf()
    Then I enter right Refraction details of Sphere "-1" integer "9" fraction "0.75"                                                               # ExaminationContext::iEnterRightRefractionDetailsOfSphereIntegerFraction()
    And I enter right cylinder details of of Cylinder "1" integer "5" fraction "0"                                                                 # ExaminationContext::iEnterRightCylinderDetailsOfOfCylinderIntegerFraction()
    Then I enter right Axis degrees of "167"                                                                                                       # ExaminationContext::iEnterRightAxisDegreesOf()
    And I enter a right type of "3"                                                                                                                # ExaminationContext::iEnterARightTypeOf()
    Then I choose to expand the Adnexal Comorbidity section                                                                                        # ExaminationContext::iChooseToExpandTheAdnexalComorbiditySection()
    And I add a left Adnexal Comorbidity of "crusting of lashes, "                                                                                 # ExaminationContext::iAddALeftAdnexalComorbidityOf()
    And I add a right Adnexal Comorbidity of "conjunctivitis, "                                                                                    # ExaminationContext::iAddARightAdnexalComorbidityOf()
    Then I choose to expand the Pupillary Abnormalities section                                                                                    # ExaminationContext::iChooseToExpandThePupillaryAbnormalitiesSection()
    And I add a left Abnormality of "2"                                                                                                            # ExaminationContext::iAddALeftAbnormalityOf()
    And I add a right Abnormality of "4"                                                                                                           # ExaminationContext::iAddARightAbnormalityOf()
    Then I choose to expand the Diagnoses section                                                                                                  # ExaminationContext::iChooseToExpandTheDiagnosesSection()
    And I choose a left eye diagnosis                                                                                                              # ExaminationContext::iChooseALeftEyeDiagnosis()
    Then I choose a diagnoses of "230670003"
    And I choose a right eye diagnosis                                                                                                             # ExaminationContext::iChooseARightEyeDiagnosis()
    Then I choose a diagnoses of "53889007"
    And I choose both eyes diagnosis                                                                                                               # ExaminationContext::iChooseBothEyesDiagnosis()
    Then I choose a diagnoses of "193570009"
    Then I choose to expand the Investigation section                                                                                              # ExaminationContext::iChooseToExpandTheInvestigationSection()
    And I add an Investigation of "refraction, "                                                                                                   # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "Fluorescein angiography, "                                                                                      # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "OCT, "                                                                                                          # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "ultrasound, "                                                                                                   # ExaminationContext::iAddAnInvestigationOf()
    And I add an Investigation of "field test, "                                                                                                   # ExaminationContext::iAddAnInvestigationOf()
    Then I choose to expand the Clinical Management section                                                                                        # ExaminationContext::iChooseToExpandTheClinicalManagementSection()
    And I choose to expand Cataract Management
    And I add Cataract Management Comments of "new glasses prescribed, "                                                                           # ExaminationContext::iAddCataractManagementCommentsOf()
    Then I select First Eye                                                                                                                        # ExaminationContext::iSelectFirstEye()
    Then I select Second Eye                                                                                                                       # ExaminationContext::iSelectSecondEye()
    Then I select First Eye                                                                                                                        # ExaminationContext::iSelectFirstEye()
    And I choose City Road                                                                                                                         # ExaminationContext::iChooseCityRoad()
    And I choose At Satellite                                                                                                                      # ExaminationContext::iChooseAtSatellite()
    And I choose Straightforward case                                                                                                              # ExaminationContext::iChooseStraightforwardCase()
    And the post operative target has been discussed with patient Yes                                                                              # ExaminationContext::thePostOperativeTargetHasBeenDiscussedWithPatientYes()
    And the post operative target has been discussed with patient No                                                                               # ExaminationContext::thePostOperativeTargetHasBeenDiscussedWithPatientNo()
    Then I select a suitable for surgeon of "3"                                                                                                    # ExaminationContext::iSelectASuitableForSurgeonOf()
    And I tick the Supervised checkbox                                                                                                             # ExaminationContext::iTickTheSupervisedCheckbox()
    Then I select Previous Refractive Surgery Yes                                                                                                  # ExaminationContext::iSelectPreviousRefractiveSurgeryYes()
    Then I select Previous Refractive Surgery No                                                                                                   # ExaminationContext::iSelectPreviousRefractiveSurgeryNo()
    And I select Vitrectomised Eye Yes                                                                                                             # ExaminationContext::iSelectVitrectomisedEyeYes()
    And I select Vitrectomised Eye No                                                                                                              # ExaminationContext::iSelectVitrectomisedEyeNo()
    Then I choose to expand the Laser Management section                                                                                           # ExaminationContext::iChooseToExpandTheLaserManagementSection()
    And I choose a laser of "3"
    And I choose a left laser type of "1"                                                                                                          # ExaminationContext::iChooseALeftLaserTypeOf()
    And I choose a right laser type of "2"                                                                                                         # ExaminationContext::iChooseARightLaserTypeOf()
    Then I choose to expand the Injection Management section                                                                                       # ExaminationContext::iChooseToExpandTheInjectionManagementSection()
    And I select a Right Diagnosis of Macular retinal oedema                                                                                       # ExaminationContext::iSelectARightDiagnosisOfMacularRetinalOedema()
    Then I select Right Secondary of Venous retinal branch occlusion                                                                               # ExaminationContext::iSelectRightSecondaryOfVenousRetinalBranchOcclusion()
    And I select a Left Diagnosis of Macular retinal oedema                                                                                        # ExaminationContext::iSelectALeftDiagnosisOfMacularRetinalOedema()
    Then I select Left Secondary of Diabetic macular oedema                                                                                        # ExaminationContext::iSelectLeftSecondaryOfDiabeticMacularOedema()
    And I select a Right Diagnosis of Macular retinal oedema                                                                                       # ExaminationContext::iSelectARightDiagnosisOfMacularRetinalOedema()
    Then I select Right Secondary of Venous retinal branch occlusion                                                                               # ExaminationContext::iSelectRightSecondaryOfVenousRetinalBranchOcclusion()
    Then I choose a Right Failed Laser of Yes                                                                                                      # ExaminationContext::iChooseARightFailedLaserOfYes()
    Then I choose a Right Failed Laser of No                                                                                                       # ExaminationContext::iChooseARightFailedLaserOfNo()
    Then I choose a Right Unsuitable Laser of Yes                                                                                                  # ExaminationContext::iChooseARightUnsuitableLaserOfYes()
    Then I choose a Right Unsuitable Laser of No                                                                                                   # ExaminationContext::iChooseARightUnsuitableLaserOfNo()
    Then I choose a Right Previous Ozurdex Yes                                                                                                     # ExaminationContext::iChooseARightPreviousOzurdexYes()
    Then I choose a Right Previous Ozurdex No                                                                                                      # ExaminationContext::iChooseARightPreviousOzurdexNo()
    And I select a Left Diagnosis of Macular retinal oedema                                                                                        # ExaminationContext::iSelectALeftDiagnosisOfMacularRetinalOedema()
    Then I select Left Secondary of Diabetic macular oedema                                                                                        # ExaminationContext::iSelectLeftSecondaryOfDiabeticMacularOedema()
    Then I choose a Left CRT above Four Hundred of Yes                                                                                             # ExaminationContext::iChooseALeftCrtAboveFourHundredOfYes()
    Then I choose a Left CRT above Four Hundred of No                                                                                              # ExaminationContext::iChooseALeftCrtAboveFourHundredOfNo()
    Then I choose a Left Foveal Structure Damage Yes                                                                                               # ExaminationContext::iChooseALeftFovealStructureDamageYes()
    Then I choose a Left Foveal Structure Damage No                                                                                                # ExaminationContext::iChooseALeftFovealStructureDamageNo()
    Then I choose a Left Failed Laser of Yes                                                                                                       # ExaminationContext::iChooseALeftFailedLaserOfYes()
    Then I choose a Left Failed Laser of No                                                                                                        # ExaminationContext::iChooseALeftFailedLaserOfNo()
    Then I choose a Left Unsuitable Laser of Yes                                                                                                   # ExaminationContext::iChooseALeftUnsuitableLaserOfYes()
    Then I choose a Left Unsuitable Laser of No                                                                                                    # ExaminationContext::iChooseALeftUnsuitableLaserOfNo()
    Then I choose a Left Previous Anti VEGF of Yes                                                                                                 # ExaminationContext::iChooseALeftPreviousAntiVegfOfYes()
    Then I choose a Left Previous Anti VEGF of No                                                                                                  # ExaminationContext::iChooseALeftPreviousAntiVegfOfNo()
    Then I choose to expand the Risks section                                                                                                      # ExaminationContext::iChooseToExpandTheRisksSection()
    And I add comments to the Risk section of "Risk section comments Automation Test"                                                              # ExaminationContext::iAddCommentsToTheRiskSectionOf()
    Then I choose to expand the Clinic Outcome section                                                                                             # ExaminationContext::iChooseToExpandTheClinicOutcomeSection()
    And I choose a Clinical Outcome Status of Discharge                                                                                            # ExaminationContext::iChooseAClinicalOutcomeStatusOfDischarge()
    And I choose a Clinical Outcome Status of Follow Up                                                                                            # ExaminationContext::iChooseAClinicalOutcomeStatusOfFollowUp()
    Then I choose a Follow Up quantity of "2"                                                                                                      # ExaminationContext::iChooseAFollowUpQuantityOf()
    And I choose a Follow Up period of "1"                                                                                                         # ExaminationContext::iChooseAFollowUpPeriodOf()
    And I tick the Patient Suitable for Community Patient Tariff                                                                                   # ExaminationContext::iTickThePatientSuitableForCommunityPatientTariff()
    Then I choose a Role of "1"                                                                                                                    # ExaminationContext::iChooseARoleOf()
    Then I choose to expand the Conclusion section                                                                                                 # ExaminationContext::iChooseToExpandTheConclusionSection()
    And I choose a Conclusion option of "booked for first eye, "                                                                                   # ExaminationContext::iChooseAConclusionOptionOf()
    Then I Save the Examination                                                                                                                    # ExaminationContext::iSaveTheExamination()

  Scenario: Route 2: Login and create a new Examination Event                                                                                      # features/bootstrap/Features/Templates/Examination.feature:180
    Site 1:Queens
    Firm 3:Anderson Glaucoma
    DR Grading tests
    Given I am on the OpenEyes "master" homepage                                                                                                   # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                              # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                                    # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                             # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Examination"                                                                                                            # AddingNewEventContext::iAddANewEvent()
    Then I select a History of Blurred Vision, Mild Severity, Onset 1 Week, Left Eye, 1 Week                                                       # ExaminationContext::iSelectAHistoryOfBlurredVision()
    Then I choose to expand the DR Grading section                                                                                                 # ExaminationContext::iChooseToExpandTheDRGradingSection()
    Then I select a Diabetes type of Mellitus Type one                                                                                             # ExaminationContext::iSelectADiabetesTypeOfMellitusTypeone()
    Then I select a Diabetes type of Mellitus Type two                                                                                             # ExaminationContext::iSelectADiabetesTypeOfMellitusTypetwo()
    And I select a left Clinical Grading for Retinopathy of "2"                                                                                    # ExaminationContext::iSelectALeftClinicalGradingForRetinopathyOf()
    And I select a left NSC Retinopathy of "2"                                                                                                     # ExaminationContext::iSelectALeftNscRetinopathyOf()
    And I select a left Retinopathy photocoagulation of Yes                                                                                        # ExaminationContext::iSelectALeftRetinopathyPhotocoagulationOfYes()
    And I select a left Retinopathy photocoagulation of No                                                                                         # ExaminationContext::iSelectALeftRetinopathyPhotocoagulationOfNo()
    And I select a left Clinical Grading for maculopathy of "2"                                                                                    # ExaminationContext::iSelectALeftClinicalGradingForMaculopathyOf()
    And I select a left NSC maculopathy of "3"                                                                                                     # ExaminationContext::iSelectALeftNscMaculopathyOf()
    And I select a left Maculopathy photocoagulation of Yes                                                                                        # ExaminationContext::iSelectALeftMaculopathyPhotocoagulationOfYes()
    And I select a left Maculopathy photocoagulation of No                                                                                         # ExaminationContext::iSelectALeftMaculopathyPhotocoagulationOfNo()
    And I select a right Clinical Grading for Retinopathy of "2"                                                                                   # ExaminationContext::iSelectARightClinicalGradingForRetinopathyOf()
    And I select a right NSC Retinopathy of "2"                                                                                                    # ExaminationContext::iSelectARightNscRetinopathyOf()
    And I select a right Retinopathy photocoagulation of Yes                                                                                       # ExaminationContext::iSelectARightRetinopathyPhotocoagulationOfYes()
    And I select a right Retinopathy photocoagulation of No                                                                                        # ExaminationContext::iSelectARightRetinopathyPhotocoagulationOfNo()
    And I select a right Clinical Grading for maculopathy of "2"                                                                                   # ExaminationContext::iSelectARightClinicalGradingForMaculopathyOf()
    And I select a right NSC maculopathy of "4"                                                                                                    # ExaminationContext::iSelectARightNscMaculopathyOf()
    And I select a right Maculopathy photocoagulation of Yes                                                                                       # ExaminationContext::iSelectARightMaculopathyPhotocoagulationOfYes()
    And I select a right Maculopathy photocoagulation of No                                                                                        # ExaminationContext::iSelectARightMaculopathyPhotocoagulationOfNo()
    Then I Save the Examination and confirm it has been created successfully                                                                       # ExaminationContext::iSaveTheExaminationAndConfirm()

Feature: Create New Intravitreal Event
  In order to cover every possible route throughout the site
  As an automation tester
  I want to build a template with supporting code for each web page

  Scenario Outline: Login and create a Anaesthetic Satisfaction Audit                                                                              # features/bootstrap/Features/Templates/Intravitreal.feature:7
    Given I am on the OpenEyes "<environment>" homepage                                                                                            # FeatureContext::iAmOnTheOpeneyesHomepage()
    And I enter login credentials "<username>" and "<password>"                                                                                    # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "<hospnumber>"                                                                                               # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                             # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "<EventType>"                                                                                                            # AddingNewEventContext::iAddANewEvent()
    Then I select Add Right Side                                                                                                                   # IntravitrealContext::iSelectAddRightSide()
    Then I choose Right Anaesthetic Type of Topical                                                                                                # IntravitrealContext::RightAnaestheticTopical()
    Then I choose Right Anaesthetic Type of LA                                                                                                     # IntravitrealContext::RightAnaestheticLa()
    Then I choose Right Anaesthetic Delivery of Retrobulbar                                                                                        # IntravitrealContext::RightAnaestheticRetrobulbar()
    Then I choose Right Anaesthetic Delivery of Peribulbar                                                                                         # IntravitrealContext::RightAnaestheticPeribulbar()
    Then I choose Right Anaesthetic Delivery of Subtenons                                                                                          # IntravitrealContext::RightAnaestheticSubtenons()
    Then I choose Right Anaesthetic Delivery of Subconjunctival                                                                                    # IntravitrealContext::RightAnaestheticSubconjunctival()
    Then I choose Right Anaesthetic Delivery of Topical                                                                                            # IntravitrealContext::RightAnaestheticDeliveryTopical()
    Then I choose Right Anaesthetic Delivery of TopicalandIntracameral                                                                             # IntravitrealContext::RightAnaestheticDeliveryTopicalandIntracameral()
    Then I choose Right Anaesthetic Delivery of Other                                                                                              # IntravitrealContext::RightAnaestheticDeliveryOfOther()
    And I choose Right Anaesthetic Agent "5"                                                                                                       # IntravitrealContext::RightAnaestheticAgent()
    Then I choose Left Anaesthetic Type of Topical                                                                                                 # IntravitrealContext::LeftAnaestheticTypeOfTopical()
    Then I choose Left Anaesthetic Type of LA                                                                                                      # IntravitrealContext::LeftAnaestheticTypeOfLa()
    Then I choose Left Anaesthetic Delivery of Retrobulbar                                                                                         # IntravitrealContext::LeftAnaestheticDeliveryOfRetrobulbar()
    Then I choose Left Anaesthetic Delivery of Peribulbar                                                                                          # IntravitrealContext::LeftAnaestheticDeliveryOfPeribulbar()
    Then I choose Left Anaesthetic Delivery of Subtenons                                                                                           # IntravitrealContext::LeftAnaestheticDeliveryOfSubtenons()
    Then I choose Left Anaesthetic Delivery of Subconjunctival                                                                                     # IntravitrealContext::LeftAnaestheticDeliveryOfSubconjunctival()
    Then I choose Left Anaesthetic Delivery of Topical                                                                                             # IntravitrealContext::LeftAnaestheticDeliveryOfTopical()
    Then I choose Left Anaesthetic Delivery of TopicalandIntracameral                                                                              # IntravitrealContext::LeftAnaestheticDeliveryOfTopicalandintracameral()
    Then I choose Left Anaesthetic Delivery of Other                                                                                               # IntravitrealContext::LeftAnaestheticDeliveryOfOther()
    And I choose Left Anaesthetic Agent "1"                                                                                                        # IntravitrealContext::LeftAnaestheticAgent()
    Then I choose Right Pre Injection Antiseptic "1"                                                                                               # IntravitrealContext::RightPreInjectionAntiseptic()
    Then I choose Right Pre Injection Skin Cleanser "2"                                                                                            # IntravitrealContext::RightPreInjectionSkinCleanser()
    And I tick the Right Pre Injection IOP Lowering Drops checkbox                                                                                 # IntravitrealContext::TickRightPreInjectionIopLoweringDropsCheckbox()
    Then I choose Right Pre Injection IOP Lowering Drops "1"                                                                                       # IntravitrealContext::iChooseRightPreInjectionIopLoweringDrops()
    Then I choose Right Drug "7"                                                                                                                   # IntravitrealContext::iChooseRightDrug()
    And I enter "2" number of Right injections                                                                                                     # IntravitrealContext::NumberOfRightInjections()
    Then I enter Right batch number "123"                                                                                                          # IntravitrealContext::RightBatchNumber()
    Then I choose Right Injection Given By "1"                                                                                                     # IntravitrealContext::RightInjectionGivenBy()
    And I enter a Right Injection time of "09:30"                                                                                                  # IntravitrealContext::RightInjectionTimeOf()
    Then I choose Left Pre Injection Antiseptic "1"                                                                                                # IntravitrealContext::LeftPreInjectionAntiseptic()
    Then I choose Left Pre Injection Skin Cleanser "2"                                                                                             # IntravitrealContext::LeftPreInjectionSkinCleanser()
    And I tick the Left Pre Injection IOP Lowering Drops checkbox                                                                                  # IntravitrealContext::LeftPreInjectionIopLoweringDropsCheckbox()
    Then I choose Left Pre Injection IOP Lowering Drops "1"                                                                                        # IntravitrealContext::iChooseLeftPreInjectionIopLoweringDrops()
    Then I choose Left Drug "7"                                                                                                                    # IntravitrealContext::iChooseLeftDrug()
    And I enter "2" number of Left injections                                                                                                      # IntravitrealContext::NumberOfLeftInjections()
    Then I enter Left batch number "123"                                                                                                           # IntravitrealContext::iLeftBatchNumber()
    Then I choose Left Injection Given By "1"                                                                                                      # IntravitrealContext::LeftInjectionGivenBy()
    And I enter a Left Injection time of "09:30"                                                                                                   # IntravitrealContext::iEnterALeftInjectionTimeOf()
    Then I choose A Right Lens Status of "1"                                                                                                       # IntravitrealContext::RightLensStatusOf()
    And I choose Right Counting Fingers Checked Yes                                                                                                # IntravitrealContext::RightCountingFingersCheckedYes()
    And I choose Right Counting Fingers Checked No                                                                                                 # IntravitrealContext::RightCountingFingersCheckedNo()
    And I choose Right IOP Needs to be Checked Yes                                                                                                 # IntravitrealContext::RightIopNeedsToBeCheckedYes()
    And I choose Right IOP Needs to be Checked No                                                                                                  # IntravitrealContext::RightIopNeedsToBeCheckedNo()
    Then I choose Right Post Injection Drops "1"                                                                                                   # IntravitrealContext::RightPostInjectionDrops()
    Then I choose A Left Lens Status of "1"                                                                                                        # IntravitrealContext::iChooseALeftLensStatusOf()
    And I choose Left Counting Fingers Checked Yes                                                                                                 # IntravitrealContext::LeftCountingFingersCheckedYes()
    And I choose Left Counting Fingers Checked No                                                                                                  # IntravitrealContext::LeftCountingFingersCheckedNo()
    And I choose Left IOP Needs to be Checked Yes                                                                                                  # IntravitrealContext::LeftIopNeedsToBeCheckedYes()
    And I choose Left IOP Needs to be Checked No                                                                                                   # IntravitrealContext::LeftIopNeedsToBeCheckedNo()
    Then I choose Left Post Injection Drops "1"                                                                                                    # IntravitrealContext::iChooseLeftPostInjectionDrops()
    And I select Right Complications "5"                                                                                                           # IntravitrealContext::RightComplications()
    And I select Left Complications "5"                                                                                                            # IntravitrealContext::LeftComplications()
    Then I Save the Intravitreal injection                                                                                                         # IntravitrealContext::iSaveTheIntravitrealInjection()

    Examples:
      | environment | site | username | password | hospnumber | nhs        | last    | first  | EventType    |
      | master      | 1    | admin    | admin    | 1009465    | 8821388753 | Coffin, | Violet | Intravitreal |
        [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login

Feature: Create New Anaesthetic Satisfaction Audit
  In order to cover every possible route throughout the site
  As an automation tester
  I want to build a template with supporting code for each web page

  Scenario Outline: Login and create a Anaesthetic Satisfaction Audit                                                                              # features/bootstrap/Features/Templates/Laser.feature:7
    Given I am on the OpenEyes "<environment>" homepage                                                                                            # FeatureContext::iAmOnTheOpeneyesHomepage()
    And I enter login credentials "<username>" and "<password>"                                                                                    # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "<hospnumber>"                                                                                               # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                             # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "<EventType>"                                                                                                            # AddingNewEventContext::iAddANewEvent()
    Then I select a Laser site ID "<LaserSite>"                                                                                                    # LaserContext::iSelectALaserSiteId()
    And I select a Laser of "<Laser>"                                                                                                              # LaserContext::iSelectALaserOf()
    And I select a Laser Operator of "<Surgeon>"                                                                                                   # LaserContext::iSelectALaserSurgeonOf()
    Then I select a Right Procedure of "62"                                                                                                        # LaserContext::iSelectARightProcedureOf()
    Then I select a Left Procedure of "363"                                                                                                        # LaserContext::iSelectALeftProcedureOf()

    Examples:
      | environment | site | username | password | hospnumber | nhs        | last    | first  | EventType | LaserSite | Laser | Surgeon |
      | master      | 1    | admin    | admin    | 1009465    | 8821388753 | Coffin, | Violet | Laser     | 2m        | 3     | 111     |
        [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login

Feature: Create New Operation Booking Event
  In order to cover every possible route throughout the site
  As an automation tester
  I want to build a template with supporting code for each web page

  Scenario Outline: Login and create a Operation Booking                                                                                           # features/bootstrap/Features/Templates/OperationBooking.feature:7
    Given I am on the OpenEyes "<environment>" homepage                                                                                            # FeatureContext::iAmOnTheOpeneyesHomepage()
    And I enter login credentials "<username>" and "<password>"                                                                                    # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "<hospnumber>"                                                                                               # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                             # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "<EventType>"                                                                                                            # AddingNewEventContext::iAddANewEvent()
    Then I select Diagnosis Eyes of "Left"                                                                                                         # OperationBookingContext::iSelectDiagnosisEyesOf()
    And I select a Diagnosis of "30041005"                                                                                                         # OperationBookingContext::iSelectADiagnosisOf()
    Then I select Operation Eyes of "Left"                                                                                                         # OperationBookingContext::iSelectOperationEyesOf()
    And I select a Procedure of "41"                                                                                                               # OperationBookingContext::iSelectAProcedureOf()
    Then I select No to Consultant required                                                                                                        # OperationBookingContext::iSelectNoToConsultantRequired()
    And I select a Anaesthetic type "<AnaType>"                                                                                                    # OperationBookingContext::iSelectAAnaestheticType()
    Then I select Yes to a Post Operative Stay                                                                                                     # OperationBookingContext::iSelectYesToAPostOperativeStay()
    Then I select No to a Post Operative Stay                                                                                                      # OperationBookingContext::iSelectNoToAPostOperativeStay()
    And I select a Operation Site of "1"                                                                                                           # OperationBookingContext::iSelectAOperationSiteOf()
    Then I select a Priority of Urgent                                                                                                             # OperationBookingContext::iSelectAPriorityOfUrgent()
    And I select a decision date of "14"                                                                                                           # OperationBookingContext::iSelectADecisionDateOf()
    Then I select Save and Schedule now                                                                                                            # OperationBookingContext::iSelectSaveAndScheduleNow()
    Then I change the Viewing Schedule to Emergency List                                                                                           # OperationBookingContext::iChangeTheViewingScheduleToEmergencyList()
    And I select an Available theatre slot date                                                                                                    # OperationBookingContext::iSelectAnAvailableTheatreSlotDate()
    And I select an Available session time                                                                                                         # OperationBookingContext::iSelectAnAvailableSessionTime()
    Then I confirm the operation slot                                                                                                              # OperationBookingContext::iConfirmTheOperationSlot()

    Examples:
      | environment | site | username | password | hospnumber | nhs        | last    | first  | EventType | DiagEyes | Diagnosis | OpEyes | Procedure | AnaType |
      | master      | 1    | admin    | admin    | 1009465    | 8821388753 | Coffin, | Violet | OpBooking | Both     | 95717004  | Both   | 41        | Topical |
        [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login

Feature: Create New Operation Note TEMPLATE
  Regression coverage of this event is approx TBC%

  Scenario: Route 1: Login and create a Operation Note Event                                                                                       # features/bootstrap/Features/Templates/OperationNote.feature:5
            Site 2: Kings
            Firm 3: Anderson Glaucoma
    Given I am on the OpenEyes "master" homepage                                                                                                   # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                              # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                                    # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                             # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "OpNote"                                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then I select an Emergency Operation Note                                                                                                      # OperationNoteContext::iSelectAnEmergencyOperationNote()
    And I select Create Operation Note                                                                                                             # OperationNoteContext::iSelectCreateOperationNote()
    Then I select Procedure Right Eye                                                                                                              # OperationNoteContext::iSelectProcedureRightEye()
    Then I select Procedure Left Eye                                                                                                               # OperationNoteContext::iSelectProcedureLeftEye()
    And I select a common Procedure of "41"                                                                                                        # OperationNoteContext::iSelectACommonProcedureOf()
    Then I choose Anaesthetic Type of Topical                                                                                                      # OperationNoteContext::iChooseAnaestheticTypeOfTopical()
    Then I choose Anaesthetic Type of LA                                                                                                           # OperationNoteContext::iChooseAnaestheticTypeOfLa()
    Then I choose Anaesthetic Type of LAC                                                                                                          # OperationNoteContext::iChooseAnaestheticTypeOfLac()
    Then I choose Anaesthetic Type of LAS                                                                                                          # OperationNoteContext::iChooseAnaestheticTypeOfLas()
    Then I choose Anaesthetic Type of GA                                                                                                           # OperationNoteContext::iChooseAnaestheticTypeOfGa()
    And I choose Given by Anaesthetist                                                                                                             # OperationNoteContext::iChooseGivenByAnaesthetist()
    And I choose Given by Surgeon                                                                                                                  # OperationNoteContext::iChooseGivenBySurgeon()
    And I choose Given by Nurse                                                                                                                    # OperationNoteContext::iChooseGivenByNurse()
    And I choose Given by Anaesthetist Tehnician                                                                                                   # OperationNoteContext::iChooseGivenByAnaesthetistTehnician()
    And I choose Given by Other                                                                                                                    # OperationNoteContext::iChooseGivenByOther()
    Then I choose Delivery by Retrobulbar                                                                                                          # OperationNoteContext::iChooseDeliveryByRetrobulbar()
    Then I choose Delivery by Peribulbar                                                                                                           # OperationNoteContext::iChooseDeliveryByPeribulbar()
    Then I choose Delivery by Subtenons                                                                                                            # OperationNoteContext::iChooseDeliveryBySubtenons()
    Then I choose Delivery by Subconjunctival                                                                                                      # OperationNoteContext::iChooseDeliveryBySubconjunctival()
    Then I choose Delivery by Topical                                                                                                              # OperationNoteContext::iChooseDeliveryByTopical()
    Then I choose Delivery by Topical & Intracameral                                                                                               # OperationNoteContext::iChooseDeliveryByTopicalIntracameral()
    Then I choose Delivery by Other                                                                                                                # OperationNoteContext::iChooseDeliveryByOther()
    Then I choose an Anaesthetic Agent of "1"                                                                                                      # OperationNoteContext::iChooseAnAnaestheticAgentOf()
    Then I choose a Complication of "1"                                                                                                            # OperationNoteContext::iChooseAComplicationOf()
    And I add Anaesthetic comments of "Test comments"                                                                                              # OperationNoteContext::iAddAnaestheticCommentsOf()
    Then I choose a Surgeon of "2"                                                                                                                 # OperationNoteContext::iChooseASurgeonOf()
    And I choose a Supervising Surgeon of "3"                                                                                                      # OperationNoteContext::iChooseASupervisingSurgeonOf()
    Then I choose an Assistant of "3"                                                                                                              # OperationNoteContext::iChooseAnAssistantOf()
    Then I choose Per Operative Drugs of "1"                                                                                                       # OperationNoteContext::iChoosePerOperativeDrugsOf()
    And I choose Operation comments of "Test Comments"                                                                                             # OperationNoteContext::iChooseOperationCommentsOf()
    Then I choose Post Op instructions of "1"                                                                                                      # OperationNoteContext::iChoosePostOpInstructionsOf()
    Then I save the Operation Note                                                                                                                 # OperationNoteContext::iSaveTheOperationNote()

Feature: Open Eyes Login and Patient Diagnosis Screen Template
  In order to cover every possible route throughout the site
  As an automation tester
  I want to build a template with supporting code for each web page

  Scenario Outline: Login and add Opthamlmic Diagnosis, Systemic Diagnosis, CVI, Medication and other Allergies                                    # features/bootstrap/Features/Templates/PatientViewNewDiagnosis.feature:7
    Given I am on the OpenEyes "<environment>" homepage                                                                                            # FeatureContext::iAmOnTheOpeneyesHomepage()
    And I enter login credentials "admin" and "admin"                                                                                              # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "<hospnumber>"                                                                                               # HomepageContext::SearchForHospitalNumber()
    Then I Add an Ophthalmic Diagnosis selection of "<OphtDiagnosis>"                                                                              # PatientViewContext::addOpthalmicDiagnosis()
    And I select that it affects eye "<eye>"                                                                                                       # PatientViewContext::SelectThatItAffectsEye()
    And I select a Opthalmic Diagnosis date of day "<day>" month "<month>" year "<year>"                                                           # PatientViewContext::OpthalmicDiagnosis()
    Then I save the new Opthalmic Diagnosis                                                                                                        # PatientViewContext::SaveTheNewOpthalmicDiagnosis()
    Then I Add an Systemic Diagnosis selection of "<SystDiagnosis>"                                                                                # PatientViewContext::SystemicDiagnosisSelection()
    And I select that it affects Systemic side "<side>"                                                                                            # PatientViewContext::systemicSide()
    And I select a Systemic Diagnosis date of day "<day>" month "<month>" year "<year>"                                                            # PatientViewContext::SystemicDiagnosisDate()
    Then I save the new Systemic Diagnosis                                                                                                         # PatientViewContext::SaveTheNewSystemicDiagnosis()
    Then I Add a Previous Operation of "1"                                                                                                         # PatientViewContext::iAddAPreviousOperationOf()
    And I select that it affects Operation side "<side>"                                                                                           # PatientViewContext::SelectThatItAffectsOperationSide()
    And I select a Previous Operation date of day "<day>" month "<month>" year "<year>"                                                            # PatientViewContext::PreviousOperationDate()
    Then I save the new Previous Operation                                                                                                         # PatientViewContext::iSaveTheNewPreviousOperation()
    Then I edit the CVI Status "4"                                                                                                                 # PatientViewContext::iEditTheCviStatus()
    And I select a CVI Status date of day "<day>" month "<month>" year "<year>"                                                                    # PatientViewContext::iSelectACviStatusDateOfDayMonthYear()
    Then I save the new CVI status                                                                                                                 # PatientViewContext::iSaveTheNewCviStatus()
    Then I confirm the patient has no allergies and Save                                                                                           # PatientViewContext::iConfirmThePatientHasNoAllergies()
    And I Add a Family History of relative "1" side "3" condition "1" and comments "Family History Comments" and Save                              # PatientViewContext::FamilyHistory()

    Examples:
      | environment | hospnumber | nhs        | last    | first  | OphtDiagnosis | eye  | day | month | year | SystDiagnosis | side |
      | master      | 1009465    | 8821388753 | Coffin, | Violet | 193570009     | Both | 18  | 6     | 2012 | 195967001     | Left |
        [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login

Feature: Create New Phasing Event
  In order to cover every possible route throughout the site
  As an automation tester
  I want to build a template with supporting code for each web page

  Scenario Outline: Login and create a Phasing Event                                                                                               # features/bootstrap/Features/Templates/Phasing.feature:7
    Given I am on the OpenEyes "<environment>" homepage                                                                                            # FeatureContext::iAmOnTheOpeneyesHomepage()
    And I enter login credentials "<username>" and "<password>"                                                                                    # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "<hospnumber>"                                                                                               # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                             # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "<EventType>"                                                                                                            # AddingNewEventContext::iAddANewEvent()
    Then I choose a right eye Intraocular Pressure Instrument  of "1"                                                                              # PhasingContext::RightEyeIntraocular()
    Then I choose a right eye Intraocular Pressure Instrument  of "2"                                                                              # PhasingContext::RightEyeIntraocular()
    Then I choose a right eye Intraocular Pressure Instrument  of "3"                                                                              # PhasingContext::RightEyeIntraocular()
    Then I choose a right eye Intraocular Pressure Instrument  of "5"                                                                              # PhasingContext::RightEyeIntraocular()
    Then I choose a right eye Intraocular Pressure Instrument  of "4"                                                                              # PhasingContext::RightEyeIntraocular()
    And I choose right eye Dilation of Yes                                                                                                         # PhasingContext::iChooseRightEyeDilationYes()
    Then I choose a right eye Intraocular Pressure Reading Time of "14:00"                                                                         # PhasingContext::iChooseARightEyeIntraocularPressureReadingTimeOf()
    Then I choose a right eye Intraocular Pressure Reading of "5"                                                                                  # PhasingContext::iChooseARightEyeIntraocularPressureReadingOf()
    And I add right eye comments of "Right eye comments here"                                                                                      # PhasingContext::iAddRightEyeCommentsOf()
    Then I choose a left eye Intraocular Pressure Instrument  of "1"                                                                               # PhasingContext::iChooseALeftEyeIntraocularPressureInstrumentOf()
    Then I choose a right eye Intraocular Pressure Instrument  of "2"                                                                              # PhasingContext::RightEyeIntraocular()
    Then I choose a right eye Intraocular Pressure Instrument  of "3"                                                                              # PhasingContext::RightEyeIntraocular()
    Then I choose a right eye Intraocular Pressure Instrument  of "5"                                                                              # PhasingContext::RightEyeIntraocular()
    Then I choose a right eye Intraocular Pressure Instrument  of "4"                                                                              # PhasingContext::RightEyeIntraocular()
    And I choose left eye Dilation of Yes                                                                                                          # PhasingContext::iChooseLeftEyeDilationYes()
    Then I choose a left eye Intraocular Pressure Reading Time of "14:42"                                                                          # PhasingContext::iChooseALeftEyeIntraocularPressureReadingTimeOf()
    Then I choose a left eye Intraocular Pressure Reading of "7"                                                                                   # PhasingContext::iChooseALeftEyeIntraocularPressureReadingOf()
    And I add left eye comments of "Left eye comments here"                                                                                        # PhasingContext::iAddLeftEyeCommentsOf()
    Then I Save the Phasing Event                                                                                                                  # PhasingContext::iSaveThePhasingEvent()

    Examples:
      | environment | site | username | password | hospnumber | nhs        | last    | first  | EventType |
      | master      | 1    | admin    | admin    | 1009465    | 8821388753 | Coffin, | Violet | Phasing   |
        [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login

Feature: Create New Prescription
  In order to cover every possible route throughout the site
  As an automation tester
  I want to build a template with supporting code for each web page

  Scenario Outline: Login and create a new Prescription                                                                                            # features/bootstrap/Features/Templates/Prescription.feature:7
    Given I am on the OpenEyes "<environment>" homepage                                                                                            # FeatureContext::iAmOnTheOpeneyesHomepage()
    And I enter login credentials "<username>" and "<password>"                                                                                    # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "<hospnumber>"                                                                                               # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                             # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "<EventType>"                                                                                                            # AddingNewEventContext::iAddANewEvent()
    Then I select a Common Drug "75"                                                                                                               # PrescriptionContext::iSelectACommonDrug()
    Then I enter a Dose of "2" drops                                                                                                               # PrescriptionContext::iEnterADoseOfDrops()
    And I enter a route of "1"                                                                                                                     # PrescriptionContext::iEnterARouteOf()
    And I enter a frequency of "4"                                                                                                                 # PrescriptionContext::iEnterAFrequencyOf()
    Then I enter a duration of "1"                                                                                                                 # PrescriptionContext::iEnterADurationOf()
    Then I enter a eyes option "1"                                                                                                                 # PrescriptionContext::iEnterAEyesOption()
    Then I Save the Prescription Draft                                                                                                             # PrescriptionContext::iSaveThePrescription()

    Examples:
      | environment | site | username | password | hospnumber | nhs        | last    | first  | EventType    |
      | master      | 1    | admin    | admin    | 1009465    | 8821388753 | Coffin, | Violet | Prescription |
        [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login

Feature: Create New Correspondence using Support Firm
  In order to cover every possible route throughout the site
  As an automation tester
  I want to build a template with supporting code for each web page

  Scenario: Login and create a new Correspondence                                                                                                  # features/bootstrap/Features/Templates/SupportFirmRegression.feature:7
    Given I am on the OpenEyes "master" homepage                                                                                                   # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                              # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "5"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number " 1009465 "                                                                                                  # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Support Firm sidebar                                                                                                         # AddingNewEventContext::iExpandTheSupportFirmSidebar()
    And I add a New Event "Correspondence"                                                                                                         # AddingNewEventContext::iAddANewEvent()
    Then I select Site ID "2"                                                                                                                      # CorrespondenceContext::iSelectSiteId()
    And I select Address Target "Gp1"                                                                                                              # CorrespondenceContext::iSelectAddressTarget()
    Then I choose a Macro of "site1"                                                                                                               # CorrespondenceContext::iChooseAMacroOf()
    And I select Clinic Date "7"                                                                                                                   # CorrespondenceContext::iSelectClinicDate()
    Then I choose an Introduction of "site21"                                                                                                      # CorrespondenceContext::iChooseAnIntroductionOf()
    And I add Findings of "examination334"                                                                                                         # CorrespondenceContext::iAddFindingsOf()
    And I choose a Diagnosis of "site541"                                                                                                          # CorrespondenceContext::iChooseADiagnosisOf()
    Then I choose a Management of "site181"                                                                                                        # CorrespondenceContext::iChooseAManagementOf()
    And I choose Drugs "site301"                                                                                                                   # CorrespondenceContext::iChooseDrugs()
    Then I choose Outcome "site341"                                                                                                                # CorrespondenceContext::iChooseOutcome()
    And I choose CC Target "patient"                                                                                                               # CorrespondenceContext::iChooseCcTarget()
    And I add a New Enclosure
    Then I Save the Correspondence Draft                                                                                                           # CorrespondenceContext::iSaveTheCorrespondenceDraft()

  Scenario: Login with Support Firm and add Opthamlmic Diagnosis, Systemic Diagnosis, CVI, Medication and other Allergies                          # features/bootstrap/Features/Templates/SupportFirmRegression.feature:41
    Given I am on the OpenEyes "master" homepage                                                                                                   # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                              # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "5"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number " 1009465 "                                                                                                  # HomepageContext::SearchForHospitalNumber()
    Then I Add an Systemic Diagnosis selection of "195967001"                                                                                      # PatientViewContext::SystemicDiagnosisSelection()
    And I select that it affects Systemic side "Both"                                                                                              # PatientViewContext::systemicSide()
    And I select a Systemic Diagnosis date of day "18" month "6" year "2012"                                                                       # PatientViewContext::SystemicDiagnosisDate()
    Then I save the new Systemic Diagnosis                                                                                                         # PatientViewContext::SaveTheNewSystemicDiagnosis()
    Then I Add a Previous Operation of "1"                                                                                                         # PatientViewContext::iAddAPreviousOperationOf()
    And I select that it affects Operation side "Both"                                                                                             # PatientViewContext::SelectThatItAffectsOperationSide()
    And I select a Previous Operation date of day "18" month "6" year "2012"                                                                       # PatientViewContext::PreviousOperationDate()
    Then I save the new Previous Operation                                                                                                         # PatientViewContext::iSaveTheNewPreviousOperation()
    And I Add Medication details medication "3" route "2" frequency "8" date from "1" and Save                                                     # PatientViewContext::iAddMedicationDetails()
    Then I edit the CVI Status "4"                                                                                                                 # PatientViewContext::iEditTheCviStatus()
    And I select a CVI Status date of day "18" month "6" year "2012"                                                                               # PatientViewContext::iSelectACviStatusDateOfDayMonthYear()
    Then I save the new CVI status                                                                                                                 # PatientViewContext::iSaveTheNewCviStatus()
    Then I Remove existing Allergy                                                                                                                 # PatientViewContext::removeAllergy()
    Then I Add Allergy "5" and Save                                                                                                                # PatientViewContext::iAddAllergy()
    And I Add a Family History of relative "1" side "3" condition "1" and comments "Family History Comments" and Save                              # PatientViewContext::FamilyHistory()

@code
Feature: Create New Anaesthetic Satisfaction Audit
  In order to cover every possible route throughout the site
  As an automation tester
  I want to build a template with supporting code for each web page

  Scenario Outline: Login and create a new Therapy Application                                                                                     # features/bootstrap/Features/Templates/TherapyApplication.feature:7
    Given I am on the OpenEyes "<environment>" homepage                                                                                            # FeatureContext::iAmOnTheOpeneyesHomepage()
    And I enter login credentials "<username>" and "<password>"                                                                                    # LoginContext::iEnterLoginCredentials()
    And I select Site "2"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "4"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "<hospnumber>"                                                                                               # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Medical Retinal sidebar                                                                                                      # AddingNewEventContext::iExpandTheMedicalRetinalSidebar()
    And I add a New Event "<EventType>"                                                                                                            # AddingNewEventContext::iAddANewEvent()
    And I select a Right Side Diagnosis of "75971007"                                                                                              # TherapyApplicationContext::iSelectARightSideDiagnosisOf()
    Then I select a Right Secondary To of "267718000"                                                                                              # TherapyApplicationContext::iSelectARightSecondaryToOf()
    And I select a Left Side Diagnosis of "75971007"                                                                                               # TherapyApplicationContext::iSelectALeftSideDiagnosisOf()
    Then I select a Left Secondary To of "267718000"                                                                                               # TherapyApplicationContext::iSelectALeftSecondaryToOf()
    Then I select a Right Treatment of "1"                                                                                                         # TherapyApplicationContext::iSelectARightTreatmentOf()
    Then I select a Left Treatment of "1"                                                                                                          # TherapyApplicationContext::iSelectALeftTreatmentOf()
    Then I select Right Cerebrovascular accident Yes                                                                                               # TherapyApplicationContext::iSelectCerebrovascularAccidentYes()
    Then I select Right Cerebrovascular accident No                                                                                                # TherapyApplicationContext::iSelectCerebrovascularAccidentNo()
    Then I select Right Ischaemic attack Yes                                                                                                       # TherapyApplicationContext::iSelectIschaemicAttackYes()
    Then I select Right Ischaemic attack No                                                                                                        # TherapyApplicationContext::iSelectIschaemicAttackNo()
    Then I select Right Myocardial infarction Yes                                                                                                  # TherapyApplicationContext::iSelectMyocardialInfarctionYes()
    Then I select Right Myocardial infarction No                                                                                                   # TherapyApplicationContext::iSelectMyocardialInfarctionNo()
    And I select a Right Consultant of "4"
    Then I select a Right Standard Intervention Exists of Yes                                                                                      # TherapyApplicationContext::iSelectAStandardInterventionExistsOfYes()
    And I choose a Right Standard Intervention of "1"                                                                                              # TherapyApplicationContext::iChooseAStandardInterventionOf()
    And I select a Right Standard Intervention Previous of Yes                                                                                     # TherapyApplicationContext::iSelectAStandardInterventionPreviousOfYes()
    Then I select Right Instead of the standard (Deviation)                                                                                        # TherapyApplicationContext::iSelectInsteadOfTheStandardDeviation()
    And I add Right details of deviation of "Deviation Details Comment box"                                                                        # TherapyApplicationContext::iAddDetailsOfDeviationOf()
    Then I choose a Right reason for not using standard intervention of "1"                                                                        # TherapyApplicationContext::iChooseAReasonForNotUsingStandardInterventionOf()
    Then I add Right How is the patient different to others of "How is the patient significantly different to others comments?"                    # TherapyApplicationContext::iAddHowIsThePatientDifferentToOthersOf()
    And I add Right How is the patient likely to gain benefit "How is the patient likely to gain more benefit than otherwise comments?"            # TherapyApplicationContext::iAddHowIsThePatientLikelyToGainBenefit()
    Then I select Right Patient Factors Yes                                                                                                        # TherapyApplicationContext::iSelectPatientFactorsYes()
    Then I add Right Patient Factor Details of "Patient Factor Details comments"                                                                   # TherapyApplicationContext::iAddPatientFactorDetailsOf()
    And I add Right Patient Expectations of "Patient Expectations comments"                                                                        # TherapyApplicationContext::iAddPatientExpectationsOf()
    Then I add Right Anticipated Start Date of "5"                                                                                                 # TherapyApplicationContext::iAddAnticipatedStartDateOf()
    Then I select a Left Standard Intervention Exists of Yes                                                                                       # TherapyApplicationContext::iSelectALeftStandardInterventionExistsOfYes()
    And I choose a Left Standard Intervention of "1"                                                                                               # TherapyApplicationContext::iChooseALeftStandardInterventionOf()
    And I select a Left Standard Intervention Previous of Yes                                                                                      # TherapyApplicationContext::iSelectALeftStandardInterventionPreviousOfYes()
    Then I select Left Instead of the standard (Deviation)                                                                                         # TherapyApplicationContext::iSelectLeftInsteadOfTheStandardDeviation()
    And I add Left details of deviation of "Deviation Details Comment box"                                                                         # TherapyApplicationContext::iAddLeftDetailsOfDeviationOf()
    Then I choose a Left reason for not using standard intervention of "1"                                                                         # TherapyApplicationContext::iChooseALeftReasonForNotUsingStandardInterventionOf()
    Then I add Left How is the patient different to others of "How is the patient significantly different to others comments?"                     # TherapyApplicationContext::iAddLeftHowIsThePatientDifferentToOthersOf()
    And I add Left How is the patient likely to gain benefit "How is the patient likely to gain more benefit than otherwise comments?"             # TherapyApplicationContext::iAddLeftHowIsThePatientLikelyToGainBenefit()
    Then I select Left Patient Factors Yes                                                                                                         # TherapyApplicationContext::iSelectLeftPatientFactorsYes()
    Then I add Left Patient Factor Details of "Patient Factor Details comments"                                                                    # TherapyApplicationContext::iAddLeftPatientFactorDetailsOf()
    And I add Left Patient Expectations of "Patient Expectations comments"                                                                         # TherapyApplicationContext::iAddLeftPatientExpectationsOf()
    Then I add Left Anticipated Start Date of "5"                                                                                                  # TherapyApplicationContext::iAddLeftAnticipatedStartDateOf()
    Then I Save the Therapy Application

    Examples:
      | environment | site | username | password | hospnumber | nhs        | last    | first  | EventType |
      | master      | 1    | admin    | admin    | 1009465    | 8821388753 | Coffin, | Violet | Therapy   |
        [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login

@scenario @regression
Feature: Open Eyes Login and Patient Diagnosis Screen Template
  In order to cover every possible route throughout the site
  As an automation tester
  I want to build a template with supporting code for each web page

  Scenario: Route 1A: Login and add an Allergy on Patient View Page for subsequent tests                                                           # features/bootstrap/Features/scenarios.feature:7
    Given I am on the OpenEyes "master" homepage                                                                                                   # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                              # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                                    # HomepageContext::SearchForHospitalNumber()
    Then I Add an Ophthalmic Diagnosis selection of "193570009"                                                                                    # PatientViewContext::addOpthalmicDiagnosis()
    And I select that it affects eye "Left"                                                                                                        # PatientViewContext::SelectThatItAffectsEye()
    And I select a Opthalmic Diagnosis date of day "18" month "6" year "2012"                                                                      # PatientViewContext::OpthalmicDiagnosis()
    Then I save the new Opthalmic Diagnosis                                                                                                        # PatientViewContext::SaveTheNewOpthalmicDiagnosis()
    Then I Add an Systemic Diagnosis selection of "195967001"                                                                                      # PatientViewContext::SystemicDiagnosisSelection()
    And I select that it affects Systemic side "Left"                                                                                              # PatientViewContext::systemicSide()
    And I select a Systemic Diagnosis date of day "18" month "6" year "2012"                                                                       # PatientViewContext::SystemicDiagnosisDate()
    Then I save the new Systemic Diagnosis                                                                                                         # PatientViewContext::SaveTheNewSystemicDiagnosis()
    Then I Add a Previous Operation of "1"                                                                                                         # PatientViewContext::iAddAPreviousOperationOf()
    And I select that it affects Operation side "Left"                                                                                             # PatientViewContext::SelectThatItAffectsOperationSide()
    And I select a Previous Operation date of day "9" month "9" year "2012"                                                                        # PatientViewContext::PreviousOperationDate()
    Then I save the new Previous Operation                                                                                                         # PatientViewContext::iSaveTheNewPreviousOperation()
    Then I edit the CVI Status "4"                                                                                                                 # PatientViewContext::iEditTheCviStatus()
    And I select a CVI Status date of day "18" month "6" year "2012"                                                                               # PatientViewContext::iSelectACviStatusDateOfDayMonthYear()
    Then I save the new CVI status                                                                                                                 # PatientViewContext::iSaveTheNewCviStatus()
    Then I Remove existing Allergy                                                                                                                 # PatientViewContext::removeAllergy()
    Then I Add Allergy "5" and Save                                                                                                                # PatientViewContext::iAddAllergy()
    And I Add a Family History of relative "1" side "3" condition "1" and comments "Family History Comments" and Save                              # PatientViewContext::FamilyHistory()

  Scenario: Route 1B: Check Allergy warning on Intravitreal                                                                                        # features/bootstrap/Features/scenarios.feature:41
    Given I am on the OpenEyes "master" homepage                                                                                                   # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                              # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                                    # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                             # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Intravitreal"                                                                                                           # AddingNewEventContext::iAddANewEvent()
    Then a check is made that the Allergy "Tetracycline" warning is displayed                                                                      # IntravitrealContext::aCheckIsMadeThatTheAllergyWarningIsDisplayed()

  Scenario: Route 1C: Check Allergy warning on Prescription                                                                                        # features/bootstrap/Features/scenarios.feature:57
    Given I am on the OpenEyes "master" homepage                                                                                                   # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                              # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                                    # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                             # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "Prescription"                                                                                                           # AddingNewEventContext::iAddANewEvent()
    Then a check is made that the Allergy "Tetracycline" warning is displayed                                                                      # IntravitrealContext::aCheckIsMadeThatTheAllergyWarningIsDisplayed()

  Scenario: Route 1D: Check Allergy warning on Op Note                                                                                             # features/bootstrap/Features/scenarios.feature:73
    Given I am on the OpenEyes "master" homepage                                                                                                   # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                              # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "1"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                                    # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Cataract sidebar                                                                                                             # AddingNewEventContext::iExpandTheCataractSidebar()
    And I add a New Event "OpNote"                                                                                                                 # AddingNewEventContext::iAddANewEvent()
    Then a check is made that the Allergy "Tetracycline" warning is displayed                                                                      # IntravitrealContext::aCheckIsMadeThatTheAllergyWarningIsDisplayed()

  Scenario: Route 2A: Login and create a new Examination Event                                                                                     # features/bootstrap/Features/scenarios.feature:89
            Create a Correspondence event including Findings from the Examination
    Given I am on the OpenEyes "master" homepage                                                                                                   # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                              # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                                    # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                             # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Examination"                                                                                                            # AddingNewEventContext::iAddANewEvent()
    Then I select a History of Blurred Vision, Mild Severity, Onset 1 Week, Left Eye, 1 Week                                                       # ExaminationContext::iSelectAHistoryOfBlurredVision()
    And I choose to expand the Comorbidities section                                                                                               # ExaminationContext::iChooseToExpandTheComorbiditiesSection()
    Then I Add a Comorbiditiy of "1"                                                                                                               # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "2"                                                                                                               # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "3"                                                                                                               # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "4"                                                                                                               # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "5"                                                                                                               # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "6"                                                                                                               # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "7"                                                                                                               # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "8"                                                                                                               # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "9"                                                                                                               # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "10"                                                                                                              # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "11"                                                                                                              # ExaminationContext::iAddAComorbiditiyOf()
    Then I Add a Comorbiditiy of "12"                                                                                                              # ExaminationContext::iAddAComorbiditiyOf()
    Then I remove all comorbidities                                                                                                                # ExaminationContext::removeComorbidties()
    Then I choose to expand the Refraction section                                                                                                 # ExaminationContext::iChooseToExpandTheRefractionSection()
    Then I enter left Refraction details of Sphere "1" integer "6" fraction "0.75"                                                                 # ExaminationContext::LeftRefractionDetails()
    And I enter left cylinder details of of Cylinder "-1" integer "7" fraction "0.75"                                                              # ExaminationContext::iEnterLeftCylinderDetails()
    Then I enter left Axis degrees of "145"                                                                                                        # ExaminationContext::iEnterLeftAxisDegreesOf()
    And I enter a left type of "5"                                                                                                                 # ExaminationContext::iEnterALeftTypeOf()
    Then I enter right Refraction details of Sphere "-1" integer "9" fraction "0.75"                                                               # ExaminationContext::iEnterRightRefractionDetailsOfSphereIntegerFraction()
    And I enter right cylinder details of of Cylinder "1" integer "5" fraction "0"                                                                 # ExaminationContext::iEnterRightCylinderDetailsOfOfCylinderIntegerFraction()
    Then I enter right Axis degrees of "38"                                                                                                        # ExaminationContext::iEnterRightAxisDegreesOf()
    And I enter a right type of "3"                                                                                                                # ExaminationContext::iEnterARightTypeOf()
    Then I choose to expand the Visual Function section                                                                                            # ExaminationContext::iChooseToExpandTheVisualFunctionSection()
    Then I select a Left RAPD                                                                                                                      # ExaminationContext::iSelectALeftRapd()
    And I add Left RAPD comments of "Left RAPD Automation test comments"                                                                           # ExaminationContext::iAddLeftRapdCommentsOf()
    Then I select a Right RAPD                                                                                                                     # ExaminationContext::iSelectARightRapd()
    And I add Right RAPD comments of "Left RAPD Automation test comments"                                                                          # ExaminationContext::iAddRightRapdCommentsOf()
    Then I choose to expand the Colour Vision section                                                                                              # ExaminationContext::iChooseToExpandTheColourVisionSection()
    And I choose a Left Colour Vision of "1"                                                                                                       # ExaminationContext::iChooseALeftColourVisionOf()
    And I choose A Left Colour Vision Value of "8"                                                                                                 # ExaminationContext::iChooseALeftColourVisionValueOf()
    And I choose a Right Colour Vision of "2"                                                                                                      # ExaminationContext::iChooseARightColourVisionOf()
    And I choose A Right Colour Vision Value of "4"                                                                                                # ExaminationContext::iChooseARightColourVisionValueOf()
    Then I choose to expand the Visual Acuity section                                                                                              # ExaminationContext::iChooseToExpandTheVisualAcuitySection()
    And I select a Visual Acuity of "2"                                                                                                            # ExaminationContext::iSelectAVisualAcuityOf()
    Then I choose a left Visual Acuity Snellen Metre "4" and a reading method of "5"                                                               # ExaminationContext::SnellenMetreAndAReading()
    Then I choose a right Visual Acuity Snellen Metre "4" and a reading method of "5"                                                              # ExaminationContext::RightVisualAcuitySnellenMetre()
    Then I choose to expand the Intraocular Pressure section                                                                                       # ExaminationContext::iChooseToExpandTheIntraocularPressureSection()
    Then I choose a left Intraocular Pressure of "19" and Instrument "2"                                                                           # ExaminationContext::iChooseALeftIntraocularPressureOfAndInstrument()
    Then I choose a right Intraocular Pressure of "29" and Instrument "2"                                                                          # ExaminationContext::iChooseARightIntraocularPressureOfAndInstrument()
    Then I choose to expand the Dilation section                                                                                                   # ExaminationContext::iChooseToExpandTheDilationSection()
    Then I choose left Dilation of "2" and drops of "5"                                                                                            # ExaminationContext::iChooseLeftDilationOfAndDropsOf()
    Then I choose right Dilation of "6" and drops of "3"                                                                                           # ExaminationContext::iChooseRightDilationOfAndDropsOf()
    Then I choose to remove left Dilation treatment                                                                                                # ExaminationContext::iChooseToRemoveLeftDilation()
    Then I Save the Examination and confirm it has been created successfully                                                                       # ExaminationContext::iSaveTheExaminationAndConfirm()
    Then a check is made that a left Axis degrees of "145" was entered                                                                             # ExaminationContext::aCheckIsMadeThatALeftAxisDegreesOfWasEntered()
    Then a check is made that a right Axis degrees of "38" was entered                                                                             # ExaminationContext::aCheckIsMadeThatARightAxisDegreesOfWasEntered()

  Scenario: 2B Login and fill in a Correspondence                                                                                                  # features/bootstrap/Features/scenarios.feature:175
    Given I am on the OpenEyes "master" homepage                                                                                                   # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                              # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                                    # HomepageContext::SearchForHospitalNumber()
    Then I select Create or View Episodes and Events                                                                                               # PatientViewContext::CreateOrViewEpisodesAndEvents()
    Then I expand the Glaucoma sidebar                                                                                                             # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Correspondence"                                                                                                         # AddingNewEventContext::iAddANewEvent()
    Then I select Site ID "1"                                                                                                                      # CorrespondenceContext::iSelectSiteId()
    And I select Address Target "Gp1"                                                                                                              # CorrespondenceContext::iSelectAddressTarget()
    Then I choose a Macro of "site1"                                                                                                               # CorrespondenceContext::iChooseAMacroOf()
    And I select Clinic Date "7"                                                                                                                   # CorrespondenceContext::iSelectClinicDate()
    Then I choose an Introduction of "site21"                                                                                                      # CorrespondenceContext::iChooseAnIntroductionOf()
    And I add Findings of "examination1"                                                                                                           # CorrespondenceContext::iAddFindingsOf()
    And I choose a Diagnosis of "site541"                                                                                                          # CorrespondenceContext::iChooseADiagnosisOf()
    Then I choose a Management of "site181"                                                                                                        # CorrespondenceContext::iChooseAManagementOf()
    And I choose Drugs "site301"                                                                                                                   # CorrespondenceContext::iChooseDrugs()
    Then I choose Outcome "site341"                                                                                                                # CorrespondenceContext::iChooseOutcome()
    And I choose CC Target "Patient19434"                                                                                                          # CorrespondenceContext::iChooseCcTarget()
    Given I add a New Enclosure of "Test Enclosure"                                                                                                # CorrespondenceContext::iAddANewEnclosure()
    Then I Save the Correspondence Draft and confirm it has been created successfully                                                              # CorrespondenceContext::iSaveTheCorrespondenceDraftAndConfirm()

  Scenario: 3B: Login and create a new Prescription. Check for Validation error upon Saving                                                        # features/bootstrap/Features/scenarios.feature:208
            Site 1:Queens
            Firm 3:Anderson Glaucoma
    Given I am on the OpenEyes "master" homepage                                                                                                   # FeatureContext::iAmOnTheOpeneyesHomepage()
      [curl] 7: Failed connect to localhost:80; Connection refused [url] http://localhost/site/login
    And I enter login credentials "admin" and "admin"                                                                                              # LoginContext::iEnterLoginCredentials()
    And I select Site "1"                                                                                                                          # HomepageContext::iSelectSite()
    Then I select a firm of "3"                                                                                                                    # HomepageContext::iselectAFirm()
    Then I search for hospital number "1009465"                                                                                                    # HomepageContext::SearchForHospitalNumber()
    Then I select the Latest Event                                                                                                                 # PatientViewContext::iSelectTheLatestEvent()
    Then I expand the Glaucoma sidebar                                                                                                             # AddingNewEventContext::iExpandTheGlaucomaSidebar()
    And I add a New Event "Prescription"                                                                                                           # AddingNewEventContext::iAddANewEvent()
    Then I Save the Prescription Draft                                                                                                             # PrescriptionContext::iSaveThePrescription()
    And I confirm the prescription validation error has been displayed                                                                             # PrescriptionContext::iConfirmThePrescriptionValidationErrorHasBeenDisplayed()

160 scenarios (160 failed)
3676 steps (3504 skipped, 12 undefined, 160 failed)
1m40.745s
rich-mac:OpenEyes pragnesh$ 
